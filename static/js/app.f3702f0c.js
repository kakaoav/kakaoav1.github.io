(function(e){function t(t){for(var r,n,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&d.push(s[n][0]),s[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);m&&m(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,n=1;n<a.length;n++){var o=a[n];0!==s[o]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=a[0]))}return e}var r={},n={app:0},s={app:0},i=[];function o(e){return c.p+"static/js/"+({"about~dashboard~video":"about~dashboard~video","about~video":"about~video",about:"about","dashboard~video":"dashboard~video",video:"video",dashboard:"dashboard",signin:"signin",signup:"signup",dashjs:"dashjs",hlsjs:"hlsjs",panolens:"panolens",vttjs:"vttjs",webvtt:"webvtt"}[e]||e)+"."+{"about~dashboard~video":"98de3d48","about~video":"de61c096",about:"f016d14b","dashboard~video":"35e94d80",video:"c2224bc9",dashboard:"d089244d",signin:"32d60140",signup:"ae911fcb",dashjs:"aaa7e601",hlsjs:"3af9d14d",panolens:"55796f1d",vttjs:"000dab39",webvtt:"c2fe4ad2"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"about~dashboard~video":1,"about~video":1,about:1,"dashboard~video":1,video:1,dashboard:1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise((function(t,a){for(var r="static/css/"+({"about~dashboard~video":"about~dashboard~video","about~video":"about~video",about:"about","dashboard~video":"dashboard~video",video:"video",dashboard:"dashboard",signin:"signin",signup:"signup",dashjs:"dashjs",hlsjs:"hlsjs",panolens:"panolens",vttjs:"vttjs",webvtt:"webvtt"}[e]||e)+"."+{"about~dashboard~video":"8689fec2","about~video":"df9d9a7c",about:"ff293fbd","dashboard~video":"76a50f3f",video:"bd12b3cc",dashboard:"095b1dce",signin:"31d6cfe0",signup:"31d6cfe0",dashjs:"31d6cfe0",hlsjs:"31d6cfe0",panolens:"31d6cfe0",vttjs:"31d6cfe0",webvtt:"31d6cfe0"}[e]+".css",s=c.p+r,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var l=i[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===r||u===s))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===r||u===s)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete n[e],m.parentNode.removeChild(m),a(i)},m.href=s;var v=document.getElementsByTagName("head")[0];v.appendChild(m)})).then((function(){n[e]=0})));var r=s[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,a){r=s[e]=[t,a]}));t.push(r[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(m);var a=s[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+n+")",d.name="ChunkLoadError",d.type=r,d.request=n,a[1](d)}s[e]=void 0}};var m=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(a,r,function(t){return e[t]}.bind(null,r));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var m=u;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0682":function(e,t,a){"use strict";a("b88d")},3366:function(e,t,a){},3678:function(e,t,a){"use strict";var r=a("3f4a");t["a"]={getAll:function(){return Object(r["a"])().get("categories")}}},"3f2e":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"",transition:"fab-transition","max-width":"1000"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("div",{staticClass:"d-flex justify-space-between mb-5",attrs:{id:"modal-header"}},[a("v-card-title",{staticClass:"py-3"},[e._v("Upload Video")]),a("div",{staticClass:"mt-3 mr-2"},[a("v-btn",{attrs:{text:""}},[e._v(" Upload With Classic ")]),a("v-btn",{attrs:{icon:"",text:""},on:{click:e.closeModal}},[a("v-icon",[e._v("mdi-close")])],1)],1)],1),e.uploaded?a("v-card-text",[a("h2",{staticClass:"mb-6"},[e._v("Details")]),a("v-row",[a("v-col",{attrs:{order:"last","order-sm":"last","order-md":"first","order-lg":"first","order-xl":"first",cols:"12",sm:"12",md:"8",lg:"8"}},[a("ValidationObserver",{ref:"form"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[a("ValidationProvider",{attrs:{name:"Title",rules:"required|min:3"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{staticClass:"mb-3",attrs:{"error-messages":r,label:"Title (required)",filled:"",dense:"",counter:"100","max-length":"100"},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})]}}])}),a("ValidationProvider",{attrs:{name:"Description",rules:"required|min:3"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-textarea",{attrs:{filled:"","auto-grow":"","error-messages":r,label:"Description",placeholder:"Tell viewers about your video",rows:"5",counter:"5000","max-length":"5000","row-height":"20"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})]}}])}),a("ValidationProvider",{attrs:{name:"Visibilty",rules:"required|min:3"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-select",{attrs:{items:e.visibilty,"error-messages":r,filled:"",label:"Visibilty"},model:{value:e.formData.visibilty,callback:function(t){e.$set(e.formData,"visibilty",t)},expression:"formData.visibilty"}})]}}])}),a("ValidationProvider",{attrs:{name:"Cateogry",rules:"required|min:3"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-select",{attrs:{items:e.categoriesTitles,"error-messages":r,filled:"",label:"Categories",loading:e.categoryLoading},model:{value:e.formData.category,callback:function(t){e.$set(e.formData,"category",t)},expression:"formData.category"}})]}}])}),a("div",{staticClass:"mt-6 d-flex justify-space-between"},[a("v-btn",{staticClass:"primary",attrs:{loading:e.submitLoading,type:"submit",depressed:""}},[e._v("Submit")])],1)],1)])],1),a("v-col",{staticClass:"text-center",attrs:{"order-sm":"1",cols:"12",sm:"12",md:"4",lg:"4"}},[a("v-btn",{attrs:{text:""},on:{click:e.toggleShow}},[e._v("Upload Thumbnails")]),a("my-upload",{attrs:{field:"thumbnail",method:"PUT",width:1280,height:720,url:e.url,headers:e.headers,"img-format":"jpg",langType:"en"},on:{"crop-success":e.cropSuccess},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}}),a("v-responsive",{staticClass:"mx-auto",attrs:{width:"330"}},[e.imgDataUrl?a("v-img",{attrs:{"max-width":"330",height:"350",src:e.imgDataUrl}}):a("div",{staticClass:"px-12",attrs:{id:"image-placeholder"}},[a("v-icon",[e._v("mdi-image-plus")])],1)],1),""==e.imgDataUrl?a("p",{staticClass:"red--text"},[e._v(" Please upload thumbnail ")]):e._e()],1)],1)],1):a("v-card-text",{staticClass:"d-flex flex-column align-center my-md-12 py-md-12 my-sm-8 py-sm-8 my-xs-0 py-xs-0 my-12 py-12"},[e.uploading?a("v-progress-circular",{attrs:{rotate:360,size:100,width:15,value:e.value,color:"teal"}},[e._v(" "+e._s(e.value)+" ")]):a("div",{staticClass:"text-center"},[a("div",[a("v-btn",{staticClass:"grey lighten-2 mb-4",staticStyle:{height:"104px",width:"104px"},attrs:{icon:""},on:{click:e.selectFile}},[a("v-icon",{staticClass:"grey--text text--darken-1",attrs:{"x-large":""}},[e._v("mdi-upload")])],1)],1),a("ValidationProvider",{ref:"provider",attrs:{rules:"required|size:5000",name:"file"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-file-input",{ref:"fileInput",attrs:{accept:"video/mp4",placeholder:"Pick an video","prepend-icon":"mdi-video","error-messages":r},on:{change:e.uploadVideo},model:{value:e.selectedFile,callback:function(t){e.selectedFile=t},expression:"selectedFile"}})]}}],null,!1,604243626)}),a("v-btn",{staticClass:"blue darken-3 flat white--text mt-4",attrs:{type:"submit",depressed:""},on:{click:function(t){return e.$refs.fileInput.$refs.input.click()}}},[e._v("Select File")])],1)],1),e.uploaded?e._e():a("v-card-actions",[a("p",{staticClass:"text-center grey--text caption px-12 px-xs-0"},[e._v(" By submitting your videos to YouTube, you acknowledge that you agree to YouTube's Terms of Service and Community Guidelines. Please be sure not to violate others' copyright or privacy rights. Learn more ")])])],1)],1)},n=[],s=a("b5e5"),i=(a("e186"),a("3e22"),a("a9b6"),a("49e9"),a("c2e6"),a("44ad"),a("a9d5"),a("59d7"),a("663a")),o=a("7b4e"),c=a("3678"),l={name:"UploadModal",props:["openDialog"],data:function(){return{valid:!1,uploaded:!1,uploading:!1,submitLoading:!1,categoryLoading:!1,interval:{},value:0,show:!1,rules:[function(e){return!e||e.size>5e6||"Video size should be less than 5 MB!, ".concat(e.size)}],categoriesTitles:[],categories:[],visibilty:["Public","Private"],selectedFile:[],formData:{id:"",title:"",description:"",category:"",visibilty:""},imgDataUrl:"",url:"",headers:{Authorization:"Bearer ".concat(this.$store.getters.getToken)}}},computed:{dialog:function(){return this.openDialog}},methods:{uploadVideo:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$refs.provider.validate(e);case 2:if(r=a.sent,n=r.valid,n){a.next=6;break}return a.abrupt("return");case 6:return t.uploading=!0,s=new FormData,s.append("video",t.selectedFile,t.selectedFile.name),a.next=11,o["a"].uploadVideo(s,{onUploadProgress:function(e){t.value=Math.round(e.loaded/e.total*100)}}).catch((function(e){console.log(e)})).finally((function(){t.uploaded=!0,t.uploading=!1}));case 11:if(i=a.sent,i){a.next=14;break}return a.abrupt("return");case 14:i=i.data.data,t.formData.id=i._id,t.formData.title=i.title,t.formData.description=i.description,t.formData.cateogry=i.cateogry,t.url="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_URL,"/api/v1/videos/").concat(i._id,"/thumbnails");case 20:case"end":return a.stop()}}),a)})))()},submit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.imgDataUrl){t.next=2;break}return t.abrupt("return");case 2:return e.submitLoading=!0,e.formData.category=e.categories.find((function(t){return t.title===e.formData.category}))._id,t.next=6,o["a"].updateVideo(e.formData.id,{title:e.formData.title,description:e.formData.description,categoryId:e.formData.category,status:e.formData.visibilty.toLowerCase()}).catch((function(e){console.log(e)})).finally((function(){e.submitLoading=!1,e.uploaded=!1}));case 6:if(a=t.sent,a){t.next=9;break}return t.abrupt("return");case 9:e.formData.visibilty="",e.imgDataUrl="",e.selectedFile=[],e.closeModal(),e.$router.push("/studio/videos?".concat(new Date));case 14:case"end":return t.stop()}}),t)})))()},getCategories:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.categoryLoading=!0,t.next=3,c["a"].getAll().catch((function(e){console.log(e)})).finally((function(){return e.categoryLoading=!1}));case 3:a=t.sent,e.categoriesTitles=a.data.data.map((function(e){return e.title})),e.categories=a.data.data;case 6:case"end":return t.stop()}}),t)})))()},closeModal:function(){this.$emit("closeDialog")},selectFile:function(){this.$refs.fileInput.$refs.input.click()},toggleShow:function(){this.show=!this.show},cropSuccess:function(e,t){console.log("-------- crop success --------"),console.log(t),this.imgDataUrl=e}},components:{myUpload:i["a"]},mounted:function(){this.getCategories()}},u=l,d=(a("4d53"),a("cba8")),m=a("72e9"),v=a.n(m),p=a("3df0"),f=a("c0ce"),h=a("c615"),b=a("8742"),g=a("4a8d"),w=a("3e21"),y=a("1e55"),_=a("d46d"),x=a("d924"),k=a("d38f"),C=a("a519"),U=a("10a0"),V=a("69fa"),S=a("260f"),j=Object(d["a"])(u,r,n,!1,null,null,null);t["a"]=j.exports;v()(j,{VBtn:p["a"],VCard:f["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VCol:b["a"],VDialog:g["a"],VFileInput:w["a"],VIcon:y["a"],VImg:_["a"],VProgressCircular:x["a"],VResponsive:k["a"],VRow:C["a"],VSelect:U["a"],VTextField:V["a"],VTextarea:S["a"]})},"3f4a":function(e,t,a){"use strict";a("a9b6");var r=a("82ae"),n=a.n(r);t["a"]=function(){var e=n.a.create({baseURL:"/api"}),t=localStorage.getItem("token");return t&&(e.defaults.headers.common.Authorization="Bearer ".concat(t)),e.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),location.reload()),Promise.reject(e)})),e}},"4d53":function(e,t,a){"use strict";a("3366")},"56d7":function(e,t,a){"use strict";a.r(t);var r=a("a19a"),n=(a("c8ba"),a("5961"),a("7ecd"),a("0185"),a("430a")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("router-view",{attrs:{name:"NavBar"}}),a("router-view",{attrs:{name:"StudioNavBar"}}),a("v-content",{class:{"content-bg":!["SignIn","SignUp","Dashboard","Video","Detail"].includes(this.$route.name)}},[a("router-view")],1)],1)},i=[],o={name:"App"},c=o,l=(a("5c0b"),a("cba8")),u=a("72e9"),d=a.n(u),m=a("039d"),v=a("999d"),p=Object(l["a"])(c,s,i,!1,null,null,null),f=p.exports;d()(p,{VApp:m["a"],VContent:v["a"]});a("a9b6"),a("2690"),a("d4f9");var h=a("ac56"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{attrs:{id:"navbar"}},[a("v-app-bar",{attrs:{flat:"",app:"","clipped-left":""}},[a("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),a("v-toolbar-title",{staticClass:"font-weight-bold"},[a("router-link",{staticClass:"white--text",staticStyle:{"text-decoration":"none"},attrs:{to:"/"}},[e._v("개인 극장")])],1),a("v-spacer"),a("v-text-field",{attrs:{flat:"","hide-details":"","append-icon":"mdi-magnify",placeholder:"검색하다.",outlined:"",dense:""},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),a("v-spacer"),e.$store.getters.isAuthenticated?a("v-menu",{attrs:{"offset-y":"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"white--text",attrs:{small:"",color:"red",depressed:"",fab:""}},r),["no-photo.jpg"!==e.currentUser.photoUrl?a("v-avatar",[a("img",{attrs:{src:e.getUrl+"/uploads/avatars/"+e.currentUser.photoUrl,alt:e.currentUser.channelName+" avatar"}})]):[a("span",{staticClass:"headline"},[e._v(" "+e._s(e.currentUser.channelName.split("")[0].toUpperCase())+" ")])]],2)]}}])},[a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-avatar",["no-photo.jpg"!==e.currentUser.photoUrl?a("v-avatar",[a("img",{attrs:{src:e.getUrl+"/uploads/avatars/"+e.currentUser.photoUrl,alt:e.currentUser.channelName+" avatar"}})]):[a("v-avatar",{attrs:{color:"red"}},[a("span",{staticClass:"white--text headline "},[e._v(" "+e._s(e.currentUser.channelName.split("")[0].toUpperCase()))])])]],2),a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-capitalize"},[e._v(e._s(e.currentUser.channelName))]),a("v-list-item-subtitle",[e._v(e._s(e.currentUser.email))])],1)],1)],1),a("v-divider"),a("v-list",[a("v-list-item",{attrs:{router:"",to:"/channels/"+e.$store.getters.currentUser._id}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-account-box")])],1),a("v-list-item-title",[e._v("Your channel")])],1),a("v-list-item",{attrs:{router:"",to:"/studio"}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-youtube-studio")])],1),a("v-list-item-title",[e._v("VueTube Studio")])],1),a("v-list-item",{on:{click:e.signOut}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-login-variant")])],1),a("v-list-item-title",[e._v("Sign out")])],1)],1)],1)],1):a("v-btn",{staticClass:"font-weight-bold",attrs:{tile:"",outlined:"",color:"blue",router:""},on:{click:e.signin}},[a("v-icon",{attrs:{left:"",size:"26"}},[e._v("mdi-account-circle")]),e._v(" 로그인 ")],1)],1),a("v-navigation-drawer",{attrs:{app:"",clipped:"Watch"!==e.$route.name,temporary:"Watch"===e.$route.name,id:"nav"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("div",{directives:[{name:"bar",rawName:"v-bar"}],staticClass:"v-navigation-drawer__content",attrs:{tag:"div"}},[a("v-list",{staticClass:"py-0",attrs:{dense:"",nav:"",rounded:"",tag:"div"}},[a("v-list-item",{class:{"hidden-lg-and-up":"Watch"!==e.$route.name}},[a("v-app-bar-nav-icon",{staticClass:"mr-5",on:{click:function(t){e.drawer=!e.drawer}}}),a("v-toolbar-title",{staticClass:"font-weight-bold"},[e._v("개인 극장")])],1),a("v-divider",{staticClass:"hidden-lg-and-up"}),e._l(e.items,(function(t){return a("div",{key:t.header},[t.header?a("v-subheader",{staticClass:"pl-3 py-4 subtitle-1 font-weight-bold text-uppercase"},[e._v(e._s(t.header))]):e._e(),e._l("Subscriptions"===t.header?e.items[2].pages.slice(0,e.channelLength):t.pages,(function(r,n){return a("v-list-item",{key:r.title,staticClass:"mb-0",attrs:{exact:"","active-class":"active-item"},on:{click:function(t){return e.navTo(r.link)}}},["Subscriptions"!==t.header?a("v-list-item-icon",[a("v-icon",[e._v(e._s(r.icon))])],1):a("v-list-item-avatar",{staticClass:"mr-5"},[e._v(" "+e._s(n)+" "),"no-photo.jpg"!==r.channelId.photoUrl&&r.channelId?a("v-avatar",[a("img",{attrs:{src:e.getUrl+"/uploads/avatars/"+r.channelId.photoUrl,alt:r.channelId.channelName+" avatar"}})]):[a("v-avatar",{attrs:{color:"red"}},[a("span",{staticClass:"white--text headline "},[e._v(" "+e._s(r.channelId.channelName.split("")[0].toUpperCase()))])])]],2),a("v-list-item-content",[a("v-list-item-title",{staticClass:" font-weight-medium subtitle-2"},[e._v(e._s("Subscriptions"===t.header?r.channelId.channelName:r.title))])],1)],1)})),"Subscriptions"===t.header&&e.isAuthenticated&&e.items[2].length>0?a("v-btn",{staticClass:"text-none",attrs:{id:"showBtn",block:"",text:""},on:{click:e.moreChannels}},[a("v-icon",[e._v(e._s(3===e.channelLength?"mdi-chevron-down":"mdi-chevron-up"))]),e._v(" "+e._s(3===e.channelLength?"Show "+(e.items[2].pages.length-3)+" more ":"Show less"))],1):e._e(),!1!==t.header?a("v-divider",{staticClass:"mt-2 mb-2"}):e._e()],2)})),e._l(e.links,(function(t){return a("span",{key:t._id},[a("v-card",{attrs:{href:t.href,target:"_blank"}},[t.title?a("v-card-title",{staticClass:"text-h6"},[e._v(" "+e._s(t.title)+" ")]):e._e(),a("v-img",{staticClass:"grey darken-4",attrs:{src:t.pic_url,"max-height":"125",contain:""}})],1)],1)}))],2)],1)])],1)},g=[],w=a("b5e5"),y=(a("e186"),a("c284"),a("3e22"),a("7736")),_=a("e7f4"),x=a("801c"),k=a("7b4e"),C={data:function(){return{drawer:!0,value:!1,items:[{header:null,pages:[{title:"KakaoAv",link:"/",icon:"mdi-home"},{title:"Subscriptions",link:"/subscriptions",icon:"mdi-youtube-subscription"}]},{header:null,pages:[]},{header:"Subscriptions",pages:[]},{header:"분류 하 다.",pages:[{title:"중국 시리즈 ",link:"v1",icon:"mdi-youtube"},{title:"유럽 시리즈 ",link:"v2",icon:"mdi-youtube-gaming"},{title:"일본 시리즈 ",link:"v3",icon:"mdi-access-point"},{title:"일본 노모",link:"v4",icon:"mdi-flag"}]}],links:[],channelLength:0,searchText:""}},computed:Object(r["a"])({},Object(y["b"])(["currentUser","getUrl","isAuthenticated"])),methods:{signin:function(){},navTo:function(e){var t;t="/"===e?"/":"/"+e,this.$router.push(t)},getAds:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k["a"].getPosters({typee:2});case 2:a=t.sent,a.data.data.forEach((function(t){e.links.push(t)}));case 4:case"end":return t.stop()}}),t)})))()},search:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.searchText){t.next=2;break}return t.abrupt("return");case 2:if(e.searchText!=e.$route.query["search-query"]){t.next=4;break}return t.abrupt("return");case 4:if(a={type:"search",searchText:e.searchText},!e.isAuthenticated){t.next=8;break}return t.next=8,x["a"].createHistory(a).catch((function(e){return console.log(e)}));case 8:e.$router.push({name:"Search",query:{"search-query":e.searchText}});case 9:case"end":return t.stop()}}),t)})))()},getSubscribedChannels:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_["a"].getSubscribedChannels(e.currentUser._id).catch((function(e){return console.log(e)}));case 2:a=t.sent,e.items[2].pages=a.data.data,e.channelLength=3;case 5:case"end":return t.stop()}}),t)})))()},moreChannels:function(){3===this.channelLength?this.channelLength=this.items[2].pages.length:this.channelLength=3},signOut:function(){this.$store.dispatch("signOut")}},beforeRouteEnter:function(e,t,a){a((function(t){""!==!e.query["search-query"]&&(t.searchText=e.query["search-query"])}))},mounted:function(){this.getAds(),this.drawer=!this.$vuetify.breakpoint.mdAndDown,this.drawer="Watch"!==this.$route.name&&this.drawer},created:function(){this.drawer="Watch"!==this.$route.name&&this.drawer,this.isAuthenticated||(this.items[2].header=!1,this.items[0].pages.pop())}},U=C,V=(a("ed6b"),a("b644")),S=a("5f02"),j=a("234c"),D=a("3df0"),O=a("c0ce"),P=a("c615"),N=a("dc3e"),I=a("1e55"),T=a("d46d"),A=a("4814"),L=a("1562"),$=a("1f07"),E=a("3858"),B=a("fa57"),R=a("6b0a"),q=a("4c38"),F=a("4f27"),M=a("9a05"),z=a("69fa"),H=a("468c"),W=Object(l["a"])(U,b,g,!1,null,null,null),K=W.exports;d()(W,{VAppBar:V["a"],VAppBarNavIcon:S["a"],VAvatar:j["a"],VBtn:D["a"],VCard:O["a"],VCardTitle:P["d"],VDivider:N["a"],VIcon:I["a"],VImg:T["a"],VList:A["a"],VListItem:L["a"],VListItemAvatar:$["a"],VListItemContent:E["a"],VListItemIcon:B["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VMenu:R["a"],VNavigationDrawer:q["a"],VSpacer:F["a"],VSubheader:M["a"],VTextField:z["a"],VToolbarTitle:H["a"]});var Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{attrs:{id:"studioBar"}},[a("v-app-bar",{staticClass:"white",attrs:{app:"","clipped-left":""}},[a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-toolbar-title",{staticClass:"font-weight-bold"},[a("router-link",{staticClass:"black--text",staticStyle:{"text-decoration":"none"},attrs:{to:"/studio"}},[e._v("Studio")])],1),a("v-spacer"),a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"","hide-details":"","append-icon":"mdi-magnify",placeholder:"Search",outlined:"",dense:""},on:{"click:append":e.search}}),a("v-spacer"),a("v-menu",{attrs:{offsetY:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({staticClass:"mr-8 createVideoBtn",attrs:{outlined:""}},Object.assign({},n,r)),[a("v-icon",{staticClass:"red--text small",attrs:{size:"25"}},[e._v("mdi-video-plus")]),e._v(" Create")],1)]}}],null,!0)},[a("span",[e._v("Create a video and more")])])]}}])},[a("v-list",[a("v-list-item",{on:{click:e.modal}},[a("v-list-item-icon",{staticClass:"mr-3"},[a("v-icon",[e._v("mdi-play-box-outline")])],1),a("v-list-item-title",[e._v("Upload video")])],1)],1)],1),a("v-menu",{attrs:{"offset-y":"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"white--text",attrs:{small:"",color:"red",depressed:"",fab:""}},r),["no-photo.jpg"!==e.currentUser.photoUrl?a("v-avatar",[a("img",{attrs:{src:e.getUrl+"/uploads/avatars/"+e.currentUser.photoUrl,alt:e.currentUser.channelName+" avatar"}})]):[a("span",{staticClass:"headline"},[e._v(" "+e._s(e.currentUser.channelName.split("")[0].toUpperCase())+" ")])]],2)]}}])},[a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-avatar",["no-photo.jpg"!==e.currentUser.photoUrl?a("v-avatar",[a("img",{attrs:{src:e.getUrl+"/uploads/avatars/"+e.currentUser.photoUrl,alt:e.currentUser.channelName+" avatar"}})]):[a("v-avatar",{attrs:{color:"red"}},[a("span",{staticClass:"white--text headline "},[e._v(" "+e._s(e.currentUser.channelName.split("")[0].toUpperCase()))])])]],2),a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-capitalize"},[e._v(e._s(e.currentUser.channelName))]),a("v-list-item-subtitle",[e._v(e._s(e.currentUser.email))])],1)],1)],1),a("v-divider"),a("v-list",[a("v-list-item",{attrs:{router:"",to:"/channels/"+e.$store.getters.currentUser._id}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-account-box")])],1),a("v-list-item-title",[e._v("Your channel")])],1),a("v-list-item",{attrs:{router:"",to:"/studio"}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-youtube-studio")])],1),a("v-list-item-title",[e._v("VueTube Studio")])],1),a("v-list-item",{attrs:{router:"",to:"/signin"}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-login-variant")])],1),a("v-list-item-title",[e._v("Sign out")])],1)],1)],1)],1)],1),a("v-navigation-drawer",{attrs:{clipped:"",app:"",id:"nav"},scopedSlots:e._u([{key:"append",fn:function(){return[a("div",{staticClass:"pa-2"},[a("v-divider"),a("v-list",e._l(e.items[1].pages,(function(t){return a("v-list-item",{key:t.title,staticClass:"mb-0",attrs:{link:"",to:""===t.link?"":t.link,exact:"","active-class":"active-item"},on:{click:function(a){return e.settingsMoal(t.title)}}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:" font-weight-medium subtitle-2"},[e._v(e._s(t.title))])],1)],1)})),1)],1)]},proxy:!0},{key:"prepend",fn:function(){return[a("div",{staticClass:"pa-2 text-center"},[a("v-list",{staticClass:"text-center"},[a("v-list-item",{staticClass:"px-2"},[a("v-btn",{staticClass:"white--text mx-auto",attrs:{height:"95",width:"95","x-large":"",color:"red",depressed:"",fab:"",to:"/channels/"+e.currentUser._id}},["no-photo.jpg"!==e.currentUser.photoUrl?a("v-avatar",{attrs:{height:"96",width:"96"}},[a("img",{attrs:{src:e.getUrl+"/uploads/avatars/"+e.currentUser.photoUrl,alt:e.currentUser.channelName+" avatar"}})]):a("span",{staticClass:"display-3"},[e._v(" "+e._s(e.currentUser.channelName.split("")[0].toUpperCase())+" ")])],1)],1),a("v-list-item",{attrs:{link:"",to:"/channels/"+e.currentUser._id}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"title"},[e._v(e._s(e.currentUser.channelName))]),a("v-list-item-subtitle",[e._v(e._s(e.currentUser.email))])],1)],1)],1)],1)]},proxy:!0}]),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("div",{directives:[{name:"bar",rawName:"v-bar"}],staticClass:"v-navigation-drawer__content",attrs:{tag:"div"}},[a("v-list",{staticClass:"py-0",attrs:{tile:""}},e._l(e.items[0].pages,(function(t){return a("v-list-item",{key:t.title,staticClass:"mb-0",attrs:{href:"",tile:"",router:"",to:t.link,exact:"","active-class":"active-item"}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:" font-weight-medium subtitle-2"},[e._v(e._s(t.title))])],1)],1)})),1)],1)]),a("upload-video-modal",{attrs:{"open-dialog":e.dialog},on:{closeDialog:function(t){e.dialog=!1}}}),a("settings-modal",{attrs:{"open-dialog":e.settingsDialog},on:{closeDialog:function(t){e.settingsDialog=!1}}})],1)},J=[],G=a("3f2e"),Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"",transition:"fab-transition","max-width":"800",id:"settings"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{tile:""}},[a("div",{staticClass:"d-flex justify-space-between mb-5",attrs:{id:"modal-header"}},[a("v-card-title",{staticClass:"py-3"},[e._v("Settings")]),a("v-btn",{attrs:{icon:"",text:""},on:{click:e.closeModal}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"pt-0",attrs:{order:"last","order-sm":"last","order-md":"first","order-lg":"first","order-xl":"first",cols:"12",sm:"12",md:"8",lg:"8"}},[a("h3",{staticClass:"mb-6 mt-0 pt-0"},[e._v("Personal Information")]),a("ValidationObserver",{ref:"personalInfoForm",scopedSlots:e._u([{key:"default",fn:function(t){var r=t.handleSubmit,n=t.reset;return[a("form",{on:{submit:function(t){return t.preventDefault(),r(e.submit)},reset:function(e){return e.preventDefault(),n.apply(null,arguments)}}},[a("ValidationProvider",{attrs:{name:"Channel Name",rules:"required|min:3"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{attrs:{"error-messages":r,label:"Channel Name",filled:"",dense:""},model:{value:e.formData.channelName,callback:function(t){e.$set(e.formData,"channelName",t)},expression:"formData.channelName"}})]}}],null,!0)}),a("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{attrs:{"error-messages":r,label:"Email",filled:"",dense:""},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}})]}}],null,!0)}),a("v-btn",{staticClass:"primary ",attrs:{loading:e.loading.personalInfo,type:"submit",depressed:""}},[e._v("Submit")])],1)]}}])}),a("h3",{staticClass:"mb-6 mt-6"},[e._v("Change Password")]),a("ValidationObserver",{ref:"passwordForm",scopedSlots:e._u([{key:"default",fn:function(t){var r=t.handleSubmit,n=t.reset;return[a("form",{on:{submit:function(t){return t.preventDefault(),r(e.submitPassword)},reset:function(e){return e.preventDefault(),n.apply(null,arguments)}}},[a("ValidationProvider",{attrs:{name:"Current password",rules:"required|min:5"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{staticClass:"input-group--focused",attrs:{"append-icon":e.showCurrentPassword?"mdi-eye":"mdi-eye-off","error-messages":r,type:e.showCurrentPassword?"text":"password",name:"Current password",label:"Current Password",filled:"",dense:"",hint:"At least 5 characters"},on:{"click:append":function(t){e.showCurrentPassword=!e.showCurrentPassword}},model:{value:e.formData.currentPassword,callback:function(t){e.$set(e.formData,"currentPassword",t)},expression:"formData.currentPassword"}})]}}],null,!0)}),a("ValidationProvider",{attrs:{name:"New password",rules:"required|min:5"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{staticClass:"input-group--focused",attrs:{"append-icon":e.showNewPassword?"mdi-eye":"mdi-eye-off","error-messages":r,type:e.showNewPassword?"text":"password",name:"New password",label:"New Password",filled:"",dense:"",hint:"At least 5 characters"},on:{"click:append":function(t){e.showNewPassword=!e.showNewPassword}},model:{value:e.formData.newPassword,callback:function(t){e.$set(e.formData,"newPassword",t)},expression:"formData.newPassword"}})]}}],null,!0)}),a("v-btn",{staticClass:"primary",attrs:{loading:e.loading.password,type:"submit",depressed:""}},[e._v("Submit")])],1)]}}])})],1),a("v-col",{staticClass:"text-center",attrs:{"order-sm":"1",cols:"12",sm:"12",md:"4",lg:"4"}},[a("v-btn",{attrs:{text:""},on:{click:e.toggleShow}},[e._v("Upload Avatar")]),a("my-upload",{attrs:{field:"avatar",method:"PUT",headers:e.headers,url:e.url,width:200,height:200,noRotate:!1,"img-format":"jpg",langType:"en"},on:{"crop-success":e.cropSuccess,"crop-upload-success":e.cropUploadSuccess,"crop-upload-fail":e.cropUploadFail},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}}),a("v-responsive",{staticClass:"mx-auto",staticStyle:{"border-radius":"50%"},attrs:{width:"230"}},["no-photo.jpg"==e.$store.getters.currentUser.photoUrl?a("div",{staticClass:"px-12",attrs:{id:"settings-image-placeholder"}},[a("v-icon",[e._v("mdi-image-plus")])],1):a("v-img",{attrs:{height:"220",src:e.imgDataUrl}})],1)],1)],1)],1)],1)],1)},X=[],Z=(a("44ad"),a("a9d5"),a("3f4a")),ee={signIn:function(e){return Object(Z["a"])().post("auth/login",e)},signUp:function(e){return Object(Z["a"])().post("auth/register",e)},updateUserDetails:function(e){return Object(Z["a"])().put("auth/updatedetails",e)},uploadUserAvatar:function(e){return Object(Z["a"])().put("auth/avatar",e)},updatePassword:function(e){return Object(Z["a"])().put("auth/updatepassword",e)},me:function(e){return Object(Z["a"])().post("auth/me",{headers:{Authorization:"Bearer ".concat(e)}})}},te=a("663a"),ae={name:"SettingsModal",props:["openDialog"],data:function(){return{showCurrentPassword:!1,showNewPassword:!1,valid:!1,interval:{},value:0,show:!1,rules:[function(e){return!e||e.size<5e6||"Video size should be less than 5 MB!"}],categories:["People","Technology","Fashion"],visibilty:["Public","Private"],formData:{channelName:this.$store.getters.currentUser.channelName,email:this.$store.getters.currentUser.email,currentPassword:"",newPassword:""},loading:{personalInfo:!1,password:!1},imgDataUrl:"".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_URL,"/uploads/avatars/").concat(this.$store.getters.currentUser.photoUrl),url:"".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_URL,"/api/v1/auth/avatar"),headers:{Authorization:"Bearer ".concat(this.$store.getters.getToken)}}},computed:{dialog:function(){return this.openDialog}},methods:{submit:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading.personalInfo){t.next=2;break}return t.abrupt("return");case 2:return e.loading.personalInfo=!0,t.next=5,ee.updateUserDetails({channelName:e.formData.channelName,email:e.formData.email}).catch((function(t){e.loading.personalInfo=!1;var a=t.response.data.error;e.$refs.personalInfoForm.setErrors({email:a.find((function(e){return"email"===e.field}))?["This email is already taken"]:null,"Channel Name":a.find((function(e){return"channelName"===e.field}))?["This channel name is already taken"]:null})})).finally((function(){return e.loading.personalInfo=!1}));case 5:if(a=t.sent,a){t.next=8;break}return t.abrupt("return");case 8:e.formData.channelName===e.$store.getters.currentUser.channelName&&e.formData.email===e.$store.getters.currentUser.email||(e.$store.dispatch("signOut"),e.$router.push("/signin")),e.closeModal();case 10:case"end":return t.stop()}}),t)})))()},submitPassword:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading.password){t.next=2;break}return t.abrupt("return");case 2:return e.loading.password=!0,t.next=5,ee.updatePassword({currentPassword:e.formData.currentPassword,newPassword:e.formData.newPassword}).catch((function(t){e.loading.password=!1;var a=t.response.data.error;e.$refs.passwordForm.setErrors({"Current password":a.find((function(e){return"currentPassword"===e.field}))?["Current password is incorrect"]:null,"New password":a.find((function(e){return"newPassword"===e.field}))?a.find((function(e){return"newPassword"===e.field})).message:null})})).finally((function(){return e.loading.password=!1}));case 5:if(a=t.sent,a){t.next=8;break}return t.abrupt("return");case 8:e.formData.currentPassword="",e.formData.newPassword="",e.closeModal(),e.$store.dispatch("signOut"),e.$router.push("/signin");case 13:case"end":return t.stop()}}),t)})))()},closeModal:function(){this.$emit("closeDialog")},toggleShow:function(){this.show=!this.show},cropSuccess:function(e,t){console.log(t),this.imgDataUrl=e},cropUploadSuccess:function(e,t){var a=this.$store.getters.currentUser;a.photoUrl=e.data,this.$store.dispatch("signin",a),console.log("field: "+t)},cropUploadFail:function(e,t){console.log("-------- upload fail --------"),console.log(e),console.log("field: "+t)}},components:{myUpload:te["a"]}},re=ae,ne=(a("ff64"),a("8742")),se=a("4a8d"),ie=a("d38f"),oe=a("a519"),ce=Object(l["a"])(re,Q,X,!1,null,null,null),le=ce.exports;d()(ce,{VBtn:D["a"],VCard:O["a"],VCardText:P["c"],VCardTitle:P["d"],VCol:ne["a"],VDialog:se["a"],VIcon:I["a"],VImg:T["a"],VResponsive:ie["a"],VRow:oe["a"],VTextField:z["a"]});var ue={name:"StudioNavBar",data:function(){return{drawer:!1,items:[{header:"scroll",pages:[{title:"Dashboard",link:"/studio",icon:"mdi-view-dashboard"},{title:"Videos",link:"/studio/videos",icon:"mdi-play-box-multiple"}]},{header:"fixed",pages:[{title:"Settings",link:"",icon:"mdi-cog"},{title:"Send feedback",link:"#sf",icon:"mdi-history"},{title:"Creator Studio Classic",link:"#cs",icon:"mdi-play-box-outline"}]}],dialog:!1,settingsDialog:!1}},computed:Object(r["a"])({},Object(y["b"])(["currentUser","getUrl"])),methods:{search:function(){console.log("hello")},modal:function(){this.dialog=!0},settingsMoal:function(e){"Settings"===e&&(this.settingsDialog=!0)}},components:{UploadVideoModal:G["a"],SettingsModal:le},mounted:function(){this.drawer=!this.$vuetify.breakpoint.mdAndDown}},de=ue,me=(a("0682"),a("0d37")),ve=Object(l["a"])(de,Y,J,!1,null,null,null),pe=ve.exports;d()(ve,{VAppBar:V["a"],VAppBarNavIcon:S["a"],VAvatar:j["a"],VBtn:D["a"],VCard:O["a"],VDivider:N["a"],VIcon:I["a"],VList:A["a"],VListItem:L["a"],VListItemAvatar:$["a"],VListItemContent:E["a"],VListItemIcon:B["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VMenu:R["a"],VNavigationDrawer:q["a"],VSpacer:F["a"],VTextField:z["a"],VToolbarTitle:H["a"],VTooltip:me["a"]}),n["a"].use(h["a"]);var fe=h["a"].prototype.push;h["a"].prototype.push=function(e){return fe.call(this,e).catch((function(e){return e}))};var he=[{path:"/",name:"Home",components:{NavBar:K,default:function(){return Promise.all([a.e("about~dashboard~video"),a.e("about~video"),a.e("about")]).then(a.bind(null,"bb51"))}}},{path:"/v1",name:"V1",components:{NavBar:K,default:function(){return Promise.all([a.e("about~dashboard~video"),a.e("about~video"),a.e("about")]).then(a.bind(null,"7709"))}}},{path:"/v2",name:"V2",components:{NavBar:K,default:function(){return Promise.all([a.e("about~dashboard~video"),a.e("about~video"),a.e("about")]).then(a.bind(null,"023c"))}}},{path:"/v3",name:"V3",components:{NavBar:K,default:function(){return Promise.all([a.e("about~dashboard~video"),a.e("about~video"),a.e("about")]).then(a.bind(null,"9735"))}}},{path:"/v4",name:"V4",components:{NavBar:K,default:function(){return Promise.all([a.e("about~dashboard~video"),a.e("about~video"),a.e("about")]).then(a.bind(null,"366e"))}}},{path:"/liked-videos",name:"LikedVideos",components:{NavBar:K,default:function(){return Promise.all([a.e("about~dashboard~video"),a.e("about~video"),a.e("about")]).then(a.bind(null,"07db"))}},meta:{requiresAuth:!0}},{path:"/signin",name:"SignIn",component:function(){return a.e("signin").then(a.bind(null,"afb1"))},meta:{requiresVisitor:!0}},{path:"/signup",name:"SignUp",component:function(){return a.e("signup").then(a.bind(null,"0687"))},meta:{requiresVisitor:!0}},{path:"/studio",components:{StudioNavBar:pe,default:function(){return Promise.all([a.e("about~dashboard~video"),a.e("dashboard~video"),a.e("dashboard")]).then(a.bind(null,"81ec"))}},children:[{path:"/",name:"Dashboard",component:function(){return Promise.all([a.e("about~dashboard~video"),a.e("dashboard~video"),a.e("dashboard")]).then(a.bind(null,"6954"))}},{path:"videos",name:"Video",component:function(){return Promise.all([a.e("about~dashboard~video"),a.e("dashboard~video"),a.e("about~video"),a.e("video")]).then(a.bind(null,"e63d"))}},{path:"details/:id",name:"Detail",component:function(){return Promise.all([a.e("about~dashboard~video"),a.e("dashboard~video"),a.e("about~video"),a.e("video")]).then(a.bind(null,"16fc"))}}],meta:{requiresAuth:!0}},{path:"/channels/:id",components:{NavBar:K,default:function(){return Promise.all([a.e("about~dashboard~video"),a.e("dashboard~video"),a.e("dashboard")]).then(a.bind(null,"149a"))}},children:[{path:"/",name:"ChannelHome",component:function(){return Promise.all([a.e("about~dashboard~video"),a.e("dashboard~video"),a.e("dashboard")]).then(a.bind(null,"71a8"))}}]},{path:"/watch/:id",name:"Watch",components:{NavBar:K,default:function(){return Promise.all([a.e("about~dashboard~video"),a.e("dashboard~video"),a.e("about~video"),a.e("video")]).then(a.bind(null,"4eb8"))}}},{path:"/history",name:"History",components:{NavBar:K,default:function(){return Promise.all([a.e("about~dashboard~video"),a.e("dashboard~video"),a.e("about~video"),a.e("video")]).then(a.bind(null,"e4bb"))}},meta:{requiresAuth:!0}},{path:"/search",name:"Search",components:{NavBar:K,default:function(){return Promise.all([a.e("about~dashboard~video"),a.e("dashboard~video"),a.e("about~video"),a.e("video")]).then(a.bind(null,"2d3b"))}}}],be=new h["a"]({base:"/",routes:he});be.beforeEach((function(e,t,a){var r=localStorage.getItem("user");e.matched.some((function(e){return e.meta.requiresAuth}))&&!r||e.matched.some((function(e){return e.meta.requiresVisitor}))&&r?a("/"):a()}));var ge=be,we=(a("16e1"),{url:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_URL,token:localStorage.getItem("token")||null,user:JSON.parse(localStorage.getItem("user"))||null,isUserLoggedIn:localStorage.getItem("token")||!1}),ye={getUrl:function(e){return e.url},isAuthenticated:function(e){return e.isUserLoggedIn},getToken:function(e){return e.token},currentUser:function(e){return e.user}},_e={SET_TOKEN:function(e,t){e.token=t,e.isUserLoggedIn=!!t},SET_USER_DATA:function(e,t){e.user=t},CLEAR_AUTH:function(e){e.token=null,e.user=null,e.isUserLoggedIn=!1}},xe={signUp:function(e,t){var a=e.commit;return new Promise((function(e,r){ee.signUp(t).then((function(t){var r=t.data;a("SET_TOKEN",r.token),localStorage.setItem("token",r.token),e(r)})).catch((function(e){return r(e)}))}))},signIn:function(e,t){var a=e.commit;return new Promise((function(e,r){ee.signIn(t).then((function(t){var r=t.data;localStorage.setItem("token",r.token),a("SET_TOKEN",r.token),e(r)})).catch((function(e){return r(e)}))}))},getCurrentUser:function(e,t){var a=e.commit;return new Promise((function(e,r){ee.me(t).then((function(t){var r=t.data;localStorage.setItem("user",JSON.stringify(r.data)),a("SET_USER_DATA",r.data),e(r)})).catch((function(e){return r(e)}))}))},signOut:function(e){var t=e.commit;localStorage.removeItem("token"),localStorage.removeItem("user"),t("CLEAR_AUTH")}},ke={state:we,getters:ye,mutations:_e,actions:xe},Ce={getCommentByVideoId:function(e){return Object(Z["a"])().get("comments/".concat(e,"/videos"))},createComment:function(e){return Object(Z["a"])().post("comments",e)},deleteById:function(e){return Object(Z["a"])().delete("comments/".concat(e))}};n["a"].use(y["a"]);var Ue={state:{comments:[]},getters:{getComments:function(e){return e.comments}},mutations:{setComments:function(e,t){e.comments=t},addComment:function(e,t){e.comments.data.unshift(t)}},actions:{setComments:function(e,t){var a=e.commit;return new Promise((function(e,r){Ce.getCommentByVideoId(t).then((function(t){a("setComments",t.data),e(t)})).catch((function(e){return r(e)}))}))},addComment:function(e,t){var a=e.commit;a("addComment",t)}}};n["a"].use(y["a"]);var Ve=new y["a"].Store({state:{},getters:{},mutations:{},actions:{},modules:{auth:ke,comments:Ue}}),Se=a("4837"),je=a("32ca");n["a"].use(Se["a"]);var De=new Se["a"]({theme:{dark:!0,themes:{light:{primary:je["a"].purple,secondary:je["a"].grey.darken1,accent:je["a"].shades.black,error:je["a"].red.accent3,anchor:"#000000"},dark:{primary:je["a"].red.accent3,anchor:"#000000"}}}}),Oe=a("0d34"),Pe=a("8e97"),Ne=a("8127"),Ie=a.n(Ne);Object(Pe["d"])("eager"),Object(Pe["c"])("required",Object(r["a"])(Object(r["a"])({},Oe["e"]),{},{message:"Enter {_field_}"})),Object(Pe["c"])("oneOf",Object(r["a"])({},Oe["d"])),Object(Pe["c"])("max",Object(r["a"])(Object(r["a"])({},Oe["b"]),{},{message:"{_field_} may not be greater than {length} characters"})),Object(Pe["c"])("min",Object(r["a"])(Object(r["a"])({},Oe["c"]),{},{message:"{_field_} may not be less than {length} characters"})),Object(Pe["c"])("email",Object(r["a"])(Object(r["a"])({},Oe["a"]),{},{message:"Email must be valid"})),Object(Pe["c"])("password",{params:["target"],validate:function(e,t){var a=t.target;return e===a},message:"Password does not match"}),Object(Pe["c"])("size",Object(r["a"])(Object(r["a"])({},Oe["f"]),{},{message:"video size should be less than 5 MB!"})),n["a"].config.productionTip=!1,n["a"].component("ValidationProvider",Pe["b"]),n["a"].component("ValidationObserver",Pe["a"]),n["a"].use(Ie.a),new n["a"]({router:ge,store:Ve,vuetify:De,render:function(e){return e(f)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("7df9")},"7b4e":function(e,t,a){"use strict";var r=a("3f4a");t["a"]={getAll:function(e,t){return Object(r["a"])().get("videos/".concat(e),{params:t})},getPosters:function(e){return Object(r["a"])().get("ad",{params:e})},getById:function(e){return Object(r["a"])().get("watch/".concat(e))},uploadVideo:function(e,t){return Object(r["a"])().post("videos",e,t)},updateVideo:function(e,t){return Object(r["a"])().put("videos/".concat(e),t)},updateViews:function(e){return Object(r["a"])().put("videos/".concat(e,"/views"))},uploadThumbnail:function(e,t){return Object(r["a"])().put("videos/".concat(e,"/thumbnails"),t)},deleteById:function(e){return Object(r["a"])().delete("videos/".concat(e))}}},"7df9":function(e,t,a){},"801c":function(e,t,a){"use strict";var r=a("3f4a");t["a"]={getAll:function(e){return Object(r["a"])().get("histories",{params:e})},createHistory:function(e){return Object(r["a"])().post("histories",e)},deleteById:function(e){return Object(r["a"])().delete("histories/".concat(e))},deleteAll:function(e){return Object(r["a"])().delete("histories/".concat(e,"/all"))}}},9243:function(e,t,a){},b88d:function(e,t,a){},bd24:function(e,t,a){},e7f4:function(e,t,a){"use strict";var r=a("3f4a");t["a"]={getSubscribedChannels:function(e){return Object(r["a"])().get("subscriptions/channels",{params:{subscriberId:e,select:"channelId"}})},getSubscribers:function(e){return Object(r["a"])().get("subscriptions/subscribers",{params:{limit:e}})},checkSubscription:function(e){return Object(r["a"])().post("subscriptions/check",e)},createSubscription:function(e){return Object(r["a"])().post("subscriptions",e)},getSubscribedVideos:function(e){return Object(r["a"])().get("subscriptions/videos",{params:{page:e,limit:12}})}}},ed6b:function(e,t,a){"use strict";a("9243")},ff64:function(e,t,a){"use strict";a("bd24")}});
//# sourceMappingURL=app.f3702f0c.js.map