(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["video"],{1368:function(e,t,n){(function(t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function o(e){return"function"===typeof e}var i=void 0;i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var a=i,r=0,l=void 0,s=void 0,d=function(e,t){k[r]=e,k[r+1]=t,r+=2,2===r&&(s?s(w):E())};function c(e){s=e}function u(e){d=e}var p="undefined"!==typeof window?window:void 0,m=p||{},f=m.MutationObserver||m.WebKitMutationObserver,y="undefined"===typeof self&&"undefined"!==typeof t&&"[object process]"==={}.toString.call(t),g="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function v(){return function(){return t.nextTick(w)}}function h(){return"undefined"!==typeof l?function(){l(w)}:C()}function _(){var e=0,t=new f(w),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function b(){var e=new MessageChannel;return e.port1.onmessage=w,function(){return e.port2.postMessage(0)}}function C(){var e=setTimeout;return function(){return e(w,1)}}var k=new Array(1e3);function w(){for(var e=0;e<r;e+=2){var t=k[e],n=k[e+1];t(n),k[e]=void 0,k[e+1]=void 0}r=0}function P(){try{var e=Function("return this")().require("vertx");return l=e.runOnLoop||e.runOnContext,h()}catch(t){return C()}}var E=void 0;function A(e,t){var n=this,o=new this.constructor(T);void 0===o[L]&&X(o);var i=n._state;if(i){var a=arguments[i-1];d((function(){return $(i,o,a,n._result)}))}else W(n,o,e,t);return o}function I(e){var t=this;if(e&&"object"===typeof e&&e.constructor===t)return e;var n=new t(T);return F(n,e),n}E=y?v():f?_():g?b():void 0===p?P():C();var L=Math.random().toString(36).substring(2);function T(){}var O=void 0,V=1,R=2;function S(){return new TypeError("You cannot resolve a promise with itself")}function B(){return new TypeError("A promises callback cannot return that same promise.")}function x(e,t,n,o){try{e.call(t,n,o)}catch(i){return i}}function N(e,t,n){d((function(e){var o=!1,i=x(n,t,(function(n){o||(o=!0,t!==n?F(e,n):j(e,n))}),(function(t){o||(o=!0,H(e,t))}),"Settle: "+(e._label||" unknown promise"));!o&&i&&(o=!0,H(e,i))}),e)}function M(e,t){t._state===V?j(e,t._result):t._state===R?H(e,t._result):W(t,void 0,(function(t){return F(e,t)}),(function(t){return H(e,t)}))}function D(e,t,n){t.constructor===e.constructor&&n===A&&t.constructor.resolve===I?M(e,t):void 0===n?j(e,t):o(n)?N(e,t,n):j(e,t)}function F(t,n){if(t===n)H(t,S());else if(e(n)){var o=void 0;try{o=n.then}catch(i){return void H(t,i)}D(t,n,o)}else j(t,n)}function U(e){e._onerror&&e._onerror(e._result),z(e)}function j(e,t){e._state===O&&(e._result=t,e._state=V,0!==e._subscribers.length&&d(z,e))}function H(e,t){e._state===O&&(e._state=R,e._result=t,d(U,e))}function W(e,t,n,o){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+V]=n,i[a+R]=o,0===a&&e._state&&d(z,e)}function z(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var o=void 0,i=void 0,a=e._result,r=0;r<t.length;r+=3)o=t[r],i=t[r+n],o?$(n,o,i,a):i(a);e._subscribers.length=0}}function $(e,t,n,i){var a=o(n),r=void 0,l=void 0,s=!0;if(a){try{r=n(i)}catch(d){s=!1,l=d}if(t===r)return void H(t,B())}else r=i;t._state!==O||(a&&s?F(t,r):!1===s?H(t,l):e===V?j(t,r):e===R&&H(t,r))}function G(e,t){try{t((function(t){F(e,t)}),(function(t){H(e,t)}))}catch(n){H(e,n)}}var q=0;function K(){return q++}function X(e){e[L]=q++,e._state=void 0,e._result=void 0,e._subscribers=[]}function Q(){return new Error("Array Methods must be provided an Array")}var J=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(T),this.promise[L]||X(this.promise),a(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?j(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&j(this.promise,this._result))):H(this.promise,Q())}return e.prototype._enumerate=function(e){for(var t=0;this._state===O&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,o=n.resolve;if(o===I){var i=void 0,a=void 0,r=!1;try{i=e.then}catch(s){r=!0,a=s}if(i===A&&e._state!==O)this._settledAt(e._state,t,e._result);else if("function"!==typeof i)this._remaining--,this._result[t]=e;else if(n===oe){var l=new n(T);r?H(l,a):D(l,e,i),this._willSettleAt(l,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(o(e),t)},e.prototype._settledAt=function(e,t,n){var o=this.promise;o._state===O&&(this._remaining--,e===R?H(o,n):this._result[t]=n),0===this._remaining&&j(o,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;W(e,void 0,(function(e){return n._settledAt(V,t,e)}),(function(e){return n._settledAt(R,t,e)}))},e}();function Y(e){return new J(this,e).promise}function Z(e){var t=this;return a(e)?new t((function(n,o){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(n,o)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function ee(e){var t=this,n=new t(T);return H(n,e),n}function te(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ne(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var oe=function(){function e(t){this[L]=K(),this._result=this._state=void 0,this._subscribers=[],T!==t&&("function"!==typeof t&&te(),this instanceof e?G(this,t):ne())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,n=t.constructor;return o(e)?t.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):t.then(e,e)},e}();function ie(){var e=void 0;if("undefined"!==typeof n)e=n;else if("undefined"!==typeof self)e=self;else try{e=Function("return this")()}catch(i){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var o=null;try{o=Object.prototype.toString.call(t.resolve())}catch(i){}if("[object Promise]"===o&&!t.cast)return}e.Promise=oe}return oe.prototype.then=A,oe.all=Y,oe.race=Z,oe.resolve=I,oe.reject=ee,oe._setScheduler=c,oe._setAsap=u,oe._asap=d,oe.polyfill=ie,oe.Promise=oe,oe}))}).call(this,n("4362"),n("c8ba"))},"16fc":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pa-4",attrs:{id:"video-details"}},[n("v-container",[n("v-btn",{staticClass:"pl-0",attrs:{text:"",small:""},on:{click:function(t){return e.$router.go(-1)}}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-arrow-left")]),e._v(" Channel videos")],1),n("h2",{staticClass:"mt-5"},[e._v("Video details")]),n("v-row",[n("v-col",{attrs:{cols:"8"}},[n("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(t){var o=t.handleSubmit,i=t.reset;return[n("form",{on:{submit:function(t){return t.preventDefault(),o(e.submit)},reset:function(e){return e.preventDefault(),i.apply(null,arguments)}}},[n("ValidationProvider",{attrs:{name:"Title",rules:"required|min:3"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[n("v-text-field",{staticClass:"mb-3",attrs:{loading:e.inputLoading,"error-messages":o,label:"Title (required)",filled:"",dense:"",counter:"100","max-length":"100"},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})]}}],null,!0)}),n("ValidationProvider",{attrs:{name:"Description",rules:"required|min:3"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[n("v-textarea",{attrs:{loading:e.inputLoading,filled:"","auto-grow":"","error-messages":o,label:"Description",placeholder:"Tell viewers about your video",rows:"5",counter:"5000","max-length":"5000","row-height":"20"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})]}}],null,!0)}),n("ValidationProvider",{attrs:{name:"Visibilty",rules:"required|oneOf:private,public"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[n("v-select",{attrs:{loading:e.inputLoading,items:e.visibility,"error-messages":o,filled:"",label:"Visibilty",value:e.formData.visibility},model:{value:e.formData.visibility,callback:function(t){e.$set(e.formData,"visibility",t)},expression:"formData.visibility"}})]}}],null,!0)}),n("ValidationProvider",{attrs:{name:"Cateogry",rules:"required|min:3"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[n("v-select",{attrs:{loading:e.categoryLoading,items:e.categoriesTitles,"error-messages":o,filled:"",label:"Categories"},model:{value:e.formData.category,callback:function(t){e.$set(e.formData,"category",t)},expression:"formData.category"}})]}}],null,!0)}),n("div",{staticClass:"mt-6 d-flex justify-space-between"},[n("v-btn",{staticClass:"primary",attrs:{loading:e.submitLoading,type:"submit",depressed:""}},[e._v("Submit")])],1)],1)]}}])})],1),n("v-col",{staticClass:"text-center",attrs:{cols:"4"}},[n("v-btn",{attrs:{text:""},on:{click:e.toggleShow}},[e._v("Upload Thumbnails")]),n("my-upload",{attrs:{field:"thumbnail",method:"PUT",width:1280,height:720,url:e.url,headers:e.headers,"img-format":"jpg",langType:"en"},on:{"crop-success":e.cropSuccess},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}}),n("v-responsive",{staticStyle:{"max-width":"100%"}},[e.imgDataUrl?n("v-img",{attrs:{height:"350",src:e.imgDataUrl}}):n("div",{staticClass:"px-12",attrs:{id:"image-placeholder"}},[n("v-icon",[e._v("mdi-image-plus")])],1)],1)],1)],1)],1)],1)},i=[],a=n("1da1"),r=(n("96cf"),n("d3b7"),n("99af"),n("a4d3"),n("e01a"),n("7db0"),n("d81d"),n("0b4d")),l=n("7b4e"),s=n("3678"),d={name:"Details",data:function(){return{inputLoading:!1,submitLoading:!1,categoryLoading:!1,value:0,show:!1,rules:[function(e){return!e||e.size<5e6||"Video size should be less than 5 MB!"}],categoriesTitles:[],categories:[],visibility:["public","private"],formData:{title:"",description:"",category:"",visibility:""},imgDataUrl:"",url:"",headers:{Authorization:"Bearer ".concat(this.$store.getters.getToken)}}},methods:{getVideo:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.inputLoading=!0,t.next=3,l["a"].getById(e.$route.params.id).catch((function(e){console.log(e)})).finally((function(){e.inputLoading=!1}));case 3:if(n=t.sent,n){t.next=6;break}return t.abrupt("return");case 6:n=n.data.data,e.url="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_URL,"/api/v1/videos/").concat(n._id,"/thumbnails"),e.formData.title=n.title,e.formData.description=n.description,e.formData.visibility="draft"==n.status?"":n.status,e.formData.category=n.categoryId.title,e.imgDataUrl="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_URL,"/uploads/thumbnails/").concat(n.thumbnailUrl);case 13:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.submitLoading=!0,e.formData.category=e.categories.find((function(t){return t.title===e.formData.category}))._id,t.next=4,l["a"].updateVideo(e.$route.params.id,{title:e.formData.title,description:e.formData.description,categoryId:e.formData.category,status:e.formData.visibility.toLowerCase()}).catch((function(e){console.log(e)})).finally((function(){return e.submitLoading=!1}));case 4:if(n=t.sent,n){t.next=7;break}return t.abrupt("return");case 7:e.$router.push("/studio/videos");case 8:case"end":return t.stop()}}),t)})))()},getCategories:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.categoryLoading=!0,t.next=3,s["a"].getAll().catch((function(e){console.log(e)})).finally((function(){return e.categoryLoading=!1}));case 3:n=t.sent,e.categoriesTitles=n.data.data.map((function(e){return e.title})),e.categories=n.data.data;case 6:case"end":return t.stop()}}),t)})))()},toggleShow:function(){this.show=!this.show},cropSuccess:function(e,t){console.log("-------- crop success --------"),console.log(t),this.imgDataUrl=e}},components:{myUpload:r["a"]},mounted:function(){this.getVideo(),this.getCategories()}},c=d,u=(n("3adf"),n("2877")),p=n("6544"),m=n.n(p),f=n("8336"),y=n("62ad"),g=n("a523"),v=n("132d"),h=n("adda"),_=n("6b53"),b=n("0fd9"),C=n("b974"),k=n("8654"),w=n("a844"),P=Object(u["a"])(c,o,i,!1,null,null,null);t["default"]=P.exports;m()(P,{VBtn:f["a"],VCol:y["a"],VContainer:g["a"],VIcon:v["a"],VImg:h["a"],VResponsive:_["a"],VRow:b["a"],VSelect:C["a"],VTextField:k["a"],VTextarea:w["a"]})},"222f":function(e,t,n){"use strict";n("47cb")},"2c64":function(e,t,n){},"2d3b":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pl-6",attrs:{id:"search"}},[n("v-container",{attrs:{fluid:""}},[n("v-row",[e.errored?n("v-alert",{staticClass:"mx-auto",attrs:{prominent:"",type:"error"}},[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"grow"},[n("div",{staticClass:"title"},[e._v("Error!")]),n("div",[e._v(" Something went wrong, but don’t fret — let’s give it another shot. ")])]),n("v-col",{staticClass:"shrink"},[n("v-btn",{on:{click:e.get}},[e._v("Take action")])],1)],1)],1):n("v-col",{attrs:{cols:"12",sm:"12",md:"10",lg:"11"}},[0===e.results.length?[n("p",{staticClass:"text-center"},[e._v("Ops! No search results")])]:e._l(e.loading?5:e.results,(function(t,o){return n("div",{key:o,staticClass:"mb-5"},[n("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"list-item-avatar-three-line",loading:e.loading,tile:"",large:""}},["undefined"!==typeof t.channelName?n("v-card",{staticClass:"card mb-10",attrs:{to:"/channels/"+t._id,tile:"",flat:""}},[n("v-row",{attrs:{"no-gutters":"",justify:"center"}},[n("v-col",{staticClass:"d-flex",attrs:{cols:"10",sm:"10",md:"3",lg:"3"}},[n("v-avatar",{staticClass:"mx-auto red",attrs:{size:"120","max-width":"150"}},["no-photo.jpg"!==t.photoUrl?n("img",{attrs:{src:e.getUrl+"/uploads/avatars/"+t.photoUrl,alt:t.channelName+" avatar"}}):[n("span",{staticClass:"white--text display-1"},[e._v(" "+e._s(t.channelName.split("")[0].toUpperCase()))])]],2)],1),n("v-col",{staticClass:"justify-center",attrs:{cols:"10",sm:"10",md:"6",lg:"6"}},[n("v-card-title",{staticClass:"pl-2 pt-0 subtitle-1 font-weight-bold align-center"},[e._v(" "+e._s(t.channelName)+" ")]),n("v-card-subtitle",{staticClass:"pl-2 pt-2 pb-0",staticStyle:{"line-height":"1.2"}},[e._v(" "+e._s(t.subscribers)+" subscribers"),n("v-icon",[e._v("mdi-circle-small")]),e._v(e._s(t.videos)+" videos ")],1),n("v-card-subtitle",{staticClass:"pl-2 pt-2 pb-0"},[e._v(" "+e._s(t.description)+" ")])],1)],1)],1):n("v-card",{staticClass:"card mb-10",attrs:{to:"/watch/"+t._id,tile:"",flat:""}},[t.userId?n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"5",sm:"3",md:"3",lg:"3"}},[n("v-img",{staticClass:"align-center",attrs:{src:e.getUrl+"/uploads/thumbnails/"+t.thumbnailUrl,alt:t.userId.channelName+" avatar"}})],1),n("v-col",{attrs:{cols:"7",sm:"7",md:"8",lg:"8"}},[n("div",{staticClass:"ml-2"},[n("v-card-title",{staticClass:"pl-2 pt-0 subtitle-1 font-weight-bold"},[e._v(" "+e._s(t.title)+" ")]),n("v-card-subtitle",{staticClass:"pl-2 pt-2 pb-0",staticStyle:{"line-height":"1.2"}},[e._v(" "+e._s(t.userId.channelName)),n("br"),e._v(" "+e._s(t.views)+" views"),n("v-icon",[e._v("mdi-circle-small")]),e._v("6 hours ago ")],1),n("v-card-subtitle",{staticClass:"pl-2 pt-2 pb-0"},[e._v(" "+e._s(t.description)+" ")])],1)])],1):e._e()],1)],1)],1)})),n("infinite-loading",{attrs:{identifier:e.infiniteId},on:{infinite:e.getSearchResults},scopedSlots:e._u([{key:"error",fn:function(t){var o=t.trigger;return n("div",{},[n("v-alert",{attrs:{prominent:"",type:"error"}},[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"grow"},[n("div",{staticClass:"title"},[e._v("Error!")]),n("div",[e._v(" Something went wrong, but don’t fret — let’s give it another shot. ")])]),n("v-col",{staticClass:"shrink"},[n("v-btn",{on:{click:o}},[e._v("Take action")])],1)],1)],1)],1)}}])},[n("div",{attrs:{slot:"spinner"},slot:"spinner"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"red"}})],1),n("div",{attrs:{slot:"no-results"},slot:"no-results"}),n("span",{attrs:{slot:"no-more"},slot:"no-more"})])],2)],1)],1)],1)},i=[],a=n("2909"),r=n("1da1"),l=n("5530"),s=(n("96cf"),n("d3b7"),n("ac1f"),n("841c"),n("e166")),d=n.n(s),c=n("2f62"),u=n("3f4a"),p={search:function(e,t){return Object(u["a"])().post("search?page=".concat(e),t)}},m={data:function(){return{errored:!1,loading:!0,loaded:!1,page:1,results:[],text:"",infiniteId:+new Date}},computed:Object(l["a"])({},Object(c["b"])(["getUrl"])),methods:{getSearchResults:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.errored=!1,t.loaded||(t.loading=!0),n.next=4,p.search(t.page,{text:t.text}).catch((function(e){console.log(e),t.errored=!0})).finally((function(){t.loading=!1}));case 4:if(o=n.sent,o){n.next=7;break}return n.abrupt("return");case 7:o.data.data.length?(t.page+=1,(i=t.results).push.apply(i,Object(a["a"])(o.data.data)),e&&e.loaded(),t.loaded=!0):e&&e.complete();case 8:case"end":return n.stop()}}),n)})))()}},components:{InfiniteLoading:d.a},beforeRouteUpdate:function(e,t,n){""!==e.query["search-query"]&&(this.text=e.query["search-query"],this.page=1,this.results=[],this.infiniteId+=1,n())},mounted:function(){this.text=this.$route.query["search-query"]}},f=m,y=n("2877"),g=n("6544"),v=n.n(g),h=n("0798"),_=n("8212"),b=n("8336"),C=n("b0af"),k=n("99d9"),w=n("62ad"),P=n("a523"),E=n("132d"),A=n("adda"),I=n("490a"),L=n("0fd9"),T=n("3129"),O=Object(y["a"])(f,o,i,!1,null,null,null);t["default"]=O.exports;v()(O,{VAlert:h["a"],VAvatar:_["a"],VBtn:b["a"],VCard:C["a"],VCardSubtitle:k["b"],VCardTitle:k["d"],VCol:w["a"],VContainer:P["a"],VIcon:E["a"],VImg:A["a"],VProgressCircular:I["a"],VRow:L["a"],VSkeletonLoader:T["a"]})},"2db4":function(e,t,n){"use strict";var o=n("ade3"),i=(n("a9e3"),n("caad"),n("ca71"),n("8dd9")),a=n("a9ad"),r=n("7560"),l=n("f2e7"),s=n("fe6c"),d=n("58df"),c=n("80d2"),u=n("d9bd");t["a"]=Object(d["a"])(i["a"],a["a"],l["a"],Object(s["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:function(e){return"string"===typeof e||!1===e}},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground:function(){return!this.text&&!this.outlined},isDark:function(){return this.hasBackground?!this.light:r["a"].options.computed.isDark.call(this)},styles:function(){if(this.absolute||!this.app)return{};var e=this.$vuetify.application,t=e.bar,n=e.bottom,o=e.footer,i=e.insetFooter,a=e.left,r=e.right,l=e.top;return{paddingBottom:Object(c["h"])(n+o+i),paddingLeft:Object(c["h"])(a),paddingRight:Object(c["h"])(r),paddingTop:Object(c["h"])(t+l)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted:function(){this.isActive&&this.setTimeout()},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(u["e"])("auto-height",this),0==this.timeout&&Object(u["d"])('timeout="0"',"-1",this)},methods:{genActions:function(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(c["s"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent:function(){return this.$createElement("div",{staticClass:"v-snack__content",class:Object(o["a"])({},this.contentClass,!0),attrs:{role:"status","aria-live":"polite"}},[Object(c["s"])(this)])},genWrapper:function(){var e=this,t=this.hasBackground?this.setBackgroundColor:this.setTextColor,n=t(this.color,{staticClass:"v-snack__wrapper",class:i["a"].options.computed.classes.call(this),style:i["a"].options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{pointerenter:function(){return window.clearTimeout(e.activeTimeout)},pointerleave:this.setTimeout}});return this.$createElement("div",n,[this.genContent(),this.genActions()])},genTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout:function(){var e=this;window.clearTimeout(this.activeTimeout);var t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout((function(){e.isActive=!1}),t))}},render:function(e){return e("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},"3adf":function(e,t,n){"use strict";n("b042")},"3d86":function(e,t,n){},"3f2f":function(e,t,n){"use strict";n("5696")},"47cb":function(e,t,n){},"4eb8":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"watch",staticClass:" black",attrs:{id:"watch"}},[n("v-container",{attrs:{fluid:""}},[n("v-row",[e.errored?n("v-alert",{staticClass:"mx-auto",attrs:{prominent:"",type:"error"}},[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"grow"},[n("div",{staticClass:"title"},[e._v("Error!")]),n("div",[e._v(" 오류가 났습니다. 다시 시도하시기를 클릭하십시오. ")])]),n("v-col",{staticClass:"shrink"},[n("v-btn",{on:{click:e.actions}},[e._v("새로 고침해주세요")])],1)],1)],1):n("v-col",{staticClass:"mx-auto",attrs:{cols:"11"}},[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"12",md:"8",lg:"8"}},[n("v-skeleton-loader",{attrs:{type:"card-avatar, article, actions",tile:"",large:""}},[n("div",{ref:"hello"},[n("v-responsive",[n("fluid-player",{attrs:{option:e.options}})],1),n("v-card",{staticClass:"card",attrs:{flat:"",tile:"",color:"black"}},[n("v-card-title",{staticClass:"pl-0 pb-0"},[e._v(e._s(e.video.title))]),n("div",{staticClass:"d-flex flex-wrap justify-space-between",attrs:{id:"btns"}},[n("v-card-subtitle",{staticClass:"pl-0 pt-0 pb-0 subtitle-1",staticStyle:{"line-height":"2.4em"}},[e._v(" "+e._s(e.video.views)+" 조회 "),n("v-icon",[e._v("mdi-circle-small")]),e._v(e._s(e.video.CreatedAt)+" ")],1),n("v-card-actions",{staticClass:"pt-0 pl-0"},[n("v-btn",{attrs:{text:""}},[n("v-icon",{class:"pr-2"+("like"!==e.feeling?" grey--text text--darken-1":"")},[e._v("mdi-thumb-up")]),e._v(e._s(e.video.likes))],1),n("v-btn",{attrs:{text:""}},[n("v-icon",{class:"pr-2"+("dislike"!==e.feeling?" grey--text text--darken-1":"")},[e._v("mdi-thumb-down")]),e._v(" "+e._s(e.video.dislikes))],1)],1)],1)],1)],1),e._l(e.posters,(function(e){return n("div",{key:e._id},[n("v-card",{attrs:{width:"100%",href:e.href,target:"_blank"}},[n("v-img",{staticClass:"grey darken-4",attrs:{src:e.pic_url,"max-height":"600",width:"100%",contain:""}})],1)],1)}))],2)],1),n("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"},scopedSlots:e._u([{key:"error",fn:function(t){var o=t.trigger;return n("div",{},[n("v-alert",{attrs:{prominent:"",type:"error"}},[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"grow"},[n("div",{staticClass:"title"},[e._v("Error!")]),n("div",[e._v(" 오류가 났습니다. 다시 시도하시기를 클릭하십시오. ")])]),n("v-col",{staticClass:"shrink"},[n("v-btn",{on:{click:o}},[e._v("새로 고침하기")])],1)],1)],1)],1)}}])},[n("hr",{staticClass:"grey--text"}),n("h4",{staticClass:"mb-3 mt-3"},[e._v(" 추 천 ")]),e._l(e.videos,(function(t,o){return n("div",{key:o,staticClass:"mb-5"},[n("v-card",{staticClass:"card",attrs:{tile:"",flat:"",color:"black"},on:{click:function(n){return e.nextVideo(t._id)}}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"mx-auto",attrs:{cols:"12",sm:"12",md:"5",lg:"5"}},[n("v-img",{staticClass:"align-center",attrs:{height:"110",src:t.thumbnailUrl}})],1),n("v-col",[n("div",{staticClass:"ml-2"},[n("v-card-title",{staticClass:"pl-2 pt-0 subtitle-1 font-weight-bold",staticStyle:{"line-height":"1"}},[e._v(" "+e._s(t.title)+" ")]),n("v-card-subtitle",{staticClass:"pl-2 pt-2 pb-0",staticStyle:{"line-height":"1"}},[e._v(" "+e._s(t.userId.channelName)),n("br"),e._v(" "+e._s(t.views)+" 시청하기 "),n("v-icon",[e._v("mdi-circle-small")]),e._v(" "+e._s(e.dateFormatter(t.CreatedAt))+" ")],1)],1)])],1)],1)],1)})),n("div",{attrs:{slot:"spinner"},slot:"spinner"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"red"}})],1),n("div",{attrs:{slot:"no-results"},slot:"no-results"}),n("span",{attrs:{slot:"no-more"},slot:"no-more"})],2)],1)],1)],1)],1),n("signin-modal",{attrs:{openModal:e.signinDialog,details:e.details},on:{closeModal:function(t){e.signinDialog=!1}}})],1)},i=[],a=n("2909"),r=n("1da1"),l=n("5530"),s=(n("96cf"),n("d3b7"),n("159b"),n("fb6a"),n("c1df")),d=n.n(s),c=n("2f62"),u=n("7b4e"),p=n("e7f4"),m=n("444b"),f=n("931e"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fluid-component"},[n("video",{ref:"myVideoPlayer",attrs:{controls:"",crossorigin:""}},[n("source",{ref:"source",attrs:{src:e.videoUrl.url,"data-fluid-hd":"",type:"application/x-mpegURL"}})])])},g=[],v=n("9bf3"),h={name:"FluidPlayer",props:{option:{type:Object,default:function(){}}},data:function(){return{player:null,videoUrl:{url:this.option.url}}},mounted:function(){},methods:{getPlay:function(e){var t={layoutControls:{primaryColor:"#28B8ED",preload:!0,playbackRateEnabled:!0,persistentSettings:{volume:!1,quality:!1,speed:!1,theatre:!1},controlForwardBackward:{show:!0},posterImage:e.posterUrl||""},vastOptions:{allowVPAID:!0,adList:[{roll:"preRoll",vastTag:e.ads||"",fallbackVastTags:[""],adText:"Advertising supports us directly"}],vastTimeout:1e3,showProgressbarMarkers:!0,vastAdvanced:{vastLoadedCallback:function(){console.log("Here one event")},noVastVideoCallback:function(){console.log("Here another")},vastVideoSkippedCallback:function(){this.player,console.log("skipped the ad...")},vastVideoEndedCallback:function(){console.log("Here's the last")}}}};this.player=Object(v["a"])(this.$refs.myVideoPlayer,t)}},computed:{},watch:{option:{handler:function(e){this.$set(this.videoUrl,"url",e.url),this.$refs.source.src=e.url,this.getPlay(e)},deep:!0}},unmounted:function(){this.player&&this.player.destroy()}},_=h,b=(n("5d92"),n("2877")),C=Object(b["a"])(_,y,g,!1,null,"efddb948",null),k=C.exports,w={name:"watch",components:{SigninModal:f["a"],FluidPlayer:k},data:function(){return{options:{posterUrl:"",url:"",ads:""},posters:[],videoOptions:{autoplay:!1,controls:!0,muted:!1,sources:[]},loading:!1,loaded:!1,errored:!1,videoLoading:!1,subscribed:!1,subscribeLoading:!1,showSubBtn:!0,feeling:"",video:{},videos:[],page:1,signinDialog:!1,details:{}}},computed:Object(l["a"])({},Object(c["b"])(["currentUser","getUrl","isAuthenticated"])),methods:{nextVideo:function(e){this.$router.push("/watch/"+e),window.location.reload()},getPosters:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].getPosters({typee:3});case 2:n=t.sent,n.data.data.forEach((function(t){e.posters.push(t)}));case 4:case"end":return t.stop()}}),t)})))()},getVideo:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var o,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.errored=!1,t.videoLoading=!0,t.video={},n.prev=3,n.next=6,u["a"].getById(e);case 6:return o=n.sent,n.next=9,u["a"].getPosters({typee:4});case 9:if(i=n.sent,o){n.next=12;break}return n.abrupt("return",t.$router.push("/"));case 12:t.video=o.data.data[0],a=o.data.data[0].url,t.options.posterUrl=o.data.data[0].thumbnailUrl,t.options.url=a,t.options.ads=i.data.data[0].video_url,n.next=23;break;case 19:n.prev=19,n.t0=n["catch"](3),t.errored=!0,console.log(n.t0);case 23:case"end":return n.stop()}}),n,null,[[3,19]])})))()},getVideos:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var o,i,r,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.errored=!1,t.loaded||(t.loading=!0),o=[4,5,6,7,10],i=o[Math.floor(Math.random()*o.length)],n.next=6,u["a"].getAll("public",{page:20*t.page,classify:i}).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.loading=!1}));case 6:if(r=n.sent,"undefined"!==typeof r){n.next=9;break}return n.abrupt("return");case 9:r.data.data.length?((l=t.videos).push.apply(l,Object(a["a"])(r.data.data)),e&&e.loaded(),t.loaded=!0):e&&e.complete();case 10:case"end":return n.stop()}}),n)})))()},checkSubscription:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.isAuthenticated){n.next=2;break}return n.abrupt("return");case 2:return t.loading=!0,n.next=5,p["a"].checkSubscription({channelId:e}).catch((function(e){console.log(e)})).finally((function(){t.loading=!1}));case 5:if(o=n.sent,o){n.next=8;break}return n.abrupt("return");case 8:o.data.data._id?t.subscribed=!0:t.subscribed=!1;case 9:case"end":return n.stop()}}),n)})))()},checkFeeling:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.isAuthenticated){n.next=2;break}return n.abrupt("return");case 2:return t.loading=!0,n.next=5,m["a"].checkFeeling({videoId:e}).catch((function(e){console.log(e)})).finally((function(){t.loading=!1}));case 5:if(o=n.sent,o){n.next=8;break}return n.abrupt("return");case 8:"like"===o.data.data.feeling?t.feeling="like":"dislike"===o.data.data.feeling&&(t.feeling="dislike");case 9:case"end":return n.stop()}}),n)})))()},createFeeling:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.isAuthenticated){n.next=4;break}return t.signinDialog=!0,t.details={title:"like"===e?"Like this video?":"Don't like this video?",text:"Sign in to make your opinion count."},n.abrupt("return");case 4:n.t0=!0,n.next=n.t0===("like"===e&&""===t.feeling)?7:n.t0===("like"===e&&t.feeling===e)?10:n.t0===("like"===e&&"dislike"===t.feeling)?13:n.t0===("dislike"===e&&""===t.feeling)?17:n.t0===("dislike"===e&&t.feeling===e)?20:n.t0===("dislike"===e&&"like"===t.feeling)?23:26;break;case 7:return t.feeling="like",t.video.likes++,n.abrupt("break",26);case 10:return t.feeling="",t.video.likes--,n.abrupt("break",26);case 13:return t.feeling="like",t.video.dislikes--,t.video.likes++,n.abrupt("break",26);case 17:return t.feeling="dislike",t.video.dislikes++,n.abrupt("break",26);case 20:return t.feeling="",t.video.dislikes--,n.abrupt("break",26);case 23:t.feeling="dislike",t.video.likes--,t.video.dislikes++;case 26:return n.next=28,m["a"].createFeeling({videoId:t.video._id,type:e}).catch((function(e){console.log(e)}));case 28:if(o=n.sent,o){n.next=31;break}return n.abrupt("return");case 31:case"end":return n.stop()}}),n)})))()},subscribe:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isAuthenticated){t.next=4;break}return e.signinDialog=!0,e.details={title:"Want to subscribe to this channel?",text:"Sign in to subscribe to this channel."},t.abrupt("return");case 4:return e.subscribeLoading=!0,t.next=7,p["a"].createSubscription({channelId:e.video.userId._id}).catch((function(e){return console.log(e)})).finally((function(){e.subscribeLoading=!1}));case 7:if(n=t.sent,n){t.next=10;break}return t.abrupt("return");case 10:n.data.data._id?(e.subscribed=!0,e.video.userId.subscribers++):(e.subscribed=!1,e.video.userId.subscribers--);case 11:case"end":return t.stop()}}),t)})))()},updateViews:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,u["a"].updateViews(e).catch((function(e){console.log(e)}));case 2:if(o=n.sent,o){n.next=5;break}return n.abrupt("return");case 5:t.video.views++;case 6:case"end":return n.stop()}}),n)})))()},play:function(e){console.log(e)},actions:function(){this.getVideo()},show:function(e){"SHOW MORE"===e.target.innerText?(this.truncate=!1,e.target.innerText="SHOW LESS"):(this.truncate=!0,e.target.innerText="SHOW MORE")},truncateText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e.length<=t?e:e.slice(0,t)},dateFormatter:function(e){return d()(e).format("YYYY-MM-DD")}},mounted:function(){this.getVideo(this.$route.params.id),this.getVideos(this.$state),this.getPosters()}},P=w,E=(n("222f"),n("6544")),A=n.n(E),I=n("0798"),L=n("8336"),T=n("b0af"),O=n("99d9"),V=n("62ad"),R=n("a523"),S=n("132d"),B=n("adda"),x=n("490a"),N=n("6b53"),M=n("0fd9"),D=n("3129"),F=Object(b["a"])(P,o,i,!1,null,null,null);t["default"]=F.exports;A()(F,{VAlert:I["a"],VBtn:L["a"],VCard:T["a"],VCardActions:O["a"],VCardSubtitle:O["b"],VCardTitle:O["d"],VCol:V["a"],VContainer:R["a"],VIcon:S["a"],VImg:B["a"],VProgressCircular:x["a"],VResponsive:N["a"],VRow:M["a"],VSkeletonLoader:D["a"]})},"567d":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-card",[n("v-responsive",{attrs:{"aspect-ratio":16/9,"max-height":"550"}},[n("iframe",{attrs:{width:"100%",height:"100%",src:e.src,frameborder:"0",allowfullscreen:""}})])],1),n("v-divider"),e._l(e.posters,(function(e){return n("div",{key:e._id},[n("v-card",{attrs:{width:"100%",href:e.href,target:"_blank"}},[n("v-img",{staticClass:"grey darken-4",attrs:{src:e.pic_url,"max-height":"600",width:"100%",contain:""}})],1)],1)}))],2)},i=[],a=n("1da1"),r=(n("96cf"),n("d3b7"),n("159b"),n("7b4e")),l={name:"IframePage",components:{},data:function(){return{posters:[],src:""}},methods:{getVideoKR:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r["a"].getByIdKR(e);case 2:return o=n.sent,n.next=5,r["a"].getPosters({typee:3});case 5:i=n.sent,t.src=o.data.data[0].url,i.data.data.forEach((function(e){t.posters.push(e)})),console.log(o.data.data[0].url),console.log(i);case 10:case"end":return n.stop()}}),n)})))()}},mounted:function(){this.getVideoKR(this.$route.params.id)},created:function(){},watch:{}},s=l,d=n("2877"),c=n("6544"),u=n.n(c),p=n("b0af"),m=n("ce7e"),f=n("adda"),y=n("6b53"),g=Object(d["a"])(s,o,i,!1,null,null,null);t["default"]=g.exports;u()(g,{VCard:p["a"],VDivider:m["a"],VImg:f["a"],VResponsive:y["a"]})},5696:function(e,t,n){},"5d92":function(e,t,n){"use strict";n("9544")},"8faf":function(e,t,n){"use strict";var o=function(e,t){const n={AdStarted:()=>e.onStartVpaidAd,AdStopped:()=>e.onStopVpaidAd,AdSkipped:()=>e.onSkipVpaidAd,AdLoaded:()=>e.onVpaidAdLoaded,AdLinearChange:()=>e.onVpaidAdLinearChange,AdSizeChange:()=>e.onVpaidAdSizeChange,AdExpandedChange:()=>e.onVpaidAdExpandedChange,AdSkippableStateChange:()=>e.onVpaidAdSkippableStateChange,AdDurationChange:()=>e.onVpaidAdDurationChange,AdRemainingTimeChange:()=>e.onVpaidAdRemainingTimeChange,AdVolumeChange:()=>e.onVpaidAdVolumeChange,AdImpression:()=>e.onVpaidAdImpression,AdClickThru:()=>e.onVpaidAdClickThru,AdInteraction:()=>e.onVpaidAdInteraction,AdVideoStart:()=>e.onVpaidAdVideoStart,AdVideoFirstQuartile:()=>e.onVpaidAdVideoFirstQuartile,AdVideoMidpoint:()=>e.onVpaidAdVideoMidpoint,AdVideoThirdQuartile:()=>e.onVpaidAdVideoThirdQuartile,AdVideoComplete:()=>e.onVpaidAdVideoComplete,AdUserAcceptInvitation:()=>e.onVpaidAdUserAcceptInvitation,AdUserMinimize:()=>e.onVpaidAdUserMinimize,AdUserClose:()=>e.onVpaidAdUserClose,AdPaused:()=>e.onVpaidAdPaused,AdPlaying:()=>e.onVpaidAdPlaying,AdError:()=>e.onVpaidAdError,AdLog:()=>e.onVpaidAdLog};e.checkVPAIDInterface=e=>{const t=e;return!!(t.handshakeVersion&&"function"==typeof t.handshakeVersion&&t.initAd&&"function"==typeof t.initAd&&t.startAd&&"function"==typeof t.startAd&&t.stopAd&&"function"==typeof t.stopAd&&t.skipAd&&"function"==typeof t.skipAd&&t.resizeAd&&"function"==typeof t.resizeAd&&t.pauseAd&&"function"==typeof t.pauseAd&&t.resumeAd&&"function"==typeof t.resumeAd&&t.expandAd&&"function"==typeof t.expandAd&&t.collapseAd&&"function"==typeof t.collapseAd&&t.subscribe&&"function"==typeof t.subscribe&&t.unsubscribe&&"function"==typeof t.unsubscribe)},e.onVpaidAdPaused=()=>{e.vpaidTimeoutTimerClear(),e.debugMessage("onAdPaused")},e.onVpaidAdPlaying=()=>{e.vpaidTimeoutTimerClear(),e.debugMessage("onAdPlaying")},e.onVpaidAdError=t=>{e.debugMessage("onAdError: "+t),e.vpaidTimeoutTimerClear(),e.onVpaidEnded()},e.onVpaidAdLog=t=>{e.debugMessage("onAdLog: "+t)},e.onVpaidAdUserAcceptInvitation=()=>{e.debugMessage("onAdUserAcceptInvitation")},e.onVpaidAdUserMinimize=()=>{e.debugMessage("onAdUserMinimize")},e.onVpaidAdUserClose=()=>{e.debugMessage("onAdUserClose")},e.onVpaidAdSkippableStateChange=()=>{e.vpaidAdUnit&&e.debugMessage("Ad Skippable State Changed to: "+e.vpaidAdUnit.getAdSkippableState())},e.onVpaidAdExpandedChange=()=>{e.vpaidAdUnit&&e.debugMessage("Ad Expanded Changed to: "+e.vpaidAdUnit.getAdExpanded())},e.getVpaidAdExpanded=()=>{if(e.debugMessage("getAdExpanded"),e.vpaidAdUnit)return e.vpaidAdUnit.getAdExpanded()},e.getVpaidAdSkippableState=()=>{if(e.debugMessage("getAdSkippableState"),e.vpaidAdUnit)return e.vpaidAdUnit.getAdSkippableState()},e.onVpaidAdSizeChange=()=>{e.vpaidAdUnit&&e.debugMessage("Ad size changed to: w="+e.vpaidAdUnit.getAdWidth()+" h="+e.vpaidAdUnit.getAdHeight())},e.onVpaidAdDurationChange=()=>{e.vpaidAdUnit&&e.debugMessage("Ad Duration Changed to: "+e.vpaidAdUnit.getAdDuration())},e.onVpaidAdRemainingTimeChange=()=>{e.vpaidAdUnit&&e.debugMessage("Ad Remaining Time Changed to: "+e.vpaidAdUnit.getAdRemainingTime())},e.getVpaidAdRemainingTime=()=>{if(e.debugMessage("getAdRemainingTime"),e.vpaidAdUnit)return e.vpaidAdUnit.getAdRemainingTime()},e.onVpaidAdImpression=()=>{e.debugMessage("Ad Impression"),e.trackSingleEvent("impression")},e.onVpaidAdClickThru=(t,n,o)=>{e.debugMessage("Clickthrough portion of the ad was clicked"),o&&window.open(e.vastOptions.clickthroughUrl),e.pauseVpaidAd(),e.callUris(e.vastOptions.clicktracking)},e.onVpaidAdInteraction=t=>{e.debugMessage("A non-clickthrough event has occured")},e.onVpaidAdVideoStart=()=>{e.debugMessage("Video 0% completed"),e.trackSingleEvent("start")},e.onVpaidAdVideoFirstQuartile=()=>{e.debugMessage("Video 25% completed"),e.trackSingleEvent("firstQuartile")},e.onVpaidAdVideoMidpoint=()=>{e.debugMessage("Video 50% completed"),e.trackSingleEvent("midpoint")},e.onVpaidAdVideoThirdQuartile=()=>{e.debugMessage("Video 75% completed"),e.trackSingleEvent("thirdQuartile")},e.onVpaidAdVideoComplete=()=>{e.debugMessage("Video 100% completed"),e.trackSingleEvent("complete")},e.onVpaidAdLinearChange=()=>{const t=document.getElementsByClassName("fluid_vpaidNonLinear_ad")[0],n=document.getElementById("close_button_"+e.videoPlayerId),o=t.getAttribute("adlistid");if(e.debugMessage("Ad linear has changed: "+e.vpaidAdUnit.getAdLinear()),!e.vpaidAdUnit.getAdLinear())return;e.backupMainVideoContentTime(o),e.isCurrentlyPlayingAd=!0,n&&n.remove(),t.className="fluid_vpaid_slot",t.id=e.videoPlayerId+"_fluid_vpaid_slot",e.domRef.player.loop=!1,e.domRef.player.removeAttribute("controls");const i=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_currentprogress");for(let a=0;a<i.length;a++)i[a].style.backgroundColor=e.displayOptions.layoutControls.adProgressColor;e.toggleLoader(!1)},e.getVpaidAdLinear=()=>(e.debugMessage("getAdLinear"),e.vpaidAdUnit.getAdLinear()),e.startVpaidAd=()=>{e.debugMessage("startAd"),e.vpaidTimeoutTimerStart(),e.vpaidAdUnit.startAd()},e.onVpaidAdLoaded=()=>{e.debugMessage("ad has been loaded"),e.vpaidTimeoutTimerClear(),e.startVpaidAd()},e.onStartVpaidAd=()=>{e.debugMessage("Ad has started"),e.vpaidTimeoutTimerClear()},e.stopVpaidAd=()=>{e.vpaidTimeoutTimerStart(),e.vpaidAdUnit.stopAd()},e.hardStopVpaidAd=t=>{e.vpaidAdUnit&&(e.vpaidAdUnit.stopAd(),e.vpaidAdUnit=null);const n=document.getElementsByClassName("fluid_vpaid_iframe"),o=document.getElementsByClassName("fluid_vpaid_slot"),i=document.getElementsByClassName("fluid_vpaidNonLinear_ad");for(let e=0;e<n.length;e++)n[e].getAttribute("adListId")!==t&&n[e].remove();for(let e=0;e<o.length;e++)o[e].getAttribute("adListId")!==t&&o[e].remove();for(let e=0;e<i.length;e++)i[e].getAttribute("adListId")!==t&&i[e].remove()},e.onStopVpaidAd=()=>{e.debugMessage("Ad has stopped"),e.vpaidTimeoutTimerClear(),e.onVpaidEnded()},e.onSkipVpaidAd=()=>{e.debugMessage("Ad was skipped"),e.vpaidTimeoutTimerClear(),e.onVpaidEnded()},e.skipVpaidAd=()=>{e.vpaidTimeoutTimerStart(),e.vpaidAdUnit&&(e.vpaidAdUnit.skipAd(),e.vpaidTimeoutTimerClear(),e.onVpaidEnded())},e.setVpaidAdVolume=t=>{e.vpaidAdUnit&&e.vpaidAdUnit.setAdVolume(t)},e.getVpaidAdVolume=()=>{if(e.vpaidAdUnit)return e.vpaidAdUnit.getAdVolume()},e.onVpaidAdVolumeChange=()=>{e.vpaidAdUnit&&e.debugMessage("Ad Volume has changed to - "+e.vpaidAdUnit.getAdVolume())},e.resizeVpaidAuto=()=>{if(null!==e.vastOptions&&e.vastOptions.vpaid&&e.vastOptions.linear){const t=e.domRef.player.offsetWidth,n=e.domRef.player.offsetHeight,o=e.fullscreenMode?"fullscreen":"normal";e.resizeVpaidAd(t,n,o)}},e.resizeVpaidAd=(t,n,o)=>{e.vpaidAdUnit&&e.vpaidAdUnit.resizeAd(t,n,o)},e.pauseVpaidAd=()=>{e.vpaidTimeoutTimerStart(),e.vpaidAdUnit&&e.vpaidAdUnit.pauseAd()},e.resumeVpaidAd=()=>{e.vpaidTimeoutTimerStart(),e.vpaidAdUnit&&e.vpaidAdUnit.resumeAd()},e.expandVpaidAd=()=>{e.vpaidAdUnit&&e.vpaidAdUnit.expandAd()},e.collapseVpaidAd=()=>{e.vpaidAdUnit&&e.vpaidAdUnit.collapseAd()},e.vpaidTimeoutTimerClear=()=>{e.vpaidTimer&&clearTimeout(e.vpaidTimer)},e.vpaidTimeoutTimerStart=()=>{e.vpaidTimeoutTimerClear(),e.vpaidTimer=setTimeout((function(){e.announceLocalError("901"),e.onVpaidEnded()}),e.displayOptions.vastOptions.vpaidTimeout)},e.vpaidCallbackListenersAttach=()=>{for(let t in n)e.vpaidAdUnit.subscribe(n[t](),t,e)},e.vpaidCallbackListenersDetach=()=>{if(e.vpaidAdUnit)for(let t in n)e.vpaidAdUnit.unsubscribe(n[t](),t,e)},e.loadVpaid=(t,n)=>{const o=document.createElement("iframe");o.id=e.videoPlayerId+"_"+t+"_fluid_vpaid_iframe",o.className="fluid_vpaid_iframe",o.setAttribute("adListId",t),o.setAttribute("frameborder","0"),e.domRef.player.parentNode.insertBefore(o,e.domRef.player.nextSibling),o.contentWindow.document.write('<script src="'+n+'"><\/script>'),e.tempVpaidCounter=0,e.getVPAIDAdInterval=setInterval((function(){const n=o.contentWindow["getVPAIDAd"];if(n&&"function"==typeof n)e.vpaidAdUnit&&e.hardStopVpaidAd(t),e.vpaidAdUnit=n(),clearInterval(e.getVPAIDAdInterval),e.checkVPAIDInterface(e.vpaidAdUnit)&&(e.getVpaidAdLinear()?(e.isCurrentlyPlayingAd=!0,e.switchPlayerToVpaidMode(t)):(e.debugMessage("non linear vpaid ad is loaded"),e.loadVpaidNonlinearAssets(t)));else{if(e.tempVpaidCounter++,e.tempVpaidCounter>=20)return clearInterval(e.getVPAIDAdInterval),e.adList[t].error=!0,e.playMainVideoWhenVpaidFails(403),!1;e.debugMessage(e.tempVpaidCounter)}}),100)},e.onVpaidEnded=t=>{t&&t.stopImmediatePropagation();const n=document.getElementById(e.videoPlayerId+"_fluid_vpaid_slot");e.vpaidCallbackListenersDetach(),e.vpaidAdUnit=null,clearInterval(e.getVPAIDAdInterval),n&&n.remove(),e.checkForNextAd()},e.playMainVideoWhenVpaidFails=t=>{const n=document.getElementById(e.videoPlayerId+"_fluid_vpaid_slot");n&&n.remove(),clearInterval(e.getVPAIDAdInterval),e.playMainVideoWhenVastFails(t)},e.switchPlayerToVpaidMode=()=>{}},i=function(e,t){e.getClickThroughUrlFromLinear=t=>{const n=t.getElementsByTagName("VideoClicks");if(n.length){const t=n[0].getElementsByTagName("ClickThrough");if(t.length)return e.extractNodeData(t[0])}return!1},e.getVastAdTagUriFromWrapper=t=>{const n=t.getElementsByTagName("Wrapper");if("undefined"!==typeof n&&n.length){const t=n[0].getElementsByTagName("VASTAdTagURI");if(t.length)return e.extractNodeData(t[0])}return!1},e.hasInLine=e=>{const t=e.getElementsByTagName("InLine");return"undefined"!==typeof t&&t.length},e.hasVastAdTagUri=e=>{const t=e.getElementsByTagName("VASTAdTagURI");return"undefined"!==typeof t&&t.length},e.getClickThroughUrlFromNonLinear=t=>{let n="";const o=t.getElementsByTagName("NonLinear");if(o.length){const o=t.getElementsByTagName("NonLinearClickThrough");o.length&&(n=e.extractNodeData(o[0]))}return n},e.getTrackingFromLinear=e=>{const t=e.getElementsByTagName("TrackingEvents");return t.length?t[0].getElementsByTagName("Tracking"):[]},e.getDurationFromLinear=t=>{const n=t.getElementsByTagName("Duration");if(n.length&&"undefined"!==typeof n[0].childNodes[0]){const t=e.extractNodeData(n[0]);return e.convertTimeStringToSeconds(t)}return!1},e.getDurationFromNonLinear=t=>{let n=0;const o=t.getElementsByTagName("NonLinear");return o.length&&"undefined"!==typeof o[0].getAttribute("minSuggestedDuration")&&(n=e.convertTimeStringToSeconds(o[0].getAttribute("minSuggestedDuration"))),n},e.getDimensionFromNonLinear=e=>{const t={width:null,height:null},n=e.getElementsByTagName("NonLinear");return n.length&&("undefined"!==typeof n[0].getAttribute("width")&&(t.width=n[0].getAttribute("width")),"undefined"!==typeof n[0].getAttribute("height")&&(t.height=n[0].getAttribute("height"))),t},e.getCreativeTypeFromStaticResources=e=>{let t="";const n=e.getElementsByTagName("NonLinear");return n.length&&"undefined"!==typeof n[0].childNodes[0]&&(t=n[0].getElementsByTagName("StaticResource")[0].getAttribute("creativeType")),t.toLowerCase()},e.getMediaFilesFromLinear=e=>{const t=e.getElementsByTagName("MediaFiles");return t.length?t[0].getElementsByTagName("MediaFile"):[]},e.getStaticResourcesFromNonLinear=e=>{let t=[];const n=e.getElementsByTagName("NonLinear");return n.length&&(t=n[0].getElementsByTagName("StaticResource")),t},e.extractNodeData=e=>{let t="";for(let n=0;n<e.childNodes.length;n++){const o=e.childNodes[n];8===o.nodeType||3===o.nodeType&&/^\s*$/.test(o.nodeValue)||(t+=o.nodeValue)}return t.replace(/(^\s+|\s+$)/g,"")},e.getAdParametersFromLinear=t=>{const n=t.getElementsByTagName("AdParameters");let o=null;return n.length&&(o=e.extractNodeData(n[0])),o},e.getMediaFileListFromLinear=t=>{const n=[],o=e.getMediaFilesFromLinear(t);if(!o.length)return n;for(let i=0;i<o.length;i++){let t=o[i].getAttribute("mediaType");t||(t="2D"),n.push({src:e.extractNodeData(o[i]),type:o[i].getAttribute("type"),apiFramework:o[i].getAttribute("apiFramework"),codec:o[i].getAttribute("codec"),id:o[i].getAttribute("codec"),fileSize:o[i].getAttribute("fileSize"),delivery:o[i].getAttribute("delivery"),width:o[i].getAttribute("width"),height:o[i].getAttribute("height"),mediaType:t.toLowerCase()})}return n},e.getIconClickThroughFromLinear=t=>{const n=t.getElementsByTagName("IconClickThrough");return n.length?e.extractNodeData(n[0]):""},e.getStaticResourceFromNonLinear=t=>{let n;const o=e.getStaticResourcesFromNonLinear(t);for(let i=0;i<o.length;i++)if(o[i].getAttribute("type")||(n=e.extractNodeData(o[i])),o[i].getAttribute("type")===e.displayOptions.staticResource)return e.extractNodeData(o[i]);return n},e.registerTrackingEvents=(t,n)=>{const o=e.getTrackingFromLinear(t);let i="",a=0;for(let r=0;r<o.length;r++)switch(i=o[r].getAttribute("event"),i){case"start":case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":"undefined"===typeof n.tracking[i]&&(n.tracking[i]=[]),"undefined"===typeof n.stopTracking[i]&&(n.stopTracking[i]=[]),n.tracking[i].push(o[r].childNodes[0].nodeValue),n.stopTracking[i]=!1;break;case"progress":"undefined"===typeof n.tracking[i]&&(n.tracking[i]=[]),a=e.convertTimeStringToSeconds(o[r].getAttribute("offset")),"undefined"===typeof n.tracking[i][a]&&(n.tracking[i][a]={elements:[],stopTracking:!1}),n.tracking[i][a].elements.push(o[r].childNodes[0].nodeValue);break;default:break}},e.registerClickTracking=(e,t)=>{if(e&&e.length)for(let n=0;n<e.length;n++)""!==e[n]&&t.clicktracking.push(e[n])},e.registerImpressionEvents=(t,n)=>{if(t.length)for(let o=0;o<t.length;o++){const i=e.extractNodeData(t[o]);n.impression.push(i)}},e.registerErrorEvents=(e,t)=>{"undefined"!==typeof e&&null!==e&&1===e.length&&1===e[0].childNodes.length&&(t.errorUrl=e[0].childNodes[0].nodeValue)},e.announceError=t=>{if("undefined"===typeof e.vastOptions.errorUrl||!e.vastOptions.errorUrl)return;const n="undefined"!==typeof t?parseInt(t):900,o=e.vastOptions.errorUrl.replace("[ERRORCODE]",n);e.callUris([o])},e.getClickTrackingEvents=t=>{const n=[],o=t.getElementsByTagName("VideoClicks");if(!o.length)return;const i=o[0].getElementsByTagName("ClickTracking");if(i.length){for(let t=0;t<i.length;t++){const o=e.extractNodeData(i[t]);n.push(o)}return n}},e.getNonLinearClickTrackingEvents=t=>{const n=[],o=t.getElementsByTagName("NonLinear");if(!o.length)return;const i=t.getElementsByTagName("NonLinearClickTracking");if(i.length){for(let t=0;t<i.length;t++){const o=e.extractNodeData(i[t]);n.push(o)}return n}},e.callUris=e=>{for(let t=0;t<e.length;t++)(new Image).src=e[t]},e.recalculateAdDimensions=()=>{const t=document.getElementById(e.videoPlayerId),n=document.getElementById("vast_clickthrough_layer_"+e.videoPlayerId);n&&(n.style.width=t.offsetWidth+"px",n.style.height=t.offsetHeight+"px");const o=e.checkFullscreenSupport("fluid_video_wrapper_"+e.videoPlayerId),i=document.getElementById(e.videoPlayerId+"_fluid_control_fullscreen"),a=document.getElementById(e.videoPlayerId+"context_option_fullscreen");if(o)null===document[o.isFullscreen]?e.fullscreenOff(i,a):e.fullscreenOn(i,a);else{const t=document.getElementById("fluid_video_wrapper_"+e.videoPlayerId);-1!==t.className.search(/\bpseudo_fullscreen\b/g)?(t.className+=" pseudo_fullscreen",e.fullscreenOn(i,a)):(t.className=t.className.replace(/\bpseudo_fullscreen\b/g,""),e.fullscreenOff(i,a))}},e.prepareVast=t=>{let n=e.findRoll(t);for(let o=0;o<n.length;o++){const i=n[o];!0!==e.adList[i].vastLoaded&&!0!==e.adList[i].error&&(e.processVastWithRetries(e.adList[i]),e.domRef.player.addEventListener("adId_"+i,e[t]))}},e.playMainVideoWhenVastFails=t=>{e.debugMessage("playMainVideoWhenVastFails called"),e.domRef.player.removeEventListener("loadedmetadata",e.switchPlayerToVastMode),e.domRef.player.pause(),e.toggleLoader(!1),e.displayOptions.vastOptions.vastAdvanced.noVastVideoCallback(),e.vastOptions&&"undefined"!==typeof e.vastOptions.errorUrl?e.announceError(t):e.announceLocalError(t),e.switchToMainVideo()},e.switchPlayerToVastMode=()=>{},e.processVastXml=(t,n,o)=>{let i;if(!t)return void o(!1);const a=t.getElementsByTagName("Impression");null!==a&&e.registerImpressionEvents(a,n);const r=t.getElementsByTagName("Error");null!==r&&e.registerErrorEvents(r,n);const l=t.getElementsByTagName("Creative");if("undefined"!==typeof l&&l.length){const a=l[0].getElementsByTagName("Linear");if("undefined"!==typeof a&&null!==a&&a.length){const o=a[0];e.registerTrackingEvents(o,n),i=e.getClickTrackingEvents(o),e.registerClickTracking(i,n),!e.hasVastAdTagUri(t)&&e.hasInLine(t)&&(n.adFinished=!1,n.adType="linear",n.vpaid=!1,n.skipoffset=e.convertTimeStringToSeconds(o.getAttribute("skipoffset")),n.clickthroughUrl=e.getClickThroughUrlFromLinear(o),n.duration=e.getDurationFromLinear(o),n.mediaFileList=e.getMediaFileListFromLinear(o),n.adParameters=e.getAdParametersFromLinear(o),n.iconClick=e.getIconClickThroughFromLinear(o),n.adParameters&&(n.vpaid=!0))}const r=l[0].getElementsByTagName("NonLinearAds");if("undefined"!==typeof r&&null!==r&&r.length){const o=r[0];e.registerTrackingEvents(o,n),i=e.getNonLinearClickTrackingEvents(o),e.registerClickTracking(i,n),!e.hasVastAdTagUri(t)&&e.hasInLine(t)&&(n.adType="nonLinear",n.vpaid=!1,n.clickthroughUrl=e.getClickThroughUrlFromNonLinear(o),n.duration=e.getDurationFromNonLinear(o),n.dimension=e.getDimensionFromNonLinear(o),n.staticResource=e.getStaticResourceFromNonLinear(o),n.creativeType=e.getCreativeTypeFromStaticResources(o),n.adParameters=e.getAdParametersFromLinear(o),n.adParameters&&(n.vpaid=!0))}!e.hasVastAdTagUri(t)&&e.hasInLine(t)&&("undefined"!==typeof n.mediaFileList||"undefined"!==typeof n.staticResource?o(!0,n):o(!1))}else o(!1)},e.processVastWithRetries=t=>{let n=t.vastTag;const o=t.id,i=function(a,r){if(a&&"undefined"!==typeof r&&r.vpaid&&!e.displayOptions.vastOptions.allowVPAID&&(a=!1,e.announceLocalError("103","VPAID not allowed, so skipping this VAST tag.")),a){if("linear"===r.adType){"undefined"!==typeof r.iconClick&&null!==r.iconClick&&r.iconClick.length&&(e.adList[o].landingPage=r.iconClick);const t=e.getSupportedMediaFileObject(r.mediaFileList);t&&(e.adList[o].mediaType=t.mediaType)}e.adList[o].adType=r.adType?r.adType:"unknown",e.adList[o].vastLoaded=!0,e.adPool[o]=Object.assign({},r);const t=document.createEvent("Event");if(t.initEvent("adId_"+o,!1,!0),e.domRef.player.dispatchEvent(t),e.displayOptions.vastOptions.vastAdvanced.vastLoadedCallback(),e.hasTitle()){const t=document.getElementById(e.videoPlayerId+"_title");t.style.display="none"}}else e.announceLocalError("101"),t.hasOwnProperty("fallbackVastTags")&&t.fallbackVastTags.length>0?(n=t.fallbackVastTags.shift(),e.processUrl(n,i)):("preRoll"===t.roll&&e.preRollFail(t),e.adList[o].error=!0)};e.processUrl(n,i)},e.processUrl=(t,n)=>{const o=0,i={tracking:[],stopTracking:[],impression:[],clicktracking:[],vastLoaded:!1};e.resolveVastTag(t,o,i,n)},e.resolveVastTag=(t,n,o,i)=>{if(!t||""===t)return void i(!1);const a=function(){const t=this;let a=!1;if(4!==t.readyState||404!==t.status)if(4!==t.readyState||0!==t.status){if(4===t.readyState&&200===t.status)if(4!==t.readyState||200===t.status){try{a=t.responseXML}catch(r){return void i(!1)}if(a){if(e.inLineFound=e.hasInLine(a),!e.inLineFound&&e.hasVastAdTagUri(a)){const t=e.getVastAdTagUriFromWrapper(a);if(!t)return void i(!1);e.resolveVastTag(t,n,o,i)}n>e.displayOptions.vastOptions.maxAllowedVastTagRedirects&&!e.inLineFound?i(!1):e.processVastXml(a,o,i)}else i(!1)}else i(!1)}else i(!1);else i(!1)};n<=e.displayOptions.vastOptions.maxAllowedVastTagRedirects&&e.sendRequest(t,!0,e.displayOptions.vastOptions.vastTimeout,a),n++},e.setVastList=()=>{const t={},n={preRoll:[],postRoll:[],midRoll:[],onPauseRoll:[]},o={id:null,roll:null,played:!1,vastLoaded:!1,error:!1,adText:null,adTextPosition:null};let i=0;const a=function(e){let t=!1;return"midRoll"===e.roll&&"undefined"===typeof e.timer&&(t=!0),t},r=function(t){let n=!1;return t.vastTag||(e.announceLocalError(102,'"vastTag" property is missing from adList.'),n=!0),t.roll||(e.announceLocalError(102,'"roll" is missing from adList.'),n=!0),-1===e.availableRolls.indexOf(t.roll)&&(e.announceLocalError(102,"Only "+e.availableRolls.join(",")+" rolls are supported."),n=!0),t.size&&-1===e.supportedNonLinearAd.indexOf(t.size)&&(e.announceLocalError(102,"Only "+e.supportedNonLinearAd.join(",")+" size are supported."),n=!0),n};if(e.displayOptions.vastOptions.hasOwnProperty("adList"))for(let l in e.displayOptions.vastOptions.adList){let n=e.displayOptions.vastOptions.adList[l];if(r(n)){e.announceLocalError(102,"Wrong adList parameters.");continue}const s="ID"+i;t[s]=Object.assign({},o),t[s]=Object.assign(t[s],e.displayOptions.vastOptions.adList[l]),"midRoll"==n.roll&&(t[s].error=a("midRoll",n)),t[s].id=s,i++}Object.keys(t).map((function(e){t[e].roll.toLowerCase()==="preRoll".toLowerCase()?n.preRoll.push(t[e]):t[e].roll.toLowerCase()==="midRoll".toLowerCase()?n.midRoll.push(t[e]):t[e].roll.toLowerCase()==="postRoll".toLowerCase()?n.postRoll.push(t[e]):t[e].roll.toLowerCase()==="onPauseRoll".toLowerCase()&&n.onPauseRoll.push(t[e])})),e.adGroupedByRolls=n,e.adList=t},e.onVastAdEnded=t=>{t&&t.stopImmediatePropagation(),e.deleteVastAdElements(),e.checkForNextAd()},e.vastLogoBehaviour=t=>{if(!e.displayOptions.layoutControls.logo.showOverAds){const n=document.getElementById(e.videoPlayerId+"_logo"),o=document.getElementById(e.videoPlayerId+"_logo_image");if(!n||!o)return;n.style.display=t?"none":"inline"}},e.deleteVastAdElements=()=>{e.removeClickthrough(),e.removeSkipButton(),e.removeAdCountdown(),e.removeAdPlayingText(),e.removeCTAButton(),e.vastLogoBehaviour(!1)}},a=function(e,t){e.createCardboardJoystickButton=t=>{const n=document.getElementById(e.videoPlayerId+"_fluid_vr_joystick_panel"),o=document.createElement("div");return o.id=e.videoPlayerId+"_fluid_vr_joystick_"+t,o.className="fluid_vr_button fluid_vr_joystick_"+t,n.appendChild(o),o},e.cardboardRotateLeftRight=t=>{const n=e.vrROTATION_POSITION,o=-e.vrROTATION_POSITION,i=t<1?n:o,a={val:i};new TWEEN.Tween(a).to({val:0},e.vrROTATION_SPEED).easing(TWEEN.Easing.Quadratic.InOut).onUpdate((function(){e.vrViewer.OrbitControls.rotateLeft(a.val)})).start()},e.cardboardRotateUpDown=t=>{const n=e.vrROTATION_POSITION,o=-e.vrROTATION_POSITION,i=t<1?n:o,a={val:i};new TWEEN.Tween(a).to({val:0},e.vrROTATION_SPEED).easing(TWEEN.Easing.Quadratic.InOut).onUpdate((function(){e.vrViewer.OrbitControls.rotateUp(a.val)})).start()},e.createCardboardJoystick=()=>{const t=document.getElementById(e.videoPlayerId+"_fluid_vr_container"),n=document.createElement("div");n.id=e.videoPlayerId+"_fluid_vr_joystick_panel",n.className="fluid_vr_joystick_panel",t.appendChild(n);const o=e.createCardboardJoystickButton("up"),i=e.createCardboardJoystickButton("left"),a=e.createCardboardJoystickButton("right"),r=e.createCardboardJoystickButton("down"),l=e.createCardboardJoystickButton("zoomdefault"),s=e.createCardboardJoystickButton("zoomin"),d=e.createCardboardJoystickButton("zoomout");o.addEventListener("click",(function(){e.cardboardRotateUpDown(1)})),r.addEventListener("click",(function(){e.cardboardRotateUpDown(0)})),a.addEventListener("click",(function(){e.cardboardRotateLeftRight(0)})),i.addEventListener("click",(function(){e.cardboardRotateLeftRight(1)})),l.addEventListener("click",(function(){e.vrViewer.camera.fov=60,e.vrViewer.camera.updateProjectionMatrix()})),d.addEventListener("click",(function(){e.vrViewer.camera.fov*=1.1,e.vrViewer.camera.updateProjectionMatrix()})),s.addEventListener("click",(function(){e.vrViewer.camera.fov*=.9,e.vrViewer.camera.updateProjectionMatrix()}))},e.cardBoardResize=()=>{e.domRef.player.addEventListener("theatreModeOn",(function(){e.vrViewer.onWindowResize()})),e.domRef.player.addEventListener("theatreModeOff",(function(){e.vrViewer.onWindowResize()}))},e.cardBoardSwitchToNormal=()=>{const t=document.getElementById(e.videoPlayerId+"_fluid_vr_joystick_panel"),n=document.getElementById(e.videoPlayerId+"_fluid_controls_container"),o=e.domRef.player;e.vrViewer.enableEffect(PANOLENS.MODES.NORMAL),e.vrViewer.onWindowResize(),e.vrMode=!1;const i=o.parentNode.getElementsByClassName("fluid_vr2_controls_container")[0];o.parentNode.removeChild(i),e.displayOptions.layoutControls.showCardBoardJoystick&&t&&(t.style.display="block"),n.classList.remove("fluid_vr_controls_container");const a=document.getElementById(e.videoPlayerId+"_fluid_control_volume_container");a.style.display="block";const r=document.getElementById("ad_countdown"+e.videoPlayerId),l=document.getElementById(e.videoPlayerId+"_fluid_cta"),s=document.getElementById(e.videoPlayerId+"_fluid_ad_playing"),d=document.getElementById("skip_button_"+e.videoPlayerId);r&&(r.style.display="block"),l&&(l.style.display="block"),s&&(s.style.display="block"),d&&(d.style.display="block")},e.cardBoardHideDefaultControls=()=>{const t=document.getElementById(e.videoPlayerId+"_fluid_vr_joystick_panel"),n=document.getElementById(e.videoPlayerId+"_fluid_initial_play"),o=document.getElementById(e.videoPlayerId+"_fluid_control_volume_container");e.displayOptions.layoutControls.showCardBoardJoystick&&t&&(t.style.display="none"),n&&(document.getElementById(e.videoPlayerId+"_fluid_initial_play").style.display="none",document.getElementById(e.videoPlayerId+"_fluid_initial_play_button").style.opacity="1"),o.style.display="none"},e.cardBoardCreateVRControls=()=>{const t=document.getElementById(e.videoPlayerId+"_fluid_controls_container"),n=t.cloneNode(!0);n.removeAttribute("id"),n.querySelectorAll("*").forEach((function(e){e.removeAttribute("id")})),n.classList.add("fluid_vr2_controls_container"),e.domRef.player.parentNode.insertBefore(n,e.domRef.player.nextSibling),e.copyEvents(n)},e.cardBoardSwitchToVR=()=>{const t=document.getElementById(e.videoPlayerId+"_fluid_controls_container");e.vrViewer.enableEffect(PANOLENS.MODES.CARDBOARD),e.vrViewer.onWindowResize(),e.vrViewer.disableReticleControl(),e.vrMode=!0,t.classList.add("fluid_vr_controls_container"),e.cardBoardHideDefaultControls(),e.cardBoardCreateVRControls();const n=document.getElementById("ad_countdown"+e.videoPlayerId),o=document.getElementById(e.videoPlayerId+"_fluid_cta"),i=document.getElementById(e.videoPlayerId+"_fluid_ad_playing"),a=document.getElementById("skip_button_"+e.videoPlayerId);n&&(n.style.display="none"),o&&(o.style.display="none"),i&&(i.style.display="none"),a&&(a.style.display="none")},e.cardBoardMoveTimeInfo=()=>{const t=document.getElementById(e.videoPlayerId+"_fluid_control_duration"),n=document.getElementById(e.videoPlayerId+"_fluid_controls_container");t.classList.add("cardboard_time"),n.appendChild(t),e.controlDurationUpdate=function(){const t=e.formatTime(e.domRef.player.currentTime),n=e.formatTime(e.currentVideoDuration),o=e.domRef.player.parentNode.getElementsByClassName("fluid_control_duration");let i="";if(e.isCurrentlyPlayingAd){i="<span class='ad_timer_prefix'>AD : </span>"+t+" / "+n;for(let e=0;e<o.length;e++)o[e].classList.add("ad_timer_prefix")}else{i=t+" / "+n;for(let e=0;e<o.length;e++)o[e].classList.remove("ad_timer_prefix")}for(let e=0;e<o.length;e++)o[e].innerHTML=i}},e.cardBoardAlterDefaultControls=()=>{e.cardBoardMoveTimeInfo()},e.createCardboardView=()=>{const t=document.createElement("div");t.id=e.videoPlayerId+"_fluid_vr_container",t.className="fluid_vr_container",e.domRef.player.parentNode.insertBefore(t,e.domRef.player.nextSibling),PANOLENS.VideoPanorama.prototype.pauseVideo=function(){},PANOLENS.VideoPanorama.prototype.playVideo=function(){},e.vrPanorama=new PANOLENS.VideoPanorama("",{videoElement:e.domRef.player,autoplay:e.displayOptions.layoutControls.autoPlay,loop:!!e.displayOptions.layoutControls.loop}),e.vrViewer=new PANOLENS.Viewer({container:t,controlBar:!0,controlButtons:[],enableReticle:!1}),e.vrViewer.add(e.vrPanorama),e.vrViewer.enableEffect(PANOLENS.MODES.NORMAL),e.vrViewer.onWindowResize(),"Android"!==e.getMobileOs().userOs&&"iOS"!==e.getMobileOs().userOs||e.vrViewer.enableControl(1),e.cardBoardAlterDefaultControls(),e.cardBoardResize(),e.vrViewer.initialCameraPosition=JSON.parse(JSON.stringify(e.vrViewer.camera.position)),e.displayOptions.layoutControls.showCardBoardJoystick&&("Android"!==e.getMobileOs().userOs&&"iOS"!==e.getMobileOs().userOs&&e.createCardboardJoystick(),e.vrViewer.OrbitControls.noZoom=!0),e.trackEvent(e.domRef.player.parentNode,"click",".fluid_control_cardboard",(function(){e.vrMode?e.cardBoardSwitchToNormal():e.cardBoardSwitchToVR()}))},e.createCardboard=()=>{e.displayOptions.layoutControls.showCardBoardView&&(document.getElementById(e.videoPlayerId+"_fluid_control_cardboard").style.display="inline-block",window.PANOLENS?e.createCardboardView():n.e("panolens").then(n.bind(null,"f4a6")).then(t=>{window.PANOLENS=t,e.createCardboardView()}))}},r=function(e,t){e.subtitleFetchParse=t=>{e.sendRequest(t.url,!0,e.displayOptions.vastOptions.vastTimeout,(function(){const t=this;if(4===t.readyState&&200!==t.status)return;if(4!==t.readyState||200!==t.status)return;const n=t.responseText,o=new WebVTT.Parser(window,WebVTT.StringDecoder()),i=[],a=[];o.oncue=function(e){i.push(e)},o.onregion=function(e){a.push(e)},o.parse(n),o.flush(),e.subtitlesData=i}))},e.createSubtitlesSwitch=()=>{const t="OFF";if(e.subtitlesData=[],!e.displayOptions.layoutControls.subtitlesEnabled)return void(document.getElementById(e.videoPlayerId+"_fluid_control_subtitles").style.display="none");const n=[];n.push({label:t,url:"na",lang:t});const o=e.domRef.player.querySelectorAll("track");[].forEach.call(o,(function(e){"metadata"===e.kind&&e.src&&n.push({label:e.label,url:e.src,lang:e.srclang})})),e.subtitlesTracks=n;const i=document.getElementById(e.videoPlayerId+"_fluid_control_subtitles");i.style.display="inline-block";let a=!1;const r=document.createElement("div");r.id=e.videoPlayerId+"_fluid_control_subtitles_list",r.className="fluid_subtitles_list",r.style.display="none";let l=!0;e.subtitlesTracks.forEach((function(n){const o=l?"subtitle_selected":"";l=!1;const i=document.createElement("div");i.id="subtitle_"+e.videoPlayerId+"_"+n.label,i.className="fluid_subtitle_list_item",i.innerHTML='<span class="subtitle_button_icon '+o+'"></span>'+n.label,i.addEventListener("click",(function(n){n.stopPropagation();const o=this,i=document.getElementsByClassName("subtitle_button_icon");for(let e=0;e<i.length;e++)i[e].className=i[e].className.replace("subtitle_selected","");o.firstChild.className+=" subtitle_selected",e.subtitlesTracks.forEach((function(n){n.label===o.innerText.replace(/(\r\n\t|\n|\r\t)/gm,"")&&(n.label===t?e.subtitlesData=[]:e.subtitleFetchParse(n))})),e.openCloseSubtitlesSwitch()})),r.appendChild(i),a=!0})),a?(i.appendChild(r),i.addEventListener("click",(function(){e.openCloseSubtitlesSwitch()}))):document.getElementById(e.videoPlayerId+"_fluid_control_subtitles").style.display="none";const s=function(){e.renderSubtitles()};e.domRef.player.addEventListener("timeupdate",s)},e.renderSubtitles=()=>{const t=e.domRef.player;let n=Math.floor(t.currentTime),o=!1,i=document.getElementById(e.videoPlayerId+"_fluid_subtitles_container");if(e.isCurrentlyPlayingAd)i.innerHTML="";else{for(let t=0;t<e.subtitlesData.length;t++)n>=e.subtitlesData[t].startTime&&n<=e.subtitlesData[t].endTime&&(i.innerHTML="",i.appendChild(WebVTT.convertCueToDOMTree(window,e.subtitlesData[t].text)),o=!0);o||(i.innerHTML="")}},e.openCloseSubtitlesSwitch=()=>{const t=document.getElementById(e.videoPlayerId+"_fluid_control_subtitles_list");if(e.isCurrentlyPlayingAd)t.style.display="none";else if("none"===t.style.display){t.style.display="block";const e=function(n){t.removeEventListener("mouseleave",e),t.style.display="none"};t.addEventListener("mouseleave",e)}else t.style.display="none"},e.createSubtitles=()=>{const t=document.createElement("div");t.id=e.videoPlayerId+"_fluid_subtitles_container",t.className="fluid_subtitles_container",e.domRef.player.parentNode.insertBefore(t,e.domRef.player.nextSibling),e.displayOptions.layoutControls.subtitlesEnabled&&n.e("vttjs").then(n.t.bind(null,"2b8c",7)).then(t=>{window.WebVTT=t.WebVTT,e.createSubtitlesSwitch()})}},l=function(e,t){e.setupThumbnailPreviewVtt=()=>{e.sendRequest(e.displayOptions.layoutControls.timelinePreview.file,!0,e.displayOptions.vastOptions.vastTimeout,(function(){const t=function(t){if("undefined"===typeof t.cues||!t.cues.length)return[];const n=[];let o=null,i=null;for(let a=0;a<t.cues.length;a++){o=t.cues[a].text.split("#");let r,l=0,s=0,d=122.5,c=69;2===o.length&&0===o[1].indexOf("xywh=")&&(i=o[1].substring(5),i=i.split(","),4===i.length&&(e.displayOptions.layoutControls.timelinePreview.spriteImage=!0,l=parseInt(i[0]),s=parseInt(i[1]),d=parseInt(i[2]),c=parseInt(i[3]))),!e.displayOptions.layoutControls.timelinePreview.spriteRelativePath||-1===e.displayOptions.layoutControls.timelinePreview.file.indexOf("/")||"undefined"!==typeof e.displayOptions.layoutControls.timelinePreview.sprite&&""!==e.displayOptions.layoutControls.timelinePreview.sprite?r=e.displayOptions.layoutControls.timelinePreview.sprite?e.displayOptions.layoutControls.timelinePreview.sprite:o[0]:(r=e.displayOptions.layoutControls.timelinePreview.file.substring(0,e.displayOptions.layoutControls.timelinePreview.file.lastIndexOf("/")),r+="/"+o[0]),n.push({startTime:t.cues[a].startTime,endTime:t.cues[a].endTime,image:r,x:l,y:s,w:d,h:c})}return n},n=this;if(4===n.readyState&&200!==n.status)return;if(4!==n.readyState||200!==n.status)return;const o=n.responseText,i=new window.WebVTTParser,a=i.parse(o);e.timelinePreviewData=t(a)}))},e.generateTimelinePreviewTags=()=>{const t=document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container"),n=document.createElement("div");n.id=e.videoPlayerId+"_fluid_timeline_preview_container",n.className="fluid_timeline_preview_container",n.style.display="none",n.style.position="absolute",t.appendChild(n);const o=document.createElement("div");o.id=e.videoPlayerId+"_fluid_timeline_preview_container_shadow",o.className="fluid_timeline_preview_container_shadow",o.style.position="absolute",o.style.display="none",o.style.opacity=1,t.appendChild(o)},e.getThumbnailCoordinates=t=>{if(e.timelinePreviewData.length)for(let n=0;n<e.timelinePreviewData.length;n++)if(t>=e.timelinePreviewData[n].startTime&&t<=e.timelinePreviewData[n].endTime)return e.timelinePreviewData[n];return!1},e.drawTimelinePreview=t=>{const n=document.getElementById(e.videoPlayerId+"_fluid_timeline_preview_container"),o=document.getElementById(e.videoPlayerId+"_fluid_timeline_preview_container_shadow"),i=document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container"),a=i.clientWidth;if(e.isCurrentlyPlayingAd)return void("none"!==n.style.display&&(n.style.display="none"));const r=e.getEventOffsetX(t,i);let l=null;if(a){l=e.currentVideoDuration*r/a;const t=e.getThumbnailCoordinates(l);o.style.width=a+"px",o.style.display="block",!1!==t?(n.style.width=t.w+"px",n.style.height=t.h+"px",o.style.height=t.h+"px",n.style.background="url("+t.image+") no-repeat scroll -"+t.x+"px -"+t.y+"px",n.style.left=r-t.w/2+"px",n.style.display="block",e.displayOptions.layoutControls.timelinePreview.spriteImage||(n.style.backgroundSize="contain")):n.style.display="none"}},e.setupThumbnailPreview=()=>{let t=e.displayOptions.layoutControls.timelinePreview;if(!t||!t.type)return;let o="mousemove",i="mouseleave";if(e.mobileInfo.userOs&&(o="touchmove",i="touchend"),document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container").addEventListener(o,e.drawTimelinePreview.bind(e),!1),document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container").addEventListener(i,(function(t){const n=document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container");"undefined"!==typeof t.clientX&&n.contains(document.elementFromPoint(t.clientX,t.clientY))||(document.getElementById(e.videoPlayerId+"_fluid_timeline_preview_container").style.display="none",document.getElementById(e.videoPlayerId+"_fluid_timeline_preview_container_shadow").style.display="none")}),!1),e.generateTimelinePreviewTags(),"VTT"===t.type&&"string"===typeof t.file)n.e("webvtt").then(n.bind(null,"5481")).then(t=>{window.WebVTTParser=t.default,e.setupThumbnailPreviewVtt()});else{if("static"!==t.type||"object"!==typeof t.frames)throw"Invalid thumbnail-preview - type must be VTT or static";t.spriteImage=!0,e.timelinePreviewData=t.frames}e.showTimeOnHover=!1}},s=function(e,t){const n="2.0";e.renderLinearAd=(t,o)=>{e.toggleLoader(!0),e.vastOptions=e.adPool[t],o&&e.backupMainVideoContentTime(t);const i=t=>{e.switchPlayerToVpaidMode=t=>{e.debugMessage("starting function switchPlayerToVpaidMode");const o=e.videoPlayerId+"_"+t+"_fluid_vpaid_iframe",i={};i.AdParameters=e.adPool[t].adParameters;const a=document.createElement("div");a.id=e.videoPlayerId+"_fluid_vpaid_slot",a.className="fluid_vpaid_slot",a.setAttribute("adListId",t),e.domRef.player.parentNode.insertBefore(a,o.nextSibling);const r={slot:a,videoSlot:e.domRef.player,videoSlotCanAutoPlay:!0},l=e.vpaidAdUnit.handshakeVersion(n),s=e.compareVersion(n,l);if(1===s)return e.adList[t].error=!0,e.playMainVideoWhenVpaidFails(403),!1;!1!==e.vastOptions.skipoffset&&e.addSkipButton(),e.domRef.player.loop=!1,e.domRef.player.removeAttribute("controls"),e.vpaidCallbackListenersAttach();const d=e.fullscreenMode?"fullscreen":"normal",c=e.domRef.player.offsetWidth,u=e.domRef.player.offsetHeight;e.vpaidAdUnit.initAd(c,u,d,3e3,i,r);const p=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_currentprogress");for(let n=0;n<p.length;n++)p[n].style.backgroundColor=e.displayOptions.layoutControls.adProgressColor;e.toggleLoader(!1),e.adList[t].played=!0,e.adFinished=!1},e.switchPlayerToVastMode=()=>{if(e.vastOptions.duration||(e.vastOptions.duration=e.domRef.player.duration),e.displayOptions.layoutControls.showCardBoardView)e.adList[t].landingPage?e.addCTAButton(e.adList[t].landingPage):e.addCTAButton(e.adPool[t].clickthroughUrl);else{const n="undefined"!=typeof e.adList[t].adClickable?e.adList[t].adClickable:e.displayOptions.vastOptions.adClickable;n&&e.addClickthroughLayer(e.videoPlayerId),e.addCTAButton(e.adList[t].landingPage)}!1!==e.vastOptions.skipoffset&&e.addSkipButton(),e.domRef.player.loop=!1,e.addAdCountdown(),e.domRef.player.removeAttribute("controls"),e.vastLogoBehaviour(!0);const n=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_currentprogress");for(let t=0;t<n.length;t++)n[t].style.backgroundColor=e.displayOptions.layoutControls.adProgressColor;if(e.displayOptions.vastOptions.adText||e.adList[t].adText){const n=null!==e.adList[t].adText?e.adList[t].adText:e.displayOptions.vastOptions.adText;e.addAdPlayingText(n)}if(e.positionTextElements(e.adList[t]),e.toggleLoader(!1),e.adList[t].played=!0,e.adFinished=!1,e.domRef.player.play(),e.trackSingleEvent("impression"),e.domRef.player.removeEventListener("loadedmetadata",e.switchPlayerToVastMode),e.vrMode){const t=document.getElementById("ad_countdown"+e.videoPlayerId),n=document.getElementById(e.videoPlayerId+"_fluid_cta"),o=document.getElementById(e.videoPlayerId+"_fluid_ad_playing"),i=document.getElementById("skip_button_"+e.videoPlayerId);t&&(t.style.display="none"),n&&(n.style.display="none"),o&&(o.style.display="none"),i&&(i.style.display="none")}},e.domRef.player.pause(),e.detachStreamers();const o=e.getSupportedMediaFileObject(e.vastOptions.mediaFileList);if(e.displayOptions.layoutControls.showCardBoardView&&"360"!==e.adList[t].mediaType)return e.adList[t].error=!0,e.playMainVideoWhenVastFails(403),!1;const i=e.vastOptions.vpaid;if(i)e.loadVpaid(t,o.src),e.displayOptions.vastOptions.showProgressbarMarkers&&e.hideAdMarkers();else{if(!1===o.src)return e.adList[t].error=!0,e.playMainVideoWhenVastFails(403),!1;e.domRef.player.addEventListener("loadedmetadata",e.switchPlayerToVastMode),e.domRef.player.src=o.src,e.isCurrentlyPlayingAd=!0,e.displayOptions.vastOptions.showProgressbarMarkers&&e.hideAdMarkers(),e.domRef.player.load(),e.domRef.player.addEventListener("ended",e.onVastAdEnded)}},a=()=>{if(e.adFinished)return void e.domRef.player.removeEventListener("timeupdate",a);const t=Math.floor(e.domRef.player.currentTime);0!==e.vastOptions.duration&&e.scheduleTrackingEvent(t,e.vastOptions.duration),t>=e.vastOptions.duration-1&&0!==e.vastOptions.duration&&(e.domRef.player.removeEventListener("timeupdate",a),e.adFinished=!0)};i(t),e.domRef.player.addEventListener("timeupdate",a)},e.playRoll=t=>{for(let o=0;o<t.length;o++){if(!e.adPool.hasOwnProperty(t[o]))return void e.announceLocalError(101);e.temporaryAdPods.push(e.adList[t[o]])}if(null!==e.vastOptions&&"linear"===e.vastOptions.adType.toLowerCase())return;const n=e.getNextAdPod();null!==n&&e.renderLinearAd(n,!0)},e.backupMainVideoContentTime=t=>{const n=e.adList[t].roll;switch(n){case"midRoll":e.domRef.player.mainVideoCurrentTime=e.domRef.player.currentTime-1;break;case"postRoll":e.domRef.player.mainVideoCurrentTime=e.mainVideoDuration,e.autoplayAfterAd=!1,e.domRef.player.currentTime=e.mainVideoDuration;break;case"preRoll":e.domRef.player.currentTime>0&&(e.domRef.player.mainVideoCurrentTime=e.domRef.player.currentTime-1);break}},e.getSupportedMediaFileObject=t=>{let n=null,o=!1;if(t.length)for(let i=0;i<t.length;i++){if("VPAID"===t[i].apiFramework){n=t[i],o=!0;break}{const a=e.getMediaFileTypeSupportLevel(t[i]["type"]);if("maybe"!==a&&"probably"!==a||(n=t[i],o=!0),"probably"===a)break}}return!1!==o&&n},e.getMediaFileTypeSupportLevel=e=>{if(null===e)return null;const t=document.createElement("video");let n=t.canPlayType(e);return n||"no"},e.scheduleTrackingEvent=(t,n)=>{0===t&&e.trackSingleEvent("start"),"undefined"!==typeof e.vastOptions.tracking["progress"]&&e.vastOptions.tracking["progress"].length&&"undefined"!==typeof e.vastOptions.tracking["progress"][t]&&e.trackSingleEvent("progress",t),t===Math.floor(n/4)&&e.trackSingleEvent("firstQuartile"),t===Math.floor(n/2)&&e.trackSingleEvent("midpoint"),t===Math.floor(3*n/4)&&e.trackSingleEvent("thirdQuartile"),t>=n-1&&e.trackSingleEvent("complete")},e.trackSingleEvent=(t,n)=>{if("undefined"===typeof e.vastOptions||null===e.vastOptions)return;let o=[];switch(o.length=0,t){case"start":case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":!1===e.vastOptions.stopTracking[t]&&(null!==e.vastOptions.tracking[t]&&(o=e.vastOptions.tracking[t]),e.vastOptions.stopTracking[t]=!0);break;case"progress":e.vastOptions.tracking["progress"][n].elements.forEach((function(t,i){!1===e.vastOptions.tracking["progress"][n].stopTracking&&e.vastOptions.tracking["progress"][n].elements.length&&(o=e.vastOptions.tracking["progress"][n].elements),e.vastOptions.tracking["progress"][n].stopTracking=!0}));break;case"impression":"undefined"!==typeof e.vastOptions.impression&&null!==e.vastOptions.impression&&"undefined"!==typeof e.vastOptions.impression.length&&(o=e.vastOptions.impression);break;default:break}e.callUris(o)},e.completeNonLinearStatic=t=>{e.closeNonLinear(t),!1===e.adFinished&&(e.adFinished=!0,e.trackSingleEvent("complete")),clearInterval(e.nonLinearTracking)},e.createNonLinearStatic=t=>{if(!e.adPool.hasOwnProperty(t)||!0===e.adPool[t].error)return void e.announceLocalError(101);if(e.vastOptions=e.adPool[t],e.createBoard(t),!0===e.adList[t].error)return;let n;e.adFinished=!1,e.vastOptions.vpaid||(e.trackSingleEvent("start"),n=e.adList[t].nonLinearDuration?e.adList[t].nonLinearDuration:e.vastOptions.duration,e.nonLinearTracking=setInterval((function(){if(!0===e.adFinished)return;const t=Math.floor(e.domRef.player.currentTime);e.scheduleTrackingEvent(t,n),t>=n-1&&(e.adFinished=!0)}),400));const o=parseInt(e.getCurrentTime())+parseInt(n);e.scheduleTask({time:o,closeStaticAd:t})},e.createVpaidNonLinearBoard=t=>{const o=e.adPool[t];e.loadVpaidNonlinearAssets=function(t){e.debugMessage("starting function switchPlayerToVpaidMode");const i=e.adList[t].vAlign?e.adList[t].vAlign:e.nonLinearVerticalAlign,a=e.adList[t].vpaidNonLinearCloseButton?e.adList[t].vpaidNonLinearCloseButton:e.vpaidNonLinearCloseButton,r=e.videoPlayerId+"_"+t+"_fluid_vpaid_iframe",l={};l.AdParameters=e.adPool[t].adParameters;const s=document.createElement("div");s.id="fluid_vpaidNonLinear_"+t,s.className="fluid_vpaidNonLinear_"+i,s.className+=" fluid_vpaidNonLinear_ad",s.setAttribute("adListId",t);let d,c=Math.min(468,e.domRef.player.offsetWidth),u=Math.min(60,Math.floor(e.domRef.player.offsetHeight/4));if("undefined"!==typeof e.adList[t].size){const n=e.adList[t].size.split("x");c=n[0],u=n[1]}else o.dimension.width&&o.dimension.height&&(c=o.dimension.width,u=o.dimension.height);if(s.style.width="100%",s.style.height=u+"px",a){const n=document.createElement("div");n.className="fluid_vpaidNonLinear_frame",n.style.width=c+"px",n.style.height=u+"px",s.appendChild(n);const o=document.createElement("div");o.id="close_button_"+e.videoPlayerId,o.className="close_button",o.innerHTML="",o.title=e.displayOptions.layoutControls.closeButtonCaption;const i=t;o.onclick=function(t){if(e.hardStopVpaidAd(""),"undefined"!==typeof t.stopImmediatePropagation&&t.stopImmediatePropagation(),e.adFinished=!0,"onPauseRoll"===e.adList[i].roll&&e.onPauseRollAdPods[0]){const t=e.onPauseRollAdPods[0];e.createBoard(t),e.currentOnPauseRollAd=e.onPauseRollAdPods[0],delete e.onPauseRollAdPods[0]}return!1},n.appendChild(o)}const p=document.createElement("iframe");p.id=e.videoPlayerId+"non_linear_vapid_slot_iframe",p.className="fluid_vpaid_nonlinear_slot_iframe",p.setAttribute("width",c+"px"),p.setAttribute("height",u+"px"),p.setAttribute("sandbox","allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"),p.setAttribute("frameborder","0"),p.setAttribute("scrolling","no"),p.setAttribute("marginwidth","0"),p.setAttribute("marginheight","0"),s.appendChild(p),e.domRef.player.parentNode.insertBefore(s,r.nextSibling);const m=p.contentWindow.document.createElement("div");p.contentWindow.document.body.appendChild(m),e.vastOptions.slotIframe=p,e.vastOptions.slotFrame=d;const f={slot:m,videoSlot:e.domRef.player,videoSlotCanAutoPlay:!0};e.debugMessage(e.adList[t]);const y=e.vpaidAdUnit.handshakeVersion(n),g=e.compareVersion(n,y);if(1===g)return e.adList[t].error=!0,e.playMainVideoWhenVpaidFails(403),!1;e.domRef.player.loop=!1,e.domRef.player.removeAttribute("controls"),e.vpaidCallbackListenersAttach();const v=e.fullscreenMode?"fullscreen":"normal";e.vpaidAdUnit.initAd(c,u,v,3e3,l,f),e.toggleLoader(!1),e.adList[t].played=!0,e.adFinished=!1},e.loadVpaid(t,o.staticResource),e.debugMessage("create non linear vpaid")},e.createNonLinearBoard=t=>{const n=e.adPool[t];e.adList[t].played=!0;const o=e.domRef.player.clientWidth,i=(e.domRef.player.clientHeight,document.createElement("div")),a=e.adList[t].vAlign?e.adList[t].vAlign:e.nonLinearVerticalAlign,r=new Image;r.src=n.staticResource,r.id="fluid_nonLinear_imgCreative_"+t+"_"+e.videoPlayerId,r.onerror=function(){e.adList[t].error=!0,e.announceError(500)},r.onload=function(){let i,a,l,s;"undefined"!==typeof e.adList[t].size?(i=e.adList[t].size.split("x")[0],a=e.adList[t].size.split("x")[1]):n.dimension.width&&n.dimension.height?(i=n.dimension.width,a=n.dimension.height):(i=r.width,a=r.height),i>o?(l=o-5,s=a*l/i):(l=i,s=a),"onPauseRoll"!==e.adList[t].roll&&(document.getElementById("fluid_nonLinear_"+t).style.display="");const d=document.getElementById(r.id);d.width=l,d.height=s,e.trackSingleEvent("impression")},i.id="fluid_nonLinear_"+t,i.className="fluid_nonLinear_"+a,i.className+=" fluid_nonLinear_ad",i.innerHTML=r.outerHTML,i.style.display="none",i.onclick=function(){"undefined"!==typeof n.clickthroughUrl&&window.open(n.clickthroughUrl),"undefined"!==typeof n.clicktracking&&e.callUris([n.clicktracking])},"undefined"!==typeof n.clickthroughUrl&&(i.style.cursor="pointer");const l=document.createElement("div");l.id="close_button_"+e.videoPlayerId,l.className="close_button",l.innerHTML="",l.title=e.displayOptions.layoutControls.closeButtonCaption;const s=t;l.onclick=function(t){if(this.parentElement.remove(),"undefined"!==typeof t.stopImmediatePropagation&&t.stopImmediatePropagation(),e.adFinished=!0,clearInterval(e.nonLinearTracking),"onPauseRoll"===e.adList[s].roll&&e.onPauseRollAdPods[0]){const t=e.onPauseRollAdPods[0];e.createBoard(t),e.currentOnPauseRollAd=e.onPauseRollAdPods[0],delete e.onPauseRollAdPods[0]}return!1},i.appendChild(l),e.domRef.player.parentNode.insertBefore(i,e.domRef.player.nextSibling)},e.createBoard=t=>{const n=e.adPool[t];if(n.vpaid)e.hardStopVpaidAd(""),e.createVpaidNonLinearBoard(t);else{if("undefined"===typeof n.staticResource||-1===e.supportedStaticTypes.indexOf(n.creativeType))return e.adList[t].error=!0,void(e.vastOptions&&"undefined"!==typeof e.vastOptions.errorUrl?e.announceError(503):e.announceLocalError(503));e.createNonLinearBoard(t)}},e.closeNonLinear=e=>{const t=document.getElementById("fluid_nonLinear_"+e);t&&t.remove()},e.rollGroupContainsLinear=t=>{let n=!1;for(let o=0;o<t.length;o++)if(e.adList[t[o].id].adType&&"linear"===e.adList[t[o].id].adType){n=!0;break}return n},e.rollGroupContainsNonlinear=t=>{let n=!1;for(let o=0;o<t.length;o++)if("nonlinear"===e.adList[t[o].id].adType.toLowerCase()){n=!0;break}return n},e.preRollFail=()=>{const t=e.preRollAdPodsLength;e.preRollVastResolved++,e.preRollVastResolved===t&&e.preRollAdsPlay()},e.preRollSuccess=()=>{const t=e.preRollAdPodsLength;e.preRollVastResolved++,e.preRollVastResolved===t&&e.preRollAdsPlay()},e.preRollAdsPlay=()=>{const t=0,n=e.preRollAdPods,o={linear:[],nonLinear:[]};e.firstPlayLaunched=!0;for(let i=0;i<n.length;i++){if(!0===e.adList[n[i]].played)return;"linear"===e.adList[n[i]].adType&&o.linear.push(n[i]),"nonLinear"===e.adList[n[i]].adType&&(o.nonLinear.push(n[i]),e.scheduleTask({time:t,playRoll:"midRoll",adListId:o.nonLinear.shift()}))}o.linear.length>0?(e.toggleLoader(!0),e.playRoll(o.linear)):e.playMainVideoWhenVastFails(900)},e.preRoll=t=>{const n=t.vastObj;e.domRef.player.removeEventListener(t.type,e.preRoll);const o=[];o[0]=t.type.replace("adId_","");!0!==e.adList[o[0]].played&&(e.preRollAdPods.push(o[0]),e.preRollSuccess(n))},e.createAdMarker=(t,n)=>{const o=document.getElementById(e.videoPlayerId+"_ad_markers_holder"),i=document.createElement("div");i.id="ad_marker_"+e.videoPlayerId+"_"+t,i.className="fluid_controls_ad_marker",i.style.left=n/e.mainVideoDuration*100+"%",e.isCurrentlyPlayingAd&&(i.style.display="none"),o.appendChild(i)},e.hideAdMarker=t=>{const n=document.getElementById("ad_marker_"+e.videoPlayerId+"_"+t);n&&(n.style.display="none")},e.showAdMarkers=()=>{const t=document.getElementById(e.videoPlayerId+"_ad_markers_holder"),n=t.getElementsByClassName("fluid_controls_ad_marker"),o="ad_marker_"+e.videoPlayerId+"_";for(let i=0;i<n.length;++i){const t=n[i],a=t.id.replace(o,"");!1===e.adList[a].played&&(t.style.display="")}},e.hideAdMarkers=()=>{const t=document.getElementById(e.videoPlayerId+"_ad_markers_holder"),n=t.getElementsByClassName("fluid_controls_ad_marker");for(let e=0;e<n.length;++e){const t=n[e];t.style.display="none"}},e.midRoll=t=>{e.domRef.player.removeEventListener(t.type,e.midRoll);const n=t.type.replace("adId_","");if(!0===e.adList[n].played)return;let o=e.adList[n].timer;"string"==typeof o&&-1!==o.indexOf("%")&&(o=o.replace("%",""),o=Math.floor(e.mainVideoDuration/100*o)),e.displayOptions.vastOptions.showProgressbarMarkers&&"nonLinear"===e.adList[n].adType&&e.createAdMarker(n,o),e.scheduleTask({time:o,playRoll:"midRoll",adListId:n})},e.postRoll=t=>{e.domRef.player.removeEventListener(t.type,e.postRoll);const n=t.type.replace("adId_","");e.scheduleTask({time:Math.floor(e.mainVideoDuration),playRoll:"postRoll",adListId:n})},e.onPauseRoll=t=>{e.domRef.player.removeEventListener(t.type,e.onPauseRoll);const n=t.type.replace("adId_","");if("nonLinear"===e.adList[n].adType){if(!e.adPool.hasOwnProperty(n)||!0===e.adPool[n].error)return void e.announceLocalError(101);const t=document.getElementsByClassName("fluid_nonLinear_ad")[0];if(t)e.onPauseRollAdPods.push(n);else{e.createBoard(n),e.currentOnPauseRollAd=n;let t=document.getElementById("fluid_nonLinear_"+n);t&&(t.style.display="none")}}},e.hasValidOnPauseAd=()=>{const t=e.findRoll("onPauseRoll");return 0!==t.length&&e.adList[t[0]]&&!1===e.adList[t[0]].error},e.toggleOnPauseAd=()=>{if(e.hasValidOnPauseAd()&&!e.isCurrentlyPlayingAd){const t=e.findRoll("onPauseRoll");let n;n=""!==e.currentOnPauseRollAd?e.currentOnPauseRollAd:t[0],e.vastOptions=e.adPool[n];const o=document.getElementById("fluid_nonLinear_"+n);o&&e.domRef.player.paused?setTimeout((function(){o.style.display="flex",e.adList[n].played=!1,e.trackingOnPauseNonLinearAd(n,"start")}),500):o&&!e.domRef.player.paused&&(o.style.display="none",e.adFinished=!0,e.trackingOnPauseNonLinearAd(n,"complete"))}},e.trackingOnPauseNonLinearAd=(t,n)=>{e.adPool.hasOwnProperty(t)&&!0!==e.adPool[t].error?(e.vastOptions=e.adPool[t],e.trackSingleEvent(n)):e.announceLocalError(101)},e.getLinearAdsFromKeyTime=t=>{const n=[];for(let o=0;o<t.length;o++)!1===e.adList[t[o].adListId].played&&n.push(t[o].adListId);return n},e.adKeytimePlay=t=>{if(!e.timerPool[t]||e.isCurrentlyPlayingAd)return;const n=e.timerPool[t]["closeStaticAd"].length,o=e.timerPool[t]["linear"].length,i=e.timerPool[t]["nonLinear"].length;if(0!==n||0!==o||0!==i){if(n>0){for(let o=0;o<n;o++){const n=e.timerPool[t]["closeStaticAd"][o].closeStaticAd;!0===e.adList[n].played&&e.completeNonLinearStatic(n)}e.timerPool[t]["closeStaticAd"]=[]}if(o>0){const n=e.getLinearAdsFromKeyTime(e.timerPool[t]["linear"]);if(n.length>0)return e.playRoll(n),void(e.timerPool[t]["linear"]=[])}if(i>0)for(let n=0;n<i;n++){const o=e.timerPool[t]["nonLinear"][n].adListId;e.adPool[o];if(!1===e.adList[o].played&&!e.displayOptions.layoutControls.showCardBoardView)return e.createNonLinearStatic(o),e.displayOptions.vastOptions.showProgressbarMarkers&&e.hideAdMarker(o),void e.timerPool[t]["nonLinear"].splice(n,1)}}else delete e.timerPool[t]},e.adTimer=()=>{e.isTimer||(e.isTimer=!e.isTimer,e.timer=setInterval((function(){const t=Math.floor(e.getCurrentTime());e.adKeytimePlay(t)}),800))},e.scheduleTask=t=>{e.timerPool.hasOwnProperty(t.time)||(e.timerPool[t.time]={linear:[],nonLinear:[],closeStaticAd:[]}),t.hasOwnProperty("playRoll")&&"linear"===e.adList[t.adListId].adType?e.timerPool[t.time]["linear"].push(t):t.hasOwnProperty("playRoll")&&"nonLinear"===e.adList[t.adListId].adType?e.timerPool[t.time]["nonLinear"].push(t):t.hasOwnProperty("closeStaticAd")&&e.timerPool[t.time]["closeStaticAd"].push(t)},e.switchToMainVideo=()=>{e.debugMessage("starting main video"),e.domRef.player.src=e.originalSrc,e.initialiseStreamers();const t="undefined"!==typeof e.domRef.player.mainVideoCurrentTime?e.domRef.player.mainVideoCurrentTime:0;e.domRef.player.hasOwnProperty("currentTime")&&(e.domRef.player.currentTime=t),e.displayOptions.layoutControls.loop&&(e.domRef.player.loop=!0),e.setCurrentTimeAndPlay(t,e.autoplayAfterAd),e.isCurrentlyPlayingAd=!1,e.deleteVastAdElements(),e.adFinished=!0,e.displayOptions.vastOptions.vastAdvanced.vastVideoEndedCallback(),e.vastOptions=null,e.setBuffering();const n=document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container");if(null!==n){const t=e.displayOptions.layoutControls.primaryColor?e.displayOptions.layoutControls.primaryColor:"white",n=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_currentprogress");for(let e=0;e<n.length;e++)n[e].style.backgroundColor=t}if(e.domRef.player.removeEventListener("ended",e.onVastAdEnded),e.displayOptions.vastOptions.showProgressbarMarkers&&e.showAdMarkers(),e.hasTitle()){const t=document.getElementById(e.videoPlayerId+"_title");t.style.display="inline"}},e.getNextAdPod=()=>{let t=null;if(e.temporaryAdPods.length>0){const n=e.temporaryAdPods.shift();t=n.id}return t},e.checkForNextAd=()=>{const t=e.getNextAdPod();null===t?(e.switchToMainVideo(),e.vastOptions=null,e.adFinished=!0):(e.domRef.player.removeEventListener("ended",e.onVastAdEnded),e.isCurrentlyPlayingAd=!1,e.vastOptions=null,e.adFinished=!0,e.renderLinearAd(t,!1))},e.addSkipButton=()=>{const t=document.createElement("div");t.id="skip_button_"+e.videoPlayerId,t.className="skip_button skip_button_disabled",t.innerHTML=e.displayOptions.vastOptions.skipButtonCaption.replace("[seconds]",e.vastOptions.skipoffset),document.getElementById("fluid_video_wrapper_"+e.videoPlayerId).appendChild(t),e.domRef.player.addEventListener("timeupdate",e.decreaseSkipOffset,!1)},e.addAdCountdown=()=>{const t=document.getElementById("fluid_video_wrapper_"+e.videoPlayerId),n=document.createElement("div"),o=e.pad(parseInt(e.currentVideoDuration/60))+":"+e.pad(parseInt(e.currentVideoDuration%60)),i=parseInt(o);n.id="ad_countdown"+e.videoPlayerId,n.className="ad_countdown",n.innerHTML="<span class='ad_timer_prefix'>Ad - </span>"+i,t.appendChild(n),e.domRef.player.addEventListener("timeupdate",e.decreaseAdCountdown,!1),t.addEventListener("mouseover",(function(){n.style.display="none"}),!1)},e.decreaseAdCountdown=function(){const t=parseInt(e.currentVideoDuration)-parseInt(e.domRef.player.currentTime),n=document.getElementById("ad_countdown"+e.videoPlayerId);n?n.innerHTML="<span class='ad_timer_prefix'>Ad - </span> "+e.pad(parseInt(t/60))+":"+e.pad(parseInt(t%60)):e.domRef.player.removeEventListener("timeupdate",e.decreaseAdCountdown)},e.removeAdCountdown=()=>{const t=document.getElementById("ad_countdown"+e.videoPlayerId);t&&t.parentElement.removeChild(t)},e.toggleAdCountdown=t=>{const n=document.getElementById("ad_countdown"+e.videoPlayerId);n&&(n.style.display=t?"inline-block":"none")},e.addAdPlayingText=t=>{const n=document.createElement("div");n.id=e.videoPlayerId+"_fluid_ad_playing",e.displayOptions.layoutControls.primaryColor&&(n.style.backgroundColor=e.displayOptions.layoutControls.primaryColor,n.style.opacity=1),n.className="fluid_ad_playing",n.innerText=t,document.getElementById("fluid_video_wrapper_"+e.videoPlayerId).appendChild(n)},e.positionTextElements=t=>{const n=["top left","top right","bottom left","bottom right"],o=document.getElementById("skip_button_"+e.videoPlayerId),i=document.getElementById(e.videoPlayerId+"_fluid_ad_playing"),a=document.getElementById(e.videoPlayerId+"_fluid_cta");let r=0,l=0;const s=8;let d=!1,c=0,u=[];const p={top:{left:{h:34,v:34},right:{h:0,v:34}},bottom:{left:{h:34,v:50},right:{h:0,v:50}}};if(null!==o){c=o.offsetHeight+s;const t=e.domRef.wrapper;t.classList.contains("mobile")&&(p.bottom.left.v=75,p.bottom.right.v=75)}let m,f,y;null!==a&&(m=e.displayOptions.vastOptions.adCTATextPosition.toLowerCase(),-1===n.indexOf(m)&&(console.log('[FP Error] Invalid position for CTAText. Reverting to "bottom right"'),m="bottom right"),u=m.split(" "),d="bottom"===u[0],a.style[u[0]]=p[u[0]][u[1]].v+"px",a.style[u[1]]=p[u[0]][u[1]].h+"px",d&&"right"===u[1]&&(a.style[u[0]]=p[u[0]][u[1]].v+c+"px"),r=a.offsetHeight+s+"px"),null!==i&&(f=null!==t.adTextPosition?t.adTextPosition.toLowerCase():e.displayOptions.vastOptions.adTextPosition.toLowerCase(),-1===n.indexOf(f)&&(console.log('[FP Error] Invalid position for adText. Reverting to "top left"'),f="top left"),y=f.split(" "),i.style[y[0]]=p[y[0]][y[1]].v+"px",i.style[y[1]]=p[y[0]][y[1]].h+"px",l=i.offsetHeight+s+"px"),r>0&&l>0&&m===f&&(d?"right"===u[1]?i.style.bottom=p[y[0]][y[1]].v+c+r+"px":i.style.bottom=p[y[0]][y[1]].v+r+"px":a.style.top=p[u[0]][u[1]].v+l+"px")},e.removeAdPlayingText=()=>{const t=document.getElementById(e.videoPlayerId+"_fluid_ad_playing");t&&t.parentElement.removeChild(t)},e.addCTAButton=t=>{if(!t)return;const n=document.createElement("div");n.id=e.videoPlayerId+"_fluid_cta",n.className="fluid_ad_cta";const o=document.createElement("span");o.innerHTML=e.displayOptions.vastOptions.adCTAText+'<br/><span class="add_icon_clickthrough">'+t+"</span>",n.addEventListener("click",()=>{e.domRef.player.paused||e.domRef.player.pause();const t=window.open(e.vastOptions.clickthroughUrl,"_blank");return t.focus(),!0},!1),n.appendChild(o),document.getElementById("fluid_video_wrapper_"+e.videoPlayerId).appendChild(n)},e.removeCTAButton=()=>{const t=document.getElementById(e.videoPlayerId+"_fluid_cta");t&&t.parentElement.removeChild(t)},e.decreaseSkipOffset=()=>{let t=e.vastOptions.skipoffset-Math.floor(e.domRef.player.currentTime);const n=document.getElementById("skip_button_"+e.videoPlayerId);if(!n)return void e.domRef.player.removeEventListener("timeupdate",e.decreaseSkipOffset);if(t>=1)return void(n.innerHTML=e.displayOptions.vastOptions.skipButtonCaption.replace("[seconds]",t));const o=document.createElement("a");o.href="#",o.id="skipHref_"+e.videoPlayerId,o.innerHTML=e.displayOptions.vastOptions.skipButtonClickCaption,o.onclick=t=>{t.preventDefault(),t.stopPropagation(),e.pressSkipButton()},n.innerHTML="",n.appendChild(o),n.className=n.className.replace(/\bskip_button_disabled\b/,""),e.domRef.player.removeEventListener("timeupdate",e.decreaseSkipOffset)},e.pressSkipButton=()=>{if(e.removeSkipButton(),e.removeAdPlayingText(),e.removeCTAButton(),e.vastOptions.vpaid)return void e.skipVpaidAd();e.displayOptions.vastOptions.vastAdvanced.vastVideoSkippedCallback();const t=document.createEvent("Event");t.initEvent("ended",!1,!0),e.domRef.player.dispatchEvent(t)},e.removeSkipButton=()=>{const t=document.getElementById("skip_button_"+e.videoPlayerId);t&&t.parentElement.removeChild(t)},e.addClickthroughLayer=()=>{const t=e.domRef.wrapper,n=document.createElement("div");n.className="vast_clickthrough_layer",n.id="vast_clickthrough_layer_"+e.videoPlayerId,n.setAttribute("style","position: absolute; cursor: pointer; top: 0; left: 0; width: "+e.domRef.player.offsetWidth+"px; height: "+e.domRef.player.offsetHeight+"px;"),t.appendChild(n);const o=function(){window.open(e.vastOptions.clickthroughUrl),"undefined"!==typeof e.vastOptions.clicktracking&&e.callUris(e.vastOptions.clicktracking)},i=document.getElementById("vast_clickthrough_layer_"+e.videoPlayerId),a="iPhone"===e.mobileInfo.device&&!1!==e.mobileInfo.userOsMajor&&e.mobileInfo.userOsMajor<=9;i.onclick=()=>{e.domRef.player.paused?a&&!e.suppressClickthrough?(o(),e.suppressClickthrough=!0):e.domRef.player.play():(o(),e.domRef.player.pause())}},e.removeClickthrough=()=>{const t=document.getElementById("vast_clickthrough_layer_"+e.videoPlayerId);t&&t.parentNode.removeChild(t)}};"undefined"===typeof window||window.dashjs||(window.dashjs={skipAutoCreate:!0,isDefaultSubject:!0});var d=function(e,t){e.initialiseStreamers=()=>{switch(e.detachStreamers(),e.displayOptions.layoutControls.mediaType){case"application/dash+xml":e.dashScriptLoaded||window.dashjs&&!window.dashjs.isDefaultSubject?e.initialiseDash():(e.dashScriptLoaded=!0,n.e("dashjs").then(n.t.bind(null,"090c",7)).then(t=>{window.dashjs=t.default,e.initialiseDash()}));break;case"application/x-mpegurl":e.hlsScriptLoaded||window.Hls?e.initialiseHls():(e.hlsScriptLoaded=!0,n.e("hlsjs").then(n.t.bind(null,"2ab0",7)).then(t=>{window.Hls=t.default,e.initialiseHls()}));break}},e.initialiseDash=()=>{if("function"===typeof(window.MediaSource||window.WebKitMediaSource)){const t=e.autoplayAfterAd?e.displayOptions.layoutControls.autoPlay:e.autoplayAfterAd,n={debug:{logLevel:"undefined"!==typeof FP_DEBUG&&!0===FP_DEBUG?dashjs.Debug.LOG_LEVEL_DEBUG:dashjs.Debug.LOG_LEVEL_FATAL}},o=dashjs.MediaPlayer().create(),i=e.displayOptions.modules.configureDash(n);o.updateSettings(i),e.displayOptions.modules.onBeforeInitDash(o),o.initialize(e.domRef.player,e.originalSrc,t),o.on("streamInitializing",()=>{e.toggleLoader(!0)}),o.on("canPlay",()=>{e.toggleLoader(!1)}),o.on("playbackPlaying",()=>{e.toggleLoader(!1)}),e.displayOptions.modules.onAfterInitDash(o),e.dashPlayer=o}else e.nextSource(),console.log("[FP_WARNING] Media type not supported by this browser using DASH.js. (application/dash+xml)")},e.initialiseHls=()=>{if(Hls.isSupported()){const t={debug:"undefined"!==typeof FP_DEBUG&&!0===FP_DEBUG,p2pConfig:{logLevel:!1},enableWebVTT:!1,enableCEA708Captions:!1},n=e.displayOptions.modules.configureHls(t),o=new Hls(n);e.displayOptions.modules.onBeforeInitHls(o),o.attachMedia(e.domRef.player),o.loadSource(e.originalSrc),e.displayOptions.modules.onAfterInitHls(o),e.hlsPlayer=o,!e.firstPlayLaunched&&e.displayOptions.layoutControls.autoPlay&&e.domRef.player.play()}else e.nextSource(),console.log("[FP_WARNING] Media type not supported by this browser using HLS.js. (application/x-mpegURL)")},e.detachStreamers=()=>{e.dashPlayer?(e.dashPlayer.reset(),e.dashPlayer=!1):e.hlsPlayer&&(e.hlsPlayer.detachMedia(),e.hlsPlayer=!1)}},c=function(e,t){e.isTouchDevice=()=>!(!("ontouchstart"in window)&&!navigator.maxTouchPoints),e.getMobileOs=()=>{const e=navigator.userAgent||"",t={device:!1,userOs:!1,userOsVer:!1,userOsMajor:!1};let n;if(e.match(/Android/i)?(t.userOs="Android",n=e.indexOf("Android ")):e.match(/iPhone/i)?(t.device="iPhone",t.userOs="iOS",n=e.indexOf("OS ")):e.match(/iPad/i)?(t.device="iPad",t.userOs="iOS",n=e.indexOf("OS ")):t.userOs=!1,"iOS"===t.userOs&&n>-1){const o=e.substr(n+3),i=o.indexOf(" ");-1!==i&&(t.userOsVer=o.substring(0,o.indexOf(" ")).replace(/_/g,"."),t.userOsMajor=parseInt(t.userOsVer))}else"Android"===t.userOs&&n>-1?t.userOsVer=e.substr(n+8,3):t.userOsVer=!1;return t},e.getBrowserVersion=()=>{const e=navigator.userAgent||"",t={browserName:!1,fullVersion:!1,majorVersion:!1,userOsMajor:!1};let n,o;try{t.browserName=navigator.appName,-1!==(n=e.indexOf("OPR/"))?(t.browserName="Opera",t.fullVersion=e.substring(n+4)):-1!==(n=e.indexOf("Opera"))?(t.browserName="Opera",t.fullVersion=e.substring(n+6),-1!==(n=e.indexOf("Version"))&&(t.fullVersion=e.substring(n+8))):-1!==(n=e.indexOf("MSIE"))?(t.browserName="Microsoft Internet Explorer",t.fullVersion=e.substring(n+5)):-1!==(n=e.indexOf("Chrome"))?(t.browserName="Google Chrome",t.fullVersion=e.substring(n+7)):-1!==(n=e.indexOf("Safari"))?(t.browserName="Safari",t.fullVersion=e.substring(n+7),-1!==(n=e.indexOf("Version"))&&(t.fullVersion=e.substring(n+8))):-1!==(n=e.indexOf("Firefox"))?(t.browserName="Mozilla Firefox",t.fullVersion=e.substring(n+8)):(o=e.lastIndexOf(" ")+1)<(n=e.lastIndexOf("/"))&&(t.browserName=e.substring(o,n),t.fullVersion=e.substring(n+1),t.browserName.toLowerCase()===t.browserName.toUpperCase()&&(t.browserName=navigator.appName)),-1!==(o=t.fullVersion.indexOf(";"))&&(t.fullVersion=t.fullVersion.substring(0,o)),-1!==(o=t.fullVersion.indexOf(" "))&&(t.fullVersion=t.fullVersion.substring(0,o)),t.majorVersion=parseInt(""+t.fullVersion,10),isNaN(t.majorVersion)&&(t.fullVersion=""+parseFloat(navigator.appVersion),t.majorVersion=parseInt(navigator.appVersion,10))}catch(i){}return t},e.compareVersion=(e,t)=>{if("string"!==typeof e)return!1;if("string"!==typeof t)return!1;e=e.split("."),t=t.split(".");const n=Math.min(e.length,t.length);for(let o=0;o<n;++o){if(e[o]=parseInt(e[o],10),t[o]=parseInt(t[o],10),e[o]>t[o])return 1;if(e[o]<t[o])return-1}return e.length===t.length?0:e.length<t.length?-1:1},e.convertTimeStringToSeconds=e=>{if(!e||!e.match(/^(\d){2}(:[0-5][0-9]){2}(.(\d){1,3})?$/))return!1;const t=e.split(":");return 3600*parseInt(t[0],10)+60*parseInt(t[1],10)+parseInt(t[2],10)},e.formatTime=t=>{const n=new Date(1e3*t),o=e.pad(n.getUTCHours()),i=e.pad(n.getUTCMinutes()),a=e.pad(n.getSeconds());return o>=1?o+":"+i+":"+a:i+":"+a},e.pad=e=>e<10?"0"+e:e};const u=[o,i,a,r,l,s,d,c],p="undefined"!==typeof FP_ENV&&"development"===FP_ENV,m="undefined"!==typeof FP_DEBUG&&!0===FP_DEBUG;let f=0;const y=function(){const e=this;e.domRef={player:null},e.version="undefined"!==typeof FP_BUILD_VERSION?FP_BUILD_VERSION:"",e.homepage="undefined"!==typeof FP_HOMEPAGE?FP_HOMEPAGE+"/?utm_source=player&utm_medium=context_menu&utm_campaign=organic":"",e.destructors=[],e.init=(t,n)=>{const o={development:p,debug:m};for(const c of u)c(e,o);let i;if(t instanceof HTMLVideoElement)i=t,t.id||(t.id="fluid_player_instance_"+(f++).toString());else{if(!("string"===typeof t||t instanceof String))throw"Invalid initializer - player target must be HTMLVideoElement or ID";i=document.getElementById(t)}if(!i)throw"Could not find a HTML node to attach to for target "+t+'"';i.setAttribute("playsinline",""),i.setAttribute("webkit-playsinline",""),e.domRef.player=i,e.vrROTATION_POSITION=.1,e.vrROTATION_SPEED=80,e.vrMode=!1,e.vrPanorama=null,e.vrViewer=null,e.vpaidTimer=null,e.vpaidAdUnit=null,e.vastOptions=null,e.videoPlayerId=i.id,e.originalSrc=e.getCurrentSrc(),e.isCurrentlyPlayingAd=!1,e.recentWaiting=!1,e.latestVolume=1,e.currentVideoDuration=0,e.firstPlayLaunched=!1,e.suppressClickthrough=!1,e.timelinePreviewData=[],e.mainVideoCurrentTime=0,e.mainVideoDuration=0,e.isTimer=!1,e.timer=null,e.timerPool={},e.adList={},e.adPool={},e.adGroupedByRolls={},e.onPauseRollAdPods=[],e.currentOnPauseRollAd="",e.preRollAdsResolved=!1,e.preRollAdPods=[],e.preRollAdPodsLength=0,e.preRollVastResolved=0,e.temporaryAdPods=[],e.availableRolls=["preRoll","midRoll","postRoll","onPauseRoll"],e.supportedNonLinearAd=["300x250","468x60","728x90"],e.autoplayAfterAd=!0,e.nonLinearDuration=15,e.supportedStaticTypes=["image/gif","image/jpeg","image/png"],e.inactivityTimeout=null,e.isUserActive=null,e.nonLinearVerticalAlign="bottom",e.vpaidNonLinearCloseButton=!0,e.showTimeOnHover=!0,e.initialAnimationSet=!0,e.theatreMode=!1,e.theatreModeAdvanced=!1,e.fullscreenMode=!1,e.originalWidth=i.offsetWidth,e.originalHeight=i.offsetHeight,e.dashPlayer=!1,e.hlsPlayer=!1,e.dashScriptLoaded=!1,e.hlsScriptLoaded=!1,e.isPlayingMedia=!1,e.isSwitchingSource=!1,e.isLoading=!1,e.isInIframe=e.inIframe(),e.mainVideoReadyState=!1,e.xmlCollection=[],e.inLineFound=null,e.fluidStorage={},e.fluidPseudoPause=!1,e.mobileInfo=e.getMobileOs(),e.events={},e.displayOptions={layoutControls:{mediaType:e.getCurrentSrcType(),primaryColor:!1,posterImage:!1,posterImageSize:"contain",adProgressColor:"#f9d300",playButtonShowing:!0,playPauseAnimation:!0,closeButtonCaption:"Close",fillToContainer:!1,autoPlay:!1,preload:"auto",mute:!1,loop:null,keyboardControl:!0,allowDownload:!1,playbackRateEnabled:!1,subtitlesEnabled:!1,showCardBoardView:!1,showCardBoardJoystick:!1,allowTheatre:!0,doubleclickFullscreen:!0,theatreSettings:{width:"100%",height:"60%",marginTop:0,horizontalAlign:"center",keepPosition:!1},theatreAdvanced:!1,title:null,logo:{imageUrl:null,position:"top left",clickUrl:null,opacity:1,mouseOverImageUrl:null,imageMargin:"2px",hideWithControls:!1,showOverAds:!1},controlBar:{autoHide:!1,autoHideTimeout:3,animated:!0},timelinePreview:{spriteImage:!1,spriteRelativePath:!1},htmlOnPauseBlock:{html:null,height:null,width:null},layout:"default",playerInitCallback:function(){},persistentSettings:{volume:!0,quality:!0,speed:!0,theatre:!0},controlForwardBackward:{show:!1},contextMenu:{controls:!0,links:[]}},vastOptions:{adList:{},skipButtonCaption:"Skip ad in [seconds]",skipButtonClickCaption:'Skip Ad <span class="skip_button_icon"></span>',adText:null,adTextPosition:"top left",adCTAText:"Visit now!",adCTATextPosition:"bottom right",adClickable:!0,vastTimeout:5e3,showProgressbarMarkers:!1,allowVPAID:!1,showPlayButton:!1,maxAllowedVastTagRedirects:3,vpaidTimeout:3e3,vastAdvanced:{vastLoadedCallback:function(){},noVastVideoCallback:function(){},vastVideoSkippedCallback:function(){},vastVideoEndedCallback:function(){}}},captions:{play:"Play",pause:"Pause",mute:"Mute",unmute:"Unmute",fullscreen:"Fullscreen",subtitles:"Subtitles",exitFullscreen:"Exit Fullscreen"},debug:m,modules:{configureHls:e=>e,onBeforeInitHls:e=>{},onAfterInitHls:e=>{},configureDash:e=>e,onBeforeInitDash:e=>{},onAfterInitDash:e=>{}},onBeforeXMLHttpRequestOpen:e=>{},onBeforeXMLHttpRequest:e=>{(m||p)&&console.debug("[FP_DEBUG] Request made",e)}},n.hlsjsConfig&&console.error("[FP_ERROR] player option hlsjsConfig is removed and has no effect. Use module callbacks instead!");for(let c in n)if(n.hasOwnProperty(c))if("object"==typeof n[c])for(let t in n[c])n[c].hasOwnProperty(t)&&(e.displayOptions[c][t]=n[c][t]);else e.displayOptions[c]=n[c];e.domRef.wrapper=e.setupPlayerWrapper(),i.addEventListener("webkitfullscreenchange",e.recalculateAdDimensions),i.addEventListener("fullscreenchange",e.recalculateAdDimensions),i.addEventListener("waiting",e.onRecentWaiting),i.addEventListener("pause",e.onFluidPlayerPause),i.addEventListener("loadedmetadata",e.mainVideoReady),i.addEventListener("error",e.onErrorDetection),i.addEventListener("ended",e.onMainVideoEnded),i.addEventListener("durationchange",()=>{e.currentVideoDuration=e.getCurrentVideoDuration()}),e.displayOptions.layoutControls.showCardBoardView&&i.setAttribute("crossOrigin","anonymous"),e.currentVideoDuration=e.getCurrentVideoDuration(),!isNaN(e.currentVideoDuration)&&isFinite(e.currentVideoDuration)||(e.currentVideoDuration=0),e.setLayout(),e.latestVolume=i.volume,e.initialAnimationSet=e.displayOptions.layoutControls.playPauseAnimation,e.handleFullscreen(),e.initLogo(),e.initTitle(),e.initMute(),e.initLoop(),e.displayOptions.layoutControls.playerInitCallback(),e.createVideoSourceSwitch(),e.createSubtitles(),e.createCardboard(),e.userActivityChecker(),e.setVastList(),e.setPersistentSettings();const a=e.findRoll("preRoll");a&&0!==a.length||e.initialiseStreamers();const r=i.play;i.play=function(){let t=null;e.displayOptions.layoutControls.showCardBoardView&&"undefined"!==typeof DeviceOrientationEvent&&"function"===typeof DeviceOrientationEvent.requestPermission&&DeviceOrientationEvent.requestPermission().then((function(t){"granted"===t&&e.debugMessage("DeviceOrientationEvent permission granted!")})).catch(console.error);try{return t=r.apply(this,arguments),void 0!==t&&null!==t&&(t.then(()=>{e.isPlayingMedia=!0,clearTimeout(e.promiseTimeout)}).catch(t=>{console.error("[FP_ERROR] Playback error",t);const n="undefined"!==typeof t.name&&"AbortError"===t.name;n||e.announceLocalError(202,"Failed to play video."),clearTimeout(e.promiseTimeout)}),e.promiseTimeout=setTimeout((function(){!1===e.isPlayingMedia&&e.announceLocalError(204,"[FP_ERROR] Timeout error. Failed to play video?")}),5e3)),t}catch(n){console.error("[FP_ERROR] Playback error",n),e.announceLocalError(201,"Failed to play video.")}};const l=i.pause;if(i.pause=function(){if(!0===e.isPlayingMedia)return e.isPlayingMedia=!1,l.apply(this,arguments);if(e.isCurrentlyPlayingVideo(e.domRef.player))try{return e.isPlayingMedia=!1,l.apply(this,arguments)}catch(t){e.announceLocalError(203,"Failed to play video.")}},e.displayOptions.layoutControls.autoPlay&&!e.dashScriptLoaded&&!e.hlsScriptLoaded){const t=e.getBrowserVersion();if("Safari"===t.browserName)return;i.play()}const s=document.getElementById("fluid_video_wrapper_"+i.id);e.mobileInfo.userOs?(e.hideControlBar(),s.addEventListener("touchstart",e.showControlBar,!1)):(s.addEventListener("mouseleave",e.handleMouseleave,!1),s.addEventListener("mouseenter",e.showControlBar,!1),s.addEventListener("mouseenter",e.showTitle,!1)),e.displayOptions.layoutControls.keyboardControl&&e.keyboardControl(),e.displayOptions.layoutControls.controlBar.autoHide&&e.linkControlBarUserActivity();try{if(e.domRef.player.textTracks)for(const t of e.domRef.player.textTracks)t.mode="hidden"}catch(d){}},e.getCurrentVideoDuration=()=>e.domRef.player?e.domRef.player.duration:0,e.toggleLoader=t=>{e.isLoading=!!t;const n=document.getElementById("vast_video_loading_"+e.videoPlayerId);n.style.display=t?"table":"none"},e.sendRequest=(t,n,o,i)=>{const a=new XMLHttpRequest;a.onreadystatechange=i,e.displayOptions.onBeforeXMLHttpRequestOpen(a),a.open("GET",t,!0),a.withCredentials=n,a.timeout=o,e.displayOptions.onBeforeXMLHttpRequest(a),a.send()},e.announceLocalError=(e,t)=>{const n="undefined"!==typeof e?parseInt(e):900;let o="[Error] ("+n+"): ";o+=t||"Failed to load Vast",console.warn(o)},e.debugMessage=t=>{e.displayOptions.debug&&console.log(t)},e.onMainVideoEnded=t=>{e.debugMessage("onMainVideoEnded is called"),e.isCurrentlyPlayingAd&&e.autoplayAfterAd||(Math.floor(e.getCurrentTime())>=Math.floor(e.mainVideoDuration)&&(e.adKeytimePlay(Math.floor(e.mainVideoDuration)),clearInterval(e.timer)),e.displayOptions.layoutControls.loop&&(e.switchToMainVideo(),e.playPauseToggle()))},e.getCurrentTime=()=>e.isCurrentlyPlayingAd?e.mainVideoCurrentTime:e.domRef.player.currentTime,e.getCurrentSrc=()=>{const t=e.domRef.player.getElementsByTagName("source");return t.length?t[0].getAttribute("src"):null},e.getCurrentSrcType=()=>{const t=e.domRef.player.getElementsByTagName("source");if(!t.length)return null;for(let n=0;n<t.length;n++)if(t[n].getAttribute("src")===e.originalSrc)return t[n].getAttribute("type").toLowerCase();return null},e.onRecentWaiting=()=>{e.recentWaiting=!0,setTimeout((function(){e.recentWaiting=!1}),1e3)},e.onFluidPlayerPause=()=>{setTimeout((function(){if(e.recentWaiting)return;const t=document.createEvent("CustomEvent");t.initEvent("fluidplayerpause",!1,!0),e.domRef.player.dispatchEvent(t)}),100)},e.checkShouldDisplayVolumeBar=()=>"iOS"!==e.getMobileOs().userOs,e.generateCustomControlTags=t=>{const n={};return n.loader=document.createElement("div"),n.loader.className="vast_video_loading",n.loader.id="vast_video_loading_"+e.videoPlayerId,n.loader.style.display="none",n.root=document.createElement("div"),n.root.className="fluid_controls_container",n.root.id=e.videoPlayerId+"_fluid_controls_container",t.displayVolumeBar||(n.root.className=n.root.className+" no_volume_bar"),t.controlForwardBackward&&(n.root.className=n.root.className+" skip_controls"),n.leftContainer=document.createElement("div"),n.leftContainer.className="fluid_controls_left",n.root.appendChild(n.leftContainer),n.playPause=document.createElement("div"),n.playPause.className="fluid_button fluid_button_play fluid_control_playpause",n.playPause.id=e.videoPlayerId+"_fluid_control_playpause",n.leftContainer.appendChild(n.playPause),t.controlForwardBackward&&(n.skipBack=document.createElement("div"),n.skipBack.className="fluid_button fluid_button_skip_back",n.skipBack.id=e.videoPlayerId+"_fluid_control_skip_back",n.leftContainer.appendChild(n.skipBack),n.skipForward=document.createElement("div"),n.skipForward.className="fluid_button fluid_button_skip_forward",n.skipForward.id=e.videoPlayerId+"_fluid_control_skip_forward",n.leftContainer.appendChild(n.skipForward)),n.progressContainer=document.createElement("div"),n.progressContainer.className="fluid_controls_progress_container fluid_slider",n.progressContainer.id=e.videoPlayerId+"_fluid_controls_progress_container",n.root.appendChild(n.progressContainer),n.progressWrapper=document.createElement("div"),n.progressWrapper.className="fluid_controls_progress",n.progressContainer.appendChild(n.progressWrapper),n.progressCurrent=document.createElement("div"),n.progressCurrent.className="fluid_controls_currentprogress",n.progressCurrent.id=e.videoPlayerId+"_vast_control_currentprogress",n.progressCurrent.style.backgroundColor=t.primaryColor,n.progressWrapper.appendChild(n.progressCurrent),n.progress_current_marker=document.createElement("div"),n.progress_current_marker.className="fluid_controls_currentpos",n.progress_current_marker.id=e.videoPlayerId+"_vast_control_currentpos",n.progressCurrent.appendChild(n.progress_current_marker),n.bufferedIndicator=document.createElement("div"),n.bufferedIndicator.className="fluid_controls_buffered",n.bufferedIndicator.id=e.videoPlayerId+"_buffered_amount",n.progressContainer.appendChild(n.bufferedIndicator),n.adMarkers=document.createElement("div"),n.adMarkers.className="fluid_controls_ad_markers_holder",n.adMarkers.id=e.videoPlayerId+"_ad_markers_holder",n.progressContainer.appendChild(n.adMarkers),n.rightContainer=document.createElement("div"),n.rightContainer.className="fluid_controls_right",n.root.appendChild(n.rightContainer),n.fullscreen=document.createElement("div"),n.fullscreen.id=e.videoPlayerId+"_fluid_control_fullscreen",n.fullscreen.className="fluid_button fluid_control_fullscreen fluid_button_fullscreen",n.rightContainer.appendChild(n.fullscreen),n.theatre=document.createElement("div"),n.theatre.id=e.videoPlayerId+"_fluid_control_theatre",n.theatre.className="fluid_button fluid_control_theatre fluid_button_theatre",n.rightContainer.appendChild(n.theatre),n.cardboard=document.createElement("div"),n.cardboard.id=e.videoPlayerId+"_fluid_control_cardboard",n.cardboard.className="fluid_button fluid_control_cardboard fluid_button_cardboard",n.rightContainer.appendChild(n.cardboard),n.subtitles=document.createElement("div"),n.subtitles.id=e.videoPlayerId+"_fluid_control_subtitles",n.subtitles.className="fluid_button fluid_button_subtitles",n.rightContainer.appendChild(n.subtitles),n.videoSource=document.createElement("div"),n.videoSource.id=e.videoPlayerId+"_fluid_control_video_source",n.videoSource.className="fluid_button fluid_button_video_source",n.rightContainer.appendChild(n.videoSource),n.playbackRate=document.createElement("div"),n.playbackRate.id=e.videoPlayerId+"_fluid_control_playback_rate",n.playbackRate.className="fluid_button fluid_button_playback_rate",n.rightContainer.appendChild(n.playbackRate),n.download=document.createElement("div"),n.download.id=e.videoPlayerId+"_fluid_control_download",n.download.className="fluid_button fluid_button_download",n.rightContainer.appendChild(n.download),n.volumeContainer=document.createElement("div"),n.volumeContainer.id=e.videoPlayerId+"_fluid_control_volume_container",n.volumeContainer.className="fluid_control_volume_container fluid_slider",n.rightContainer.appendChild(n.volumeContainer),n.volume=document.createElement("div"),n.volume.id=e.videoPlayerId+"_fluid_control_volume",n.volume.className="fluid_control_volume",n.volumeContainer.appendChild(n.volume),n.volumeCurrent=document.createElement("div"),n.volumeCurrent.id=e.videoPlayerId+"_fluid_control_currentvolume",n.volumeCurrent.className="fluid_control_currentvolume",n.volume.appendChild(n.volumeCurrent),n.volumeCurrentPos=document.createElement("div"),n.volumeCurrentPos.id=e.videoPlayerId+"_fluid_control_volume_currentpos",n.volumeCurrentPos.className="fluid_control_volume_currentpos",n.volumeCurrent.appendChild(n.volumeCurrentPos),n.mute=document.createElement("div"),n.mute.id=e.videoPlayerId+"_fluid_control_mute",n.mute.className="fluid_button fluid_button_volume fluid_control_mute",n.rightContainer.appendChild(n.mute),n.duration=document.createElement("div"),n.duration.id=e.videoPlayerId+"_fluid_control_duration",n.duration.className="fluid_control_duration fluid_fluid_control_duration",n.duration.innerText="00:00 / 00:00",n.rightContainer.appendChild(n.duration),n},e.controlPlayPauseToggle=()=>{const t=e.domRef.player.parentNode.getElementsByClassName("fluid_control_playpause"),n=document.getElementById(e.videoPlayerId+"context_option_play"),o=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_container"),i=document.getElementById(e.videoPlayerId+"_logo"),a=document.getElementById(e.videoPlayerId+"_fluid_initial_play");if(a&&(document.getElementById(e.videoPlayerId+"_fluid_initial_play").style.display="none",document.getElementById(e.videoPlayerId+"_fluid_initial_play_button").style.opacity="1"),!e.domRef.player.paused){for(let e=0;e<t.length;e++)t[e].className=t[e].className.replace(/\bfluid_button_play\b/g,"fluid_button_pause");for(let e=0;e<o.length;e++)o[e].classList.remove("initial_controls_show");return i&&i.classList.remove("initial_controls_show"),void(null!==n&&(n.innerHTML=e.displayOptions.captions.pause))}for(let e=0;e<t.length;e++)t[e].className=t[e].className.replace(/\bfluid_button_pause\b/g,"fluid_button_play");for(let e=0;e<o.length;e++)o[e].classList.add("initial_controls_show");e.isCurrentlyPlayingAd&&e.displayOptions.vastOptions.showPlayButton&&(document.getElementById(e.videoPlayerId+"_fluid_initial_play").style.display="block",document.getElementById(e.videoPlayerId+"_fluid_initial_play_button").style.opacity="1"),i&&i.classList.add("initial_controls_show"),null!==n&&(n.innerHTML=e.displayOptions.captions.play)},e.playPauseAnimationToggle=t=>{e.isCurrentlyPlayingAd||!e.displayOptions.layoutControls.playPauseAnimation||e.isSwitchingSource||(t?(document.getElementById(e.videoPlayerId+"_fluid_state_button").classList.remove("fluid_initial_pause_button"),document.getElementById(e.videoPlayerId+"_fluid_state_button").classList.add("fluid_initial_play_button")):(document.getElementById(e.videoPlayerId+"_fluid_state_button").classList.remove("fluid_initial_play_button"),document.getElementById(e.videoPlayerId+"_fluid_state_button").classList.add("fluid_initial_pause_button")),document.getElementById(e.videoPlayerId+"_fluid_initial_play").classList.add("transform-active"),setTimeout((function(){document.getElementById(e.videoPlayerId+"_fluid_initial_play").classList.remove("transform-active")}),800))},e.contolProgressbarUpdate=()=>{const t=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_currentprogress");for(let n=0;n<t.length;n++)t[n].style.width=e.domRef.player.currentTime/e.currentVideoDuration*100+"%"},e.controlDurationUpdate=()=>{const t=e.formatTime(e.domRef.player.currentTime);let n,o=!1;if(e.hlsPlayer&&(o=e.hlsPlayer.levels&&e.hlsPlayer.levels[e.hlsPlayer.currentLevel]&&e.hlsPlayer.levels[e.hlsPlayer.currentLevel].details.live),isNaN(e.currentVideoDuration)||!isFinite(e.currentVideoDuration)||o)n=t;else{const o=e.formatTime(e.currentVideoDuration);n=t+" / "+o}const i=e.domRef.player.parentNode.getElementsByClassName("fluid_control_duration");for(let e=0;e<i.length;e++)i[e].innerHTML=n},e.contolVolumebarUpdate=()=>{const t=document.getElementById(e.videoPlayerId+"_fluid_control_currentvolume"),n=document.getElementById(e.videoPlayerId+"_fluid_control_volume_currentpos"),o=document.getElementById(e.videoPlayerId+"_fluid_control_volume").clientWidth,i=n.clientWidth,a=e.domRef.player.parentNode.getElementsByClassName("fluid_control_mute"),r=document.getElementById(e.videoPlayerId+"context_option_mute");if(0!==e.domRef.player.volume?(e.latestVolume=e.domRef.player.volume,e.fluidStorage.fluidMute=!1):e.fluidStorage.fluidMute=!0,e.domRef.player.volume&&!e.domRef.player.muted){for(let e=0;e<a.length;e++)a[e].className=a[e].className.replace(/\bfluid_button_mute\b/g,"fluid_button_volume");null!==r&&(r.innerHTML=e.displayOptions.captions.mute)}else{for(let e=0;e<a.length;e++)a[e].className=a[e].className.replace(/\bfluid_button_volume\b/g,"fluid_button_mute");null!==r&&(r.innerHTML=e.displayOptions.captions.unmute)}t.style.width=e.domRef.player.volume*o+"px",n.style.left=e.domRef.player.volume*o-i/2+"px"},e.muteToggle=()=>{0===e.domRef.player.volume||e.domRef.player.muted?(e.domRef.player.volume=e.latestVolume,e.domRef.player.muted=!1):(e.domRef.player.volume=0,e.domRef.player.muted=!0),e.fluidStorage.fluidVolume=e.latestVolume,e.fluidStorage.fluidMute=e.domRef.player.muted},e.checkFullscreenSupport=t=>{const n=document.getElementById(t);return n.mozRequestFullScreen?{goFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen",isFullscreen:"mozFullScreenElement"}:n.webkitRequestFullscreen?{goFullscreen:"webkitRequestFullscreen",exitFullscreen:"webkitExitFullscreen",isFullscreen:"webkitFullscreenElement"}:n.msRequestFullscreen?{goFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen",isFullscreen:"msFullscreenElement"}:n.requestFullscreen?{goFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen",isFullscreen:"fullscreenElement"}:!!e.domRef.player.webkitSupportsFullscreen&&{goFullscreen:"webkitEnterFullscreen",exitFullscreen:"webkitExitFullscreen",isFullscreen:"webkitDisplayingFullscreen"}},e.fullscreenOff=(t,n)=>{for(let e=0;e<t.length;e++)t[e].className=t[e].className.replace(/\bfluid_button_fullscreen_exit\b/g,"fluid_button_fullscreen");null!==n&&(n.innerHTML="Fullscreen"),e.fullscreenMode=!1},e.fullscreenOn=(t,n)=>{for(let e=0;e<t.length;e++)t[e].className=t[e].className.replace(/\bfluid_button_fullscreen\b/g,"fluid_button_fullscreen_exit");null!==n&&(n.innerHTML=e.displayOptions.captions.exitFullscreen),e.fullscreenMode=!0},e.fullscreenToggle=()=>{const t=e.domRef.player,n=document.getElementById("fluid_video_wrapper_"+e.videoPlayerId),o=e.checkFullscreenSupport("fluid_video_wrapper_"+e.videoPlayerId),i=t.parentNode.getElementsByClassName("fluid_control_fullscreen"),a=document.getElementById(e.videoPlayerId+"context_option_fullscreen");let r;e.theatreMode&&e.theatreToggle(),o?"webkitEnterFullscreen"===o.goFullscreen?t[o.isFullscreen]||(r="videoPlayerTag."+o.goFullscreen+"();",e.fullscreenOn(i,a),new Function("videoPlayerTag",r)(t)):(null===document[o.isFullscreen]?(r="videoPlayerTag."+o.goFullscreen+"();",e.fullscreenOn(i,a)):(r="document."+o.exitFullscreen+"();",e.fullscreenOff(i,a)),new Function("videoPlayerTag",r)(n)):-1!==n.className.search(/\bpseudo_fullscreen\b/g)?(n.className=n.className.replace(/\bpseudo_fullscreen\b/g,""),e.fullscreenOff(i,a)):(n.className+=" pseudo_fullscreen",e.fullscreenOn(i,a)),e.resizeVpaidAuto()},e.findClosestParent=(e,t)=>{let n,o=null;if(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some((function(e){return"function"==typeof document.body[e]&&(o=e,!0)})),e[o](t))return e;while(e){if(n=e.parentElement,n&&n[o](t))return n;e=n}return null},e.getTranslateX=e=>{let t=null;try{const n=e.style.transform.match(/translate3d\((-?\d+px,\s?){2}-?\d+px\)/);n&&n.length&&(t=n[0].replace("translate3d(","").replace(")","").replace(/\s/g,"").replace(/px/g,"").split(","))}catch(n){t=null}return t&&3===t.length?parseInt(t[0]):0},e.getEventOffsetX=(t,n)=>{let o,i=0,a=0;while(n&&!isNaN(n.offsetLeft))a=e.getTranslateX(n),"BODY"===n.tagName?i+=n.offsetLeft+n.clientLeft+a-(n.scrollLeft||document.documentElement.scrollLeft):i+=n.offsetLeft+n.clientLeft+a-n.scrollLeft,n=n.offsetParent;return o="undefined"!==typeof t.touches&&"undefined"!==typeof t.touches[0]?t.touches[0].clientX:t.clientX,o-i},e.getEventOffsetY=(t,n)=>{let o=1;const i=e.findClosestParent(n,'div[id^="fluid_video_wrapper_"]');if(i){const t=i.id.replace("fluid_video_wrapper_",""),n=e.checkFullscreenSupport("fluid_video_wrapper_"+t);n&&document[n.isFullscreen]&&(o=0)}let a=0;while(n&&!isNaN(n.offsetTop))"BODY"===n.tagName?a+=n.offsetTop-(n.scrollTop||document.documentElement.scrollTop)*o:a+=n.offsetTop-n.scrollTop*o,n=n.offsetParent;return t.clientY-a},e.onProgressbarMouseDown=t=>{let n;if(e.displayOptions.layoutControls.playPauseAnimation=!1,n=e.displayOptions.layoutControls.showCardBoardView?e.getEventOffsetX(t,t.target.parentNode):e.getEventOffsetX(t,document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container")),e.isCurrentlyPlayingAd)return;e.fluidPseudoPause=!0;const o=e.domRef.player.paused;o||e.domRef.player.pause();const i=t=>{const n=document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container").clientWidth;n&&(e.domRef.player.currentTime=e.currentVideoDuration*t/n)},a=t=>{const o=e.getEventOffsetX(t,t.target.parentNode);n=NaN,i(o),e.contolProgressbarUpdate(e.videoPlayerId),e.controlDurationUpdate(e.videoPlayerId)},r=t=>{document.removeEventListener("mousemove",a),document.removeEventListener("touchmove",a),document.removeEventListener("mouseup",r),document.removeEventListener("touchend",r);let l=e.getEventOffsetX(t,t.target.parentNode);isNaN(l)&&!isNaN(n)&&(l=n),isNaN(l)||i(l),o||e.play(),e.initialAnimationSet&&setTimeout(()=>{e.displayOptions.layoutControls.playPauseAnimation=e.initialAnimationSet},200),e.fluidPseudoPause=!1};document.addEventListener("mouseup",r),document.addEventListener("touchend",r),document.addEventListener("mousemove",a),document.addEventListener("touchmove",a)},e.onVolumeBarMouseDown=()=>{const t=t=>{const n=e.domRef.controls.volumeContainer.clientWidth;if(n){let o=t/n;o<.05?(o=0,e.domRef.player.muted=!0):o>.95&&(o=1),e.domRef.player.muted&&o>0&&(e.domRef.player.muted=!1),e.setVolume(o)}},n=n=>{const o=e.getEventOffsetX(n,e.domRef.controls.volumeContainer);t(o)},o=i=>{document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n),document.removeEventListener("mouseup",o),document.removeEventListener("touchend",o);const a=e.getEventOffsetX(i,e.domRef.controls.volumeContainer);isNaN(a)||t(a)};document.addEventListener("mouseup",o),document.addEventListener("touchend",o),document.addEventListener("mousemove",n),document.addEventListener("touchmove",n)},e.findRoll=t=>{const n=[];if(n.length=0,t&&e.hasOwnProperty("adList")){for(let o in e.adList)e.adList.hasOwnProperty(o)&&e.adList[o].roll===t&&n.push(o);return n}},e.onKeyboardVolumeChange=t=>{let n=e.domRef.player.volume;"asc"===t?n+=.05:"desc"===t&&(n-=.05),n<.05?n=0:n>.95&&(n=1),e.setVolume(n)},e.onKeyboardSeekPosition=t=>{e.isCurrentlyPlayingAd||(e.domRef.player.currentTime=e.getNewCurrentTimeValueByKeyCode(t,e.domRef.player.currentTime,e.domRef.player.duration))},e.getNewCurrentTimeValueByKeyCode=(e,t,n)=>{let o=t;switch(e){case 37:o-=5,o=o<5?0:o;break;case 39:o+=5,o=o>n-5?n:o;break;case 35:o=n;break;case 36:o=0;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:if(e<58&&e>47){const t=10*(e-48);o=n*t/100}break}return o},e.handleMouseleave=t=>{"undefined"!==typeof t.clientX&&e.domRef.wrapper.contains(document.elementFromPoint(t.clientX,t.clientY))||(e.hideControlBar(),e.hideTitle())},e.handleMouseenterForKeyboard=()=>{e.captureKey||(e.captureKey=t=>{t.stopPropagation();const n=t.keyCode;switch(n){case 70:e.fullscreenToggle(),t.preventDefault();break;case 13:case 32:e.playPauseToggle(),t.preventDefault();break;case 77:e.muteToggle(),t.preventDefault();break;case 38:e.onKeyboardVolumeChange("asc"),t.preventDefault();break;case 40:e.onKeyboardVolumeChange("desc"),t.preventDefault();break;case 37:case 39:case 35:case 36:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:e.onKeyboardSeekPosition(n),t.preventDefault();break}return!1},document.addEventListener("keydown",e.captureKey,!0))},e.keyboardControl=()=>{e.domRef.wrapper.addEventListener("click",e.handleMouseenterForKeyboard,!1);const t=e.handleWindowClick.bind(e);e.destructors.push(()=>{window.removeEventListener("click",t)}),window.addEventListener("click",t)},e.handleWindowClick=t=>{if(!e.domRef.wrapper)return void console.warn("Dangling click event listener should be collected for unknown wrapper "+e.videoPlayerId+". Did you forget to call destroy on player instance?");const n=e.domRef.wrapper.contains(t.target)||t.target.id==="skipHref_"+e.videoPlayerId;n||(document.removeEventListener("keydown",e.captureKey,!0),delete e["captureKey"],e.theatreMode&&!e.theatreModeAdvanced&&e.theatreToggle())},e.initialPlay=()=>{if(e.domRef.player.addEventListener("playing",()=>{e.toggleLoader(!1)}),e.domRef.player.addEventListener("timeupdate",()=>{e.toggleLoader(!1)}),e.domRef.player.addEventListener("waiting",()=>{e.toggleLoader(!0)}),!e.displayOptions.layoutControls.playButtonShowing){const t=document.getElementById(e.videoPlayerId+"_fluid_controls_container");t.classList.remove("initial_controls_show");const n=document.getElementById(e.videoPlayerId+"_logo");n&&n.classList.remove("initial_controls_show")}e.firstPlayLaunched||(e.playPauseToggle(),e.domRef.player.removeEventListener("play",e.initialPlay))},e.playPauseToggle=()=>{const t=!e.firstPlayLaunched,n=e.findRoll("preRoll");if(t&&0!==n.length){e.isCurrentlyPlayingAd=!0;const t=e.getBrowserVersion(),o=!1!==e.mobileInfo.userOs&&"Android"===e.mobileInfo.userOs&&"Google Chrome"===t.browserName;("Safari"===t.browserName||o)&&(e.domRef.player.src="https://cdn.fluidplayer.com/static/blank.mp4",e.domRef.player.play(),e.playPauseAnimationToggle(!0)),e.firstPlayLaunched=!0,e.prepareVast("preRoll"),e.preRollAdPodsLength=n.length}else t&&0===n.length&&(e.firstPlayLaunched=!0,e.displayOptions.vastOptions.vastAdvanced.noVastVideoCallback()),e.domRef.player.paused?(e.isCurrentlyPlayingAd&&null!==e.vastOptions&&e.vastOptions.vpaid?e.resumeVpaidAd():e.dashPlayer?e.dashPlayer.play():e.domRef.player.play(),e.playPauseAnimationToggle(!0)):t||(e.isCurrentlyPlayingAd&&null!==e.vastOptions&&e.vastOptions.vpaid?e.pauseVpaidAd():e.domRef.player.pause(),e.playPauseAnimationToggle(!1)),e.toggleOnPauseAd();const o=()=>{e.prepareVast("onPauseRoll"),e.prepareVast("postRoll"),e.prepareVast("midRoll")};if(t){const t=document.getElementById(e.videoPlayerId+"_fluid_pseudo_poster");t&&t.parentNode.removeChild(t),e.mainVideoDuration>0?o():e.domRef.player.addEventListener("mainVideoDurationSet",o)}e.adTimer();const i=document.getElementById(e.videoPlayerId+"_fluid_html_on_pause");i&&!e.isCurrentlyPlayingAd&&(e.domRef.player.paused?i.style.display="flex":i.style.display="none")},e.setCustomControls=()=>{e.trackEvent(e.domRef.player.parentNode,"click",".fluid_control_playpause",()=>{e.firstPlayLaunched||e.domRef.player.removeEventListener("play",e.initialPlay),e.playPauseToggle()},!1),e.domRef.player.addEventListener("play",()=>{e.controlPlayPauseToggle(),e.contolVolumebarUpdate()},!1),e.domRef.player.addEventListener("fluidplayerpause",()=>{e.controlPlayPauseToggle()},!1),e.domRef.player.addEventListener("timeupdate",()=>{e.contolProgressbarUpdate(),e.controlDurationUpdate()});const t=e.getMobileOs(),n=t.userOs?"touchstart":"mousedown";e.displayOptions.layoutControls.showCardBoardView?e.trackEvent(e.domRef.player.parentNode,n,".fluid_controls_progress_container",t=>e.onProgressbarMouseDown(t),!1):document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container").addEventListener(n,t=>e.onProgressbarMouseDown(t),!1),document.getElementById(e.videoPlayerId+"_fluid_control_volume_container").addEventListener(n,t=>e.onVolumeBarMouseDown(),!1),e.domRef.player.addEventListener("volumechange",()=>e.contolVolumebarUpdate()),e.trackEvent(e.domRef.player.parentNode,"click",".fluid_control_mute",()=>e.muteToggle()),e.setBuffering(),e.trackEvent(e.domRef.player.parentNode,"click",".fluid_control_fullscreen",()=>e.fullscreenToggle()),e.displayOptions.layoutControls.allowTheatre&&!e.isInIframe?(document.getElementById(e.videoPlayerId+"_fluid_control_theatre").style.display="inline-block",e.trackEvent(e.domRef.player.parentNode,"click",".fluid_control_theatre",()=>e.theatreToggle())):document.getElementById(e.videoPlayerId+"_fluid_control_theatre").style.display="none",e.domRef.player.addEventListener("ratechange",()=>{e.isCurrentlyPlayingAd&&(e.playbackRate=1)})},e.createTimePositionPreview=()=>{if(!e.showTimeOnHover)return;const t=document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container"),n=document.createElement("div");n.id=e.videoPlayerId+"_fluid_timeline_preview",n.className="fluid_timeline_preview",n.style.display="none",n.style.position="absolute",t.appendChild(n),document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container").addEventListener("mousemove",t=>{const n=document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container"),o=n.clientWidth,i=document.getElementById(e.videoPlayerId+"_fluid_timeline_preview"),a=e.getEventOffsetX(t,n),r=e.currentVideoDuration*a/o;i.innerText=e.formatTime(r),i.style.display="block",i.style.left=r/e.domRef.player.duration*100+"%"},!1),document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container").addEventListener("mouseout",()=>{const t=document.getElementById(e.videoPlayerId+"_fluid_timeline_preview");t.style.display="none"},!1)},e.setCustomContextMenu=()=>{const t=e.domRef.wrapper,n=e.displayOptions.layoutControls.contextMenu.controls,o=e.displayOptions.layoutControls.contextMenu.links,i=document.createElement("div");i.id=e.videoPlayerId+"_fluid_context_menu",i.className="fluid_context_menu",i.style.display="none",i.style.position="absolute";const a=document.createElement("ul");if(i.appendChild(a),o)for(const l of o){const t=document.createElement("li");t.id=e.videoPlayerId+"context_option_play",t.innerHTML=l.label,t.addEventListener("click",()=>window.open(l.href,"_blank"),!1),a.appendChild(t)}if(n){const t=document.createElement("li");t.id=e.videoPlayerId+"context_option_play",t.innerHTML=e.displayOptions.captions.play,t.addEventListener("click",()=>e.playPauseToggle(),!1),a.appendChild(t);const n=document.createElement("li");n.id=e.videoPlayerId+"context_option_mute",n.innerHTML=e.displayOptions.captions.mute,n.addEventListener("click",()=>e.muteToggle(),!1),a.appendChild(n);const o=document.createElement("li");o.id=e.videoPlayerId+"context_option_fullscreen",o.innerHTML=e.displayOptions.captions.fullscreen,o.addEventListener("click",()=>e.fullscreenToggle(),!1),a.appendChild(o)}const r=document.createElement("li");r.id=e.videoPlayerId+"context_option_homepage",r.innerHTML="Fluid Player "+e.version,r.addEventListener("click",()=>window.open(e.homepage,"_blank"),!1),a.appendChild(r),e.domRef.player.parentNode.insertBefore(i,e.domRef.player.nextSibling),t.addEventListener("contextmenu",t=>{t.preventDefault(),i.style.left=e.getEventOffsetX(t,e.domRef.player)+"px",i.style.top=e.getEventOffsetY(t,e.domRef.player)+"px",i.style.display="block"},!1),document.addEventListener("click",t=>{t.target===e.domRef.player&&2===t.button||(i.style.display="none")},!1)},e.setDefaultLayout=()=>{e.domRef.wrapper.className+=" fluid_player_layout_"+e.displayOptions.layoutControls.layout,e.setCustomContextMenu();const t=e.generateCustomControlTags({displayVolumeBar:e.checkShouldDisplayVolumeBar(),primaryColor:e.displayOptions.layoutControls.primaryColor?e.displayOptions.layoutControls.primaryColor:"red",controlForwardBackward:!!e.displayOptions.layoutControls.controlForwardBackward.show});e.domRef.player.removeAttribute("controls"),e.domRef.player.parentNode.insertBefore(t.root,e.domRef.player.nextSibling),e.domRef.player.parentNode.insertBefore(t.loader,e.domRef.player.nextSibling),e.domRef.controls=t;let n=100;const o=function(){n?e.checkIfVolumebarIsRendered()?(clearInterval(i),e.contolVolumebarUpdate(e.videoPlayerId)):n--:clearInterval(i)};let i=setInterval(o,100);e.displayOptions.layoutControls.doubleclickFullscreen&&e.domRef.player.addEventListener("dblclick",e.fullscreenToggle),e.initHtmlOnPauseBlock(),e.setCustomControls(),e.setupThumbnailPreview(),e.createTimePositionPreview(),e.posterImage(),e.initPlayButton(),e.setVideoPreload(),e.createPlaybackList(),e.createDownload(),e.displayOptions.layoutControls.controlForwardBackward.show&&e.initSkipControls()},e.initSkipControls=()=>{const t=t=>{if(e.isCurrentlyPlayingAd)return;let n=e.domRef.player.currentTime+t;n<0&&(n=0),e.domRef.player.currentTime=n};e.domRef.controls.skipBack.addEventListener("click",t.bind(this,-10)),e.domRef.controls.skipForward.addEventListener("click",t.bind(this,10))},e.checkIfVolumebarIsRendered=()=>{const t=document.getElementById(e.videoPlayerId+"_fluid_control_volume_currentpos"),n=document.getElementById(e.videoPlayerId+"_fluid_control_volume").clientWidth,o=t.clientWidth;return o!==n},e.setLayout=()=>{const t=e.isTouchDevice()?"touchend":"click";e.domRef.player.addEventListener(t,()=>e.playPauseToggle(),!1),e.domRef.player.addEventListener("play",e.initialPlay,!1),e.setDefaultLayout()},e.handleFullscreen=()=>{"undefined"===typeof document.vastFullsreenChangeEventListenersAdded&&(["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(t=>{"object"===typeof document["on"+t]&&document.addEventListener(t,(function(t){e.recalculateAdDimensions()}),!1)}),document.vastFullsreenChangeEventListenersAdded=!0)},e.setupPlayerWrapper=()=>{const t=document.createElement("div");return t.id="fluid_video_wrapper_"+e.videoPlayerId,t.className=e.isTouchDevice()?"fluid_video_wrapper mobile":"fluid_video_wrapper",e.displayOptions.layoutControls.fillToContainer?(t.style.width="100%",t.style.height="100%"):(t.style.height=e.domRef.player.clientHeight+"px",t.style.width=e.domRef.player.clientWidth+"px"),e.domRef.player.style.height="100%",e.domRef.player.style.width="100%",e.domRef.player.parentNode.insertBefore(t,e.domRef.player),t.appendChild(e.domRef.player),t},e.onErrorDetection=()=>{e.domRef.player.networkState===e.domRef.player.NETWORK_NO_SOURCE&&e.isCurrentlyPlayingAd&&e.playMainVideoWhenVastFails(401)},e.createVideoSourceSwitch=()=>{const t=[],n=e.domRef.player.querySelectorAll("source");if([].forEach.call(n,e=>{e.title&&e.src&&t.push({title:e.title,url:e.src,isHD:null!=e.getAttribute("data-fluid-hd")})}),e.videoSources=t,e.videoSources.length<=1)return;const o=document.getElementById(e.videoPlayerId+"_fluid_control_video_source");o.style.display="inline-block";let i=!1;const a=document.createElement("div");a.id=e.videoPlayerId+"_fluid_control_video_source_list",a.className="fluid_video_sources_list",a.style.display="none";let r=!0;for(const l of e.videoSources){const t=l.url.split(".").pop();if("iOS"===e.mobileInfo.userOs&&"mkv"===t)continue;const n=r?"source_selected":"",o=l.isHD?'<sup style="color:'+e.displayOptions.layoutControls.primaryColor+'" class="fp_hd_source"></sup>':"";r=!1;const s=document.createElement("div");s.id="source_"+e.videoPlayerId+"_"+l.title,s.className="fluid_video_source_list_item",s.innerHTML='<span class="source_button_icon '+n+'"></span>'+l.title+o,s.addEventListener("click",(function(t){t.stopPropagation(),e.domRef.player.style.width=e.domRef.player.clientWidth+"px",e.domRef.player.style.height=e.domRef.player.clientHeight+"px";const n=this,o=document.getElementsByClassName("source_button_icon");for(let e=0;e<o.length;e++)o[e].className=o[e].className.replace("source_selected","");n.firstChild.className+=" source_selected",e.videoSources.forEach(t=>{t.title===n.innerText.replace(/(\r\n\t|\n|\r\t)/gm,"")&&(e.setBuffering(),e.setVideoSource(t.url),e.fluidStorage.fluidQuality=t.title)}),e.openCloseVideoSourceSwitch()})),a.appendChild(s),i=!0}i?(o.appendChild(a),o.addEventListener("click",()=>{e.openCloseVideoSourceSwitch()})):document.getElementById(e.videoPlayerId+"_fluid_control_video_source").style.display="none"},e.openCloseVideoSourceSwitch=()=>{const t=document.getElementById(e.videoPlayerId+"_fluid_control_video_source_list");if(e.isCurrentlyPlayingAd)return void(t.style.display="none");if("none"!==t.style.display)return void(t.style.display="none");t.style.display="block";const n=()=>{t.removeEventListener("mouseleave",n),t.style.display="none"};t.addEventListener("mouseleave",n)},e.setVideoSource=t=>{if("iOS"===e.mobileInfo.userOs&&t.indexOf(".mkv")>0)return console.log("[FP_ERROR] .mkv files not supported by iOS devices."),!1;if(e.isCurrentlyPlayingAd)return void(e.originalSrc=t);e.isSwitchingSource=!0;let n=!1;e.domRef.player.paused||(e.domRef.player.pause(),n=!0);const o=e.domRef.player.currentTime;e.setCurrentTimeAndPlay(o,n),e.domRef.player.src=t,e.originalSrc=t,e.displayOptions.layoutControls.mediaType=e.getCurrentSrcType(),e.initialiseStreamers()},e.setCurrentTimeAndPlay=(t,n)=>{const o=()=>{e.domRef.player.currentTime=t,e.domRef.player.removeEventListener("loadedmetadata",o),"iOS"!==e.mobileInfo.userOs&&"safari"!==e.getBrowserVersion().browserName.toLowerCase()||e.domRef.player.addEventListener("playing",i),n?e.domRef.player.play():(e.domRef.player.pause(),e.controlPlayPauseToggle(e.videoPlayerId)),e.isSwitchingSource=!1,e.domRef.player.style.width="100%",e.domRef.player.style.height="100%"};let i=()=>{e.currentTime=t,e.domRef.player.removeEventListener("playing",i)};e.domRef.player.addEventListener("loadedmetadata",o,!1),e.domRef.player.load()},e.initTitle=()=>{if(!e.displayOptions.layoutControls.title)return;const t=document.createElement("div");t.id=e.videoPlayerId+"_title",e.domRef.player.parentNode.insertBefore(t,null),t.innerHTML+=e.displayOptions.layoutControls.title,t.classList.add("fp_title")},e.hasTitle=()=>{const t=document.getElementById(e.videoPlayerId+"_title"),n=e.displayOptions.layoutControls.title;return t&&null!=n},e.hideTitle=()=>{const t=document.getElementById(e.videoPlayerId+"_title");e.hasTitle()&&t.classList.add("fade_out")},e.showTitle=()=>{const t=document.getElementById(e.videoPlayerId+"_title");e.hasTitle()&&t.classList.remove("fade_out")},e.initLogo=()=>{if(!e.displayOptions.layoutControls.logo.imageUrl)return;const t=document.createElement("div");t.id=e.videoPlayerId+"_logo";let n="logo_maintain_display";e.displayOptions.layoutControls.logo.hideWithControls&&(n="initial_controls_show"),t.classList.add(n,"fp_logo");const o=document.createElement("img");o.id=e.videoPlayerId+"_logo_image",e.displayOptions.layoutControls.logo.imageUrl&&(o.src=e.displayOptions.layoutControls.logo.imageUrl),o.style.position="absolute",o.style.margin=e.displayOptions.layoutControls.logo.imageMargin;const i=e.displayOptions.layoutControls.logo.position.toLowerCase();-1!==i.indexOf("bottom")?o.style.bottom=0:o.style.top=0,-1!==i.indexOf("right")?o.style.right=0:o.style.left=0,e.displayOptions.layoutControls.logo.opacity&&(o.style.opacity=e.displayOptions.layoutControls.logo.opacity),null!==e.displayOptions.layoutControls.logo.clickUrl&&(o.style.cursor="pointer",o.addEventListener("click",(function(){const t=window.open(e.displayOptions.layoutControls.logo.clickUrl,"_blank");t.focus()}))),e.displayOptions.layoutControls.logo.mouseOverImageUrl&&(o.addEventListener("mouseover",(function(){o.src=e.displayOptions.layoutControls.logo.mouseOverImageUrl}),!1),o.addEventListener("mouseout",(function(){o.src=e.displayOptions.layoutControls.logo.imageUrl}),!1)),e.domRef.player.parentNode.insertBefore(t,null),t.appendChild(o,null)},e.initHtmlOnPauseBlock=()=>{if(e.hasValidOnPauseAd())return;if(!e.displayOptions.layoutControls.htmlOnPauseBlock.html)return;const t=document.createElement("div");t.id=e.videoPlayerId+"_fluid_html_on_pause",t.className="fluid_html_on_pause",t.style.display="none",t.innerHTML=e.displayOptions.layoutControls.htmlOnPauseBlock.html,t.onclick=function(t){e.playPauseToggle()},e.displayOptions.layoutControls.htmlOnPauseBlock.width&&(t.style.width=e.displayOptions.layoutControls.htmlOnPauseBlock.width+"px"),e.displayOptions.layoutControls.htmlOnPauseBlock.height&&(t.style.height=e.displayOptions.layoutControls.htmlOnPauseBlock.height+"px"),e.domRef.player.parentNode.insertBefore(t,null)},e.initPlayButton=()=>{const t=document.createElement("div");t.id=e.videoPlayerId+"_fluid_initial_play_button",t.className="fluid_html_on_pause";const n=e.displayOptions.layoutControls.primaryColor?e.displayOptions.layoutControls.primaryColor:"#333333";t.innerHTML='<div id="'+e.videoPlayerId+'_fluid_initial_play" class="fluid_initial_play" style="background-color:'+n+'"><div id="'+e.videoPlayerId+'_fluid_state_button" class="fluid_initial_play_button"></div></div>';const o=function(){e.playPauseToggle(),t.removeEventListener("click",o)};if(t.addEventListener("click",o),!e.displayOptions.layoutControls.playButtonShowing){const n=document.getElementById(e.videoPlayerId+"_fluid_controls_container");n.classList.add("initial_controls_show"),t.style.opacity="0"}e.domRef.player.parentNode.insertBefore(t,null)},e.mainVideoReady=()=>{if(0!==e.mainVideoDuration||e.isCurrentlyPlayingAd||!1!==e.mainVideoReadyState)return;const t=new CustomEvent("mainVideoDurationSet");e.mainVideoDuration=e.domRef.player.duration,e.mainVideoReadyState=!0,e.domRef.player.dispatchEvent(t),e.domRef.player.removeEventListener("loadedmetadata",e.mainVideoReady)},e.userActivityChecker=()=>{const t=e.domRef.wrapper;e.newActivity=null;let n=!1;const o=t=>{"touchstart"!==t.type&&"mousedown"!==t.type||(n=!0),"touchend"!==t.type&&"mouseup"!==t.type||(n=!1),e.newActivity=!0};setInterval(()=>{if(!0===e.newActivity){if(n||e.isLoading||(e.newActivity=!1),!1===e.isUserActive||!e.isControlBarVisible()){let t=new CustomEvent("userActive");e.domRef.player.dispatchEvent(t),e.isUserActive=!0}clearTimeout(e.inactivityTimeout),e.inactivityTimeout=setTimeout(()=>{if(!0===e.newActivity)return void clearTimeout(e.inactivityTimeout);e.isUserActive=!1;let t=new CustomEvent("userInactive");e.domRef.player.dispatchEvent(t)},1e3*e.displayOptions.layoutControls.controlBar.autoHideTimeout)}},300);const i=e.isTouchDevice()?["touchstart","touchmove","touchend"]:["mousemove","mousedown","mouseup"];for(let e=0;e<i.length;e++)t.addEventListener(i[e],o)},e.hasControlBar=()=>!!document.getElementById(e.videoPlayerId+"_fluid_controls_container"),e.isControlBarVisible=()=>{if(!1===e.hasControlBar())return!1;const t=document.getElementById(e.videoPlayerId+"_fluid_controls_container"),n=window.getComputedStyle(t,null);return!(0===n.opacity||"hidden"===n.visibility)},e.setVideoPreload=()=>{e.domRef.player.setAttribute("preload",e.displayOptions.layoutControls.preload)},e.hideControlBar=()=>{if(e.isCurrentlyPlayingAd&&!e.domRef.player.paused&&e.toggleAdCountdown(!0),e.domRef.player.style.cursor="none",!e.hasControlBar())return;const t=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_container"),n=e.domRef.player.parentNode.getElementsByClassName("fp_logo");for(let o=0;o<t.length;o++)e.displayOptions.layoutControls.controlBar.animated?(t[o].classList.remove("fade_in"),t[o].classList.add("fade_out")):t[o].style.display="none";for(let o=0;o<n.length;o++)e.displayOptions.layoutControls.controlBar.animated?n[o]&&(n[o].classList.remove("fade_in"),n[o].classList.add("fade_out")):n[o]&&(n[o].style.display="none")},e.showControlBar=()=>{if(e.isCurrentlyPlayingAd&&!e.domRef.player.paused&&e.toggleAdCountdown(!1),e.isTouchDevice()||(e.domRef.player.style.cursor="default"),!e.hasControlBar())return;const t=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_container"),n=e.domRef.player.parentNode.getElementsByClassName("fp_logo");for(let o=0;o<t.length;o++)e.displayOptions.layoutControls.controlBar.animated?(t[o].classList.remove("fade_out"),t[o].classList.add("fade_in")):t[o].style.display="block";for(let o=0;o<n.length;o++)e.displayOptions.layoutControls.controlBar.animated?n[o]&&(n[o].classList.remove("fade_out"),n[o].classList.add("fade_in")):n[o]&&(n[o].style.display="block")},e.linkControlBarUserActivity=()=>{e.domRef.player.addEventListener("userInactive",e.hideControlBar),e.domRef.player.addEventListener("userInactive",e.hideTitle),e.domRef.player.addEventListener("userActive",e.showControlBar),e.domRef.player.addEventListener("userActive",e.showTitle)},e.initMute=()=>{!0===e.displayOptions.layoutControls.mute&&(e.domRef.player.volume=0)},e.initLoop=()=>{e.domRef.player.loop=!!e.displayOptions.layoutControls.loop},e.setBuffering=()=>{let t;const n=e.domRef.player.parentNode.getElementsByClassName("fluid_controls_buffered");for(let e=0;e<n.length;e++)n[e].style.width=0;const o=()=>{const o=e.domRef.player.duration;if(!(o<=0))for(let i=0;i<e.domRef.player.buffered.length;i++){if(e.domRef.player.buffered.start(e.domRef.player.buffered.length-1-i)>=e.domRef.player.currentTime)continue;const a=e.domRef.player.buffered.end(e.domRef.player.buffered.length-1-i)/o*100+"%";for(let e=0;e<n.length;e++)n[e].style.width=a;t&&1===e.domRef.player.buffered.end(e.domRef.player.buffered.length-1-i)/o&&clearInterval(t);break}};t=setInterval(o,500)},e.createPlaybackList=()=>{const t=["x2","x1.5","x1","x0.5"];if(!e.displayOptions.layoutControls.playbackRateEnabled)return;document.getElementById(e.videoPlayerId+"_fluid_control_playback_rate").style.display="inline-block";const n=document.getElementById(e.videoPlayerId+"_fluid_control_playback_rate"),o=document.createElement("div");o.id=e.videoPlayerId+"_fluid_control_video_playback_rate",o.className="fluid_video_playback_rates",o.style.display="none",t.forEach((function(t){const n=document.createElement("div");n.className="fluid_video_playback_rates_item",n.innerText=t,n.addEventListener("click",(function(t){t.stopPropagation();let n=this.innerText.replace("x","");e.setPlaybackSpeed(n),e.openCloseVideoPlaybackRate()})),o.appendChild(n)})),n.appendChild(o),n.addEventListener("click",(function(){e.openCloseVideoPlaybackRate()}))},e.openCloseVideoPlaybackRate=()=>{const t=document.getElementById(e.videoPlayerId+"_fluid_control_video_playback_rate");if(e.isCurrentlyPlayingAd||"none"!==t.style.display)return void(t.style.display="none");t.style.display="block";const n=function(){t.removeEventListener("mouseleave",n),t.style.display="none"};t.addEventListener("mouseleave",n)},e.createDownload=()=>{const t=document.getElementById(e.videoPlayerId+"_fluid_control_download");if(!e.displayOptions.layoutControls.allowDownload)return;t.style.display="inline-block";let n=document.createElement("a");n.id=e.videoPlayerId+"_download",n.onclick=function(e){const t=this;"undefined"!==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation(),setInterval((function(){t.download="",t.href=""}),100)},t.appendChild(n),t.addEventListener("click",(function(){const t=document.getElementById(e.videoPlayerId+"_download");t.download=e.originalSrc,t.href=e.originalSrc,n.click()}))},e.theatreToggle=()=>{if(e.isInIframe)return;if(e.fullscreenMode&&e.fullscreenToggle(),e.displayOptions.layoutControls.theatreAdvanced){const t=document.getElementById(e.displayOptions.layoutControls.theatreAdvanced.theatreElement),n=e.displayOptions.layoutControls.theatreAdvanced.classToApply;null!=t&&null!=n?(e.theatreMode?t.classList.remove(n):t.classList.add(n),e.theatreModeAdvanced=!e.theatreModeAdvanced):(console.log("[FP_ERROR] Theatre mode elements could not be found, defaulting behaviour."),e.defaultTheatre())}else e.defaultTheatre();e.theatreMode=!e.theatreMode,e.fluidStorage.fluidTheatre=e.theatreMode;const t=e.theatreMode?"theatreModeOn":"theatreModeOff",n=document.createEvent("CustomEvent");n.initEvent(t,!1,!0),e.domRef.player.dispatchEvent(n),e.resizeVpaidAuto()},e.defaultTheatre=()=>{const t=document.getElementById("fluid_video_wrapper_"+e.videoPlayerId);if(e.theatreMode)return t.classList.remove("fluid_theatre_mode"),t.style.maxHeight="",t.style.marginTop="",t.style.left="",t.style.right="",t.style.position="",void(e.displayOptions.layoutControls.fillToContainer?(t.style.width="100%",t.style.height="100%"):(t.style.width=e.originalWidth+"px",t.style.height=e.originalHeight+"px"));t.classList.add("fluid_theatre_mode");const n=e.displayOptions.layoutControls.theatreSettings.width;let o="10px";switch(t.style.width=n,t.style.height=e.displayOptions.layoutControls.theatreSettings.height,t.style.maxHeight=screen.height+"px",t.style.marginTop=e.displayOptions.layoutControls.theatreSettings.marginTop+"px",e.displayOptions.layoutControls.theatreSettings.horizontalAlign){case"center":"string"==typeof n&&"%"===n.substr(n.length-1)?o=(100-parseInt(n.substring(0,n.length-1)))/2+"%":"string"==typeof n&&"px"===n.substr(n.length-2)?o=(screen.width-parseInt(n.substring(0,n.length-2)))/screen.width*100/2+"%":console.log("[FP_ERROR] Theatre width specified invalid."),t.style.left=o;break;case"right":t.style.right=o;break;case"left":default:t.style.left=o;break}},e.posterImage=()=>{if(!e.displayOptions.layoutControls.posterImage)return;const t=document.createElement("div");t.id=e.videoPlayerId+"_fluid_pseudo_poster",t.className="fluid_pseudo_poster",-1!==["auto","contain","cover"].indexOf(e.displayOptions.layoutControls.posterImageSize)?(t.style.background="url('"+e.displayOptions.layoutControls.posterImage+"') center center / "+e.displayOptions.layoutControls.posterImageSize+" no-repeat black",e.domRef.player.parentNode.insertBefore(t,null)):console.log("[FP_ERROR] Not allowed value in posterImageSize")},e.nextSource=()=>{const t=e.domRef.player.getElementsByTagName("source");if(!t.length)return null;for(let n=0;n<t.length-1;n++)if(t[n].getAttribute("src")===e.originalSrc&&t[n+1].getAttribute("src"))return void e.setVideoSource(t[n+1].getAttribute("src"))},e.inIframe=()=>{try{return window.self!==window.top}catch(e){return!0}},e.setPersistentSettings=()=>{if("undefined"===typeof Storage||"undefined"===typeof localStorage)return;const t="_fp_storage_enabled",n=localStorage;try{n.setItem(t,"1"),n.removeItem(t)}catch(o){return!1}if(e.fluidStorage=localStorage,"undefined"!==typeof e.fluidStorage.fluidVolume&&e.displayOptions.layoutControls.persistentSettings.volume&&(e.setVolume(e.fluidStorage.fluidVolume),"undefined"!==typeof e.fluidStorage.fluidMute&&"true"===e.fluidStorage.fluidMute&&e.muteToggle()),"undefined"!==typeof e.fluidStorage.fluidQuality&&e.displayOptions.layoutControls.persistentSettings.quality){const t=document.getElementById("source_"+e.videoPlayerId+"_"+e.fluidStorage.fluidQuality),n=document.getElementById(e.videoPlayerId+"_fluid_control_video_source");t&&(t.click(),n.click())}"undefined"!==typeof e.fluidStorage.fluidSpeed&&e.displayOptions.layoutControls.persistentSettings.speed&&e.setPlaybackSpeed(e.fluidStorage.fluidSpeed),"undefined"!==typeof e.fluidStorage.fluidTheatre&&"true"===e.fluidStorage.fluidTheatre&&e.displayOptions.layoutControls.persistentSettings.theatre&&e.theatreToggle()},e.play=()=>{if(e.domRef.player.paused)return e.playPauseToggle(),!0},e.pause=()=>(e.domRef.player.paused||e.playPauseToggle(),!0),e.skipTo=t=>{e.domRef.player.currentTime=t},e.setPlaybackSpeed=t=>{e.isCurrentlyPlayingAd||(e.domRef.player.playbackRate=t,e.fluidStorage.fluidSpeed=t)},e.setVolume=t=>{e.domRef.player.volume=t;const n=0===t?1:t;e.latestVolume=n,e.fluidStorage.fluidVolume=n},e.isCurrentlyPlayingVideo=e=>e&&e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2,e.setHtmlOnPauseBlock=t=>{if("object"!=typeof t||"undefined"==typeof t.html)return!1;const n=document.getElementById(e.videoPlayerId+"_fluid_html_on_pause");if(!n){const n=document.createElement("div");return n.id=e.videoPlayerId+"_fluid_html_on_pause",n.className="fluid_html_on_pause",n.style.display="none",n.innerHTML=t.html,n.onclick=function(){e.playPauseToggle()},t.width&&(n.style.width=t.width+"px"),t.height&&(n.style.height=t.height+"px"),void e.domRef.player.parentNode.insertBefore(n,null)}n.innerHTML=t.html,t.width&&(n.style.width=t.width+"px"),t.height&&(n.style.height=t.height+"px")},e.toggleControlBar=t=>{const n=document.getElementById(e.videoPlayerId+"fluid_controls_container");t?n.className+=" initial_controls_show":n.className=n.className.replace(" initial_controls_show","")},e.on=(t,n)=>{switch(t){case"play":e.domRef.player.onplay=n;break;case"seeked":e.domRef.player.onseeked=n;break;case"ended":e.domRef.player.onended=n;break;case"pause":e.domRef.player.addEventListener("pause",()=>{e.fluidPseudoPause||n()});break;case"playing":e.domRef.player.addEventListener("playing",n);break;case"theatreModeOn":e.domRef.player.addEventListener("theatreModeOn",n);break;case"theatreModeOff":e.domRef.player.addEventListener("theatreModeOff",n);break;case"timeupdate":e.domRef.player.addEventListener("timeupdate",()=>{n(e.getCurrentTime())});break;default:console.log("[FP_ERROR] Event not recognised");break}},e.toggleLogo=t=>{if("object"!=typeof t||!t.imageUrl)return!1;const n=document.getElementById(e.videoPlayerId+"_logo");e.displayOptions.layoutControls.logo.imageUrl=t.imageUrl?t.imageUrl:null,e.displayOptions.layoutControls.logo.position=t.position?t.position:"top left",e.displayOptions.layoutControls.logo.clickUrl=t.clickUrl?t.clickUrl:null,e.displayOptions.layoutControls.logo.opacity=t.opacity?t.opacity:1,e.displayOptions.layoutControls.logo.mouseOverImageUrl=t.mouseOverImageUrl?t.mouseOverImageUrl:null,e.displayOptions.layoutControls.logo.imageMargin=t.imageMargin?t.imageMargin:"2px",e.displayOptions.layoutControls.logo.hideWithControls=!!t.hideWithControls&&t.hideWithControls,e.displayOptions.layoutControls.logo.showOverAds=!!t.showOverAds&&t.showOverAds,n&&n.remove(),e.initLogo()},e.trackEvent=(t,n,o,i)=>{"undefined"===typeof e.events[o]&&(e.events[o]={}),"undefined"===typeof e.events[o][n]&&(e.events[o][n]=[]),e.events[o][n].push(i),e.registerListener(t,n,o,i)},e.registerListener=(e,t,n,o)=>{const i=e.querySelectorAll(n);for(let a=0;a<i.length;a++)i[a].addEventListener(t,o)},e.copyEvents=t=>{for(let n in e.events)if(e.events.hasOwnProperty(n))for(let o in e.events[n])if(e.events[n].hasOwnProperty(o))for(let i=0;i<e.events[n][o].length;i++)e.registerListener(t,o,n,e.events[n][o][i])},e.destroy=()=>{const t=e.destructors.length;if(0===t)return;for(let o=0;o<t;++o)e.destructors[o].bind(this)();const n=document.getElementById("fluid_video_wrapper_"+e.videoPlayerId);n?"function"!==typeof n.remove?n.parentNode?n.parentNode.removeChild(n):console.error("Unable to remove wrapper element for Fluid Player instance - no parent"+e.videoPlayerId):n.remove():console.warn("Unable to remove wrapper element for Fluid Player instance - element not found "+e.videoPlayerId)}},g=function(e){this.play=()=>e.play(),this.pause=()=>e.pause(),this.skipTo=t=>e.skipTo(t),this.setPlaybackSpeed=t=>e.setPlaybackSpeed(t),this.setVolume=t=>e.setVolume(t),this.setHtmlOnPauseBlock=t=>e.setHtmlOnPauseBlock(t),this.toggleControlBar=t=>e.toggleControlBar(t),this.toggleFullScreen=t=>e.fullscreenToggle(t),this.destroy=()=>e.destroy(),this.dashInstance=()=>e.dashPlayer?e.dashPlayer:null,this.hlsInstance=()=>e.hlsPlayer?e.hlsPlayer:null,this.on=(t,n)=>e.on(t,n)},v=function(e,t){const n=new y;t||(t={}),n.init(e,t);const o=new g(n);if(window&&p){const i={id:e,options:t,instance:o,internals:n};"undefined"===typeof window.fluidPlayerDebug&&(window.fluidPlayerDebug=[]),window.fluidPlayerDebug.push(i),console.log("Created instance of Fluid Player. Debug API available at window.fluidPlayerDebug["+(window.fluidPlayerDebug.length-1)+"].",i)}return o};p&&console.log("Fluid Player - Development Build"+(m?" (in debug mode)":""));t["a"]=v},9544:function(e,t,n){},"9bf3":function(e,t,n){"use strict";(function(e,o){n("e36b");var i=n("8faf");if("undefined"===typeof FP_HOMEPAGE&&(e.FP_HOMEPAGE="https://fluidplayer.com"),"undefined"===typeof FP_BUILD_VERSION&&(e.FP_BUILD_VERSION="v3"),"undefined"===typeof FP_ENV){const t=window&&window.location&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||""===window.location.hostname);o&&Object({NODE_ENV:"production",BASE_URL:"/"})||window&&!t?e.FP_ENV="production":e.FP_ENV="development"}"undefined"===typeof FP_DEBUG&&(e.FP_DEBUG=!1),t["a"]=i["a"]}).call(this,n("c8ba"),n("4362"))},b042:function(e,t,n){},ca71:function(e,t,n){},e36b:function(e,t,n){"use strict";var o=n("1368"),i=n.n(o);"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");const n=Object(e);for(let o=1;o<arguments.length;o++){const e=arguments[o];if(null!=e)for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n},writable:!0,configurable:!0}),function(){if("function"===typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),function(e){e.forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}))}([Element.prototype,CharacterData.prototype,DocumentType.prototype]),i.a.polyfill()},e4bb:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fill-height",attrs:{id:"history"}},[n("v-container",{staticClass:"pt-0 pb-0 fill-height",attrs:{fluid:""}},[n("v-row",{staticClass:"fill-height"},[n("v-col",{staticClass:"pt-8 pl-8",attrs:{cols:"12",sm:"12",order:"2","order-sm":"2","order-md":"1","order-lg":"1",md:"7",lg:"7"}},[n("h1",{staticClass:"title font-weight-medium pb-5"},[e._v(e._s(e.historyType))]),"Watch History"==e.historyType?[e.histories.length<=0&&!e.loading?[n("p",{staticClass:"text-center body-1"},[e._v("No watch history yet.")])]:e._e(),n("section",[e._l(e.loading?12:e.histories,(function(t,o){return n("div",{key:o,staticClass:"mb-5"},[n("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"list-item-avatar-three-line",loading:e.loading,tile:"",large:""}},[n("v-card",{staticClass:"card",attrs:{tile:"",flat:""}},[t.videoId?n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{staticClass:"mx-auto",attrs:{cols:"3",sm:"3",md:"5",lg:"5"}},[n("v-img",{staticClass:"align-center",attrs:{src:e.getUrl+"/uploads/thumbnails/"+t.videoId.thumbnailUrl}})],1),n("v-col",[n("div",{staticClass:"ml-2"},[n("v-card-title",{staticClass:"pl-2 pt-0 subtitle-1 font-weight-bold d-flex justify-space-between",staticStyle:{"line-height":"1"}},[e._v(" "+e._s(t.videoId.title)+" "),n("v-btn",{attrs:{text:""},on:{click:function(n){return e.deleteHistory(t._id)}}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("v-card-subtitle",{staticClass:"pl-2 pt-2 pb-0",staticStyle:{"line-height":"1"}},[e._v(" "+e._s(t.userId.channelName)),n("v-icon",[e._v("mdi-circle-small")]),e._v(e._s(t.videoId.views)+" views ")],1),n("v-card-subtitle",{staticClass:"pl-2 pt-2 pb-0"},[e._v(" "+e._s(t.videoId.description)+" ")])],1)])],1):e._e()],1)],1)],1)})),n("infinite-loading",{attrs:{identifier:e.infiniteId},on:{infinite:e.getHistories},scopedSlots:e._u([{key:"error",fn:function(t){var o=t.trigger;return n("div",{},[n("v-alert",{attrs:{prominent:"",type:"error"}},[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"grow"},[n("div",{staticClass:"title"},[e._v("Error!")]),n("div",[e._v(" Something went wrong, but don’t fret — let’s give it another shot. ")])]),n("v-col",{staticClass:"shrink"},[n("v-btn",{on:{click:o}},[e._v("Take action")])],1)],1)],1)],1)}}],null,!1,2497732993)},[n("div",{attrs:{slot:"spinner"},slot:"spinner"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"red"}})],1),n("div",{attrs:{slot:"no-results"},slot:"no-results"}),n("span",{attrs:{slot:"no-more"},slot:"no-more"})])],2)]:[e.histories.length<=0&&!e.loading?[n("p",{staticClass:"text-center body-1"},[e._v("No search history yet.")])]:e._e(),n("div",[e._l(e.loading?12:e.histories,(function(t,o){return n("div",{key:o},[n("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"list-item-two-line",loading:e.loading,tile:"",large:""}},[n("v-card",{staticClass:"card d-flex pl-0",attrs:{flat:""}},[n("v-card-text",{staticClass:"pl-0 py-0"},[n("v-card-title",{staticClass:"pl-0 black--text text--lighten-5 subtitle-1 font-weight-medium"},[e._v(e._s(t.searchText))]),n("v-card-subtitle",{staticClass:"pl-0 pb-0"},[e._v(e._s(e.dateFormatter(t.createdAt)))])],1),n("v-card-actions",[n("v-btn",{staticClass:"grey--text",attrs:{text:"",fab:""},on:{click:function(n){return e.deleteHistory(t._id)}}},[n("v-icon",[e._v("mdi-close")])],1)],1)],1)],1)],1)})),n("infinite-loading",{attrs:{identifier:e.infiniteId},on:{infinite:e.getHistories},scopedSlots:e._u([{key:"error",fn:function(t){var o=t.trigger;return n("div",{},[n("v-alert",{attrs:{prominent:"",type:"error"}},[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"grow"},[n("div",{staticClass:"title"},[e._v("Error!")]),n("div",[e._v(" Something went wrong, but don’t fret — let’s give it another shot. ")])]),n("v-col",{staticClass:"shrink"},[n("v-btn",{on:{click:o}},[e._v("Take action")])],1)],1)],1)],1)}}])},[n("div",{attrs:{slot:"spinner"},slot:"spinner"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"red"}})],1),n("div",{attrs:{slot:"no-results"},slot:"no-results"}),n("span",{attrs:{slot:"no-more"},slot:"no-more"})])],2)]],2),n("v-col",{class:["pa-0",{"fill-height":!!e.$vuetify.breakpoint.name.smAndDown}],attrs:{cols:"12",sm:"12",order:"1","order-sm":"1","order-md":"2","order-lg":"2",md:"5",lg:"5"}},[n("v-card",{staticClass:"fill-height grey lighten-4 pa-10",attrs:{flat:"",id:"card-radiobox"}},[n("v-radio-group",{model:{value:e.historyType,callback:function(t){e.historyType=t},expression:"historyType"}},[n("p",{staticClass:"title font-weight-regular pl-5 mb-2"},[e._v("History Type")]),n("v-list",{staticClass:" grey lighten-4"},[n("v-list-item-group",[e._l(e.items,(function(t,o){return[n("v-divider",{key:o}),n("v-list-item",{key:"item-"+o,staticClass:"py-2",attrs:{"active-class":"grey lighten-4"},on:{click:function(n){return e.clickItem(t)}}},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t)}})],1),n("v-list-item-action",[n("v-radio",{key:t,attrs:{value:t}})],1)],1)]}))],2)],1),n("div",[n("v-btn",{attrs:{text:"",loading:e.clearLoading},on:{click:e.clearHistory}},[e._v("Clear all "+e._s(e.historyType))])],1)],1)],1)],1)],1)],1),n("v-snackbar",{model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.deleteMessage)+" "),n("v-btn",{attrs:{color:"white",text:"",icon:""},on:{click:function(t){e.snackbar=!1}}},[n("v-icon",[e._v("mdi-close-circle")])],1)],1)],1)},i=[],a=n("2909"),r=n("1da1"),l=n("5530"),s=(n("96cf"),n("d3b7"),n("4de4"),n("25f0"),n("c1df")),d=n.n(s),c=n("2f62"),u=n("801c"),p=n("e166"),m=n.n(p),f={data:function(){return{loading:!1,loaded:!1,errored:!1,snackbar:!1,deleteMessage:"",items:["Watch History","Search History"],historyType:"Watch History",histories:[],page:1,infiniteId:+new Date,clearLoading:!1}},computed:Object(l["a"])({},Object(c["b"])(["currentUser","getUrl"])),methods:{getHistories:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var o,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.errored=!1,t.loaded||(t.loading=!0),o={page:t.page,type:"Watch History"===t.historyType?"watch":"search"},n.next=5,u["a"].getAll(o).catch((function(e){t.errored=!0,console.log(e)})).finally((function(){t.loading=!1}));case 5:if(i=n.sent,i){n.next=8;break}return n.abrupt("return");case 8:i.data.data.length?(t.page+=1,(r=t.histories).push.apply(r,Object(a["a"])(i.data.data)),e&&e.loaded(),t.loaded=!0):e&&e.complete();case 9:case"end":return n.stop()}}),n)})))()},clearHistory:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.clearLoading=!0,n="Watch History"===e.historyType?"watch":"search",t.next=4,u["a"].deleteAll(n).catch((function(e){console.log(e)})).finally((function(){e.histories=e.histories.filter((function(e){return e.type!==n})),e.clearLoading=!1,e.deleteMessage="".concat(e.historyType," Cleared Successfully"),e.snackbar=!0}));case 4:case"end":return t.stop()}}),t)})))()},deleteHistory:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.histories=t.histories.filter((function(t){return t._id.toString()!==e.toString()})),n.next=3,u["a"].deleteById(e).catch((function(e){console.log(e)})).finally((function(){t.deleteMessage="History Deleted Successfully",t.snackbar=!0}));case 3:case"end":return n.stop()}}),n)})))()},clickItem:function(e){this.historyType=e,this.page=1,this.histories=[],this.infiniteId+=1},dateFormatter:function(e){return d()(e).fromNow()}},components:{InfiniteLoading:m.a},mounted:function(){this.getHistories()}},y=f,g=n("2877"),v=n("6544"),h=n.n(v),_=n("0798"),b=n("8336"),C=n("b0af"),k=n("99d9"),w=n("62ad"),P=n("a523"),E=n("ce7e"),A=n("132d"),I=n("adda"),L=n("8860"),T=n("da13"),O=n("1800"),V=n("5d23"),R=n("1baa"),S=n("490a"),B=n("15fd"),x=(n("b0c0"),n("2c64"),n("ba87")),N=n("9d26"),M=n("c37a"),D=n("7e2b"),F=n("a9ad"),U=n("4e82"),j=n("5607"),H=n("2b0e"),W=H["default"].extend({name:"rippleable",directives:{ripple:j["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}}),z=n("7560"),$=n("8547"),G=n("58df");function q(e){e.preventDefault()}var K=Object(G["a"])(M["a"],W,$["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var e=this,t=this.value,n=this.internalValue;return this.isMultiple?!!Array.isArray(n)&&n.some((function(n){return e.valueComparator(n,t)})):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,n):Boolean(n):this.valueComparator(n,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel:function(){var e=M["a"].options.methods.genLabel.call(this);return e?(e.data.on={click:q},e):e},genInput:function(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:q},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(e){this.onChange(),this.$emit("click",e)},onChange:function(){var e=this;if(this.isInteractive){var t=this.value,n=this.internalValue;if(this.isMultiple){Array.isArray(n)||(n=[]);var o=n.length;n=n.filter((function(n){return!e.valueComparator(n,t)})),n.length===o&&n.push(t)}else n=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(n,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(n,t)?null:t:!n;this.validate(!0,n),this.internalValue=n,this.hasColor=n}},onFocus:function(){this.isFocused=!0},onKeydown:function(e){}}}),X=n("80d2"),Q=n("d9f7"),J=["title"],Y=Object(G["a"])(D["a"],F["a"],W,Object(U["a"])("radioGroup"),z["a"]),Z=Y.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return Object(l["a"])(Object(l["a"])({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return K.options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return M["a"].options.computed.computedId.call(this)},hasLabel:M["a"].options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return K.options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(e){return K.options.methods.genInput.call(this,"radio",e)},genLabel:function(){return this.hasLabel?this.$createElement(x["a"],{on:{click:q},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(X["s"])(this,"label")||this.label):null},genRadio:function(){var e=this.attrs$,t=(e.title,Object(B["a"])(e,J));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(N["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(Object(l["a"])({name:this.computedName,value:this.value},t)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(e){this.isFocused=!0,this.$emit("focus",e)},onBlur:function(e){this.isFocused=!1,this.$emit("blur",e)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(e){var t={staticClass:"v-radio",class:this.classes,on:Object(Q["c"])({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return e("div",t,[this.genRadio(),this.genLabel()])}}),ee=(n("a9e3"),n("ec29"),n("3d86"),n("604c")),te=Object(G["a"])($["a"],ee["a"],M["a"]),ne=te.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return Object(l["a"])(Object(l["a"])({},M["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},M["a"].options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var e=M["a"].options.methods.genInputSlot.call(this);return delete e.data.on.click,e},genLabel:function(){var e=M["a"].options.methods.genLabel.call(this);return e?(e.data.attrs.id=this.computedId,delete e.data.attrs.for,e.tag="legend",e):null},onClick:ee["a"].options.methods.onClick},render:function(e){var t=M["a"].options.render.call(this,e);return this._b(t.data,"div",this.attrs$),t}}),oe=n("0fd9"),ie=n("3129"),ae=n("2db4"),re=Object(g["a"])(y,o,i,!1,null,"4b599428",null);t["default"]=re.exports;h()(re,{VAlert:_["a"],VBtn:b["a"],VCard:C["a"],VCardActions:k["a"],VCardSubtitle:k["b"],VCardText:k["c"],VCardTitle:k["d"],VCol:w["a"],VContainer:P["a"],VDivider:E["a"],VIcon:A["a"],VImg:I["a"],VList:L["a"],VListItem:T["a"],VListItemAction:O["a"],VListItemContent:V["a"],VListItemGroup:R["a"],VListItemTitle:V["c"],VProgressCircular:S["a"],VRadio:Z,VRadioGroup:ne,VRow:oe["a"],VSkeletonLoader:ie["a"],VSnackbar:ae["a"]})},e63d:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pa-4 pl-0",attrs:{id:"video"}},[n("h2",[e._v("channel videos")]),n("v-tabs",{staticClass:"mt-5",attrs:{id:"tab"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" Uploads ")]),n("v-tab",[e._v(" Live ")])],1),n("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",[[n("v-card",{attrs:{flat:""}},[n("v-card-title",[n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Filter","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-data-table",{attrs:{"no-data-text":"No videos available, please upload video.",headers:e.headers,items:e.videos,search:e.search,loading:e.loading,"loading-text":"Loading... Please wait"},scopedSlots:e._u([{key:"item.feelings",fn:function(t){var o=t.item;return[n("span",{staticClass:"mr-3"},[n("v-icon",{staticClass:"pr-1",attrs:{small:""}},[e._v("mdi-thumb-up")]),e._v(e._s(o.likes))],1),n("span",[n("v-icon",{staticClass:"pr-1",attrs:{small:""}},[e._v("mdi-thumb-down")]),e._v(e._s(o.dislikes))],1)]}},{key:"top",fn:function(){return[n("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Permanently delete this video?")])]),n("v-card-text",[n("v-container",[n("v-card",{staticClass:"card",attrs:{tile:"",flat:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"3",sm:"2",md:"5",lg:"5"}},[n("v-img",{staticClass:"align-center",attrs:{src:e.url+"/uploads/thumbnails/"+e.itemToDelete.thumbnailUrl}})],1),n("v-col",[n("div",{staticClass:"ml-2"},[n("v-card-title",{staticClass:"pl-2 subtitle-1 font-weight-bold",staticStyle:{"line-height":"1"}},[e._v(" "+e._s(e.itemToDelete.title)+" ")]),n("v-card-subtitle",{staticClass:"pl-2 pt-2 pb-0",staticStyle:{"line-height":"1"}},[e._v(" Published "+e._s(e.dateFormatter(e.itemToDelete.createdAt))+" "),n("br"),e._v(" "+e._s(e.itemToDelete.views)+" views ")])],1)])],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialogDelete=!e.dialogDelete}}},[e._v("Cancel")]),n("v-btn",{attrs:{loading:e.deleteBtnLoading,color:"blue darken-1",text:""},on:{click:e.deleteItem}},[e._v("Delete Forever")])],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[n("v-btn",{staticClass:"mr-2",attrs:{icon:"",href:"",text:""}},[n("v-icon",{on:{click:function(t){return e.editItem(o)}}},[e._v(" mdi-pencil ")])],1),n("v-btn",{staticClass:"mr-2",attrs:{icon:"",href:"",text:"",router:"",to:"/watch/"+o._id}},[n("v-icon",[e._v(" mdi-youtube ")])],1),n("v-btn",{attrs:{icon:"",text:""},on:{click:function(t){return t.stopPropagation(),e.deleteBtn(o)}}},[n("v-icon",[e._v(" mdi-delete ")])],1)]}}])})],1)]],2),n("v-tab-item",[e._v(" live ")])],1),n("v-snackbar",{model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" Video deleted successfully "),n("v-btn",{attrs:{color:"white",text:"",icon:""},on:{click:function(t){e.snackbar=!1}}},[n("v-icon",[e._v("mdi-close-circle")])],1)],1)],1)},i=[],a=n("1da1"),r=(n("96cf"),n("d3b7"),n("4de4"),n("7b4e")),l=n("c1df"),s=n.n(l),d={data:function(){return{loading:!1,deleteBtnLoading:!1,snackbar:!1,dialogDelete:!1,tab:null,search:"",url:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_URL,headers:[{text:"Video",align:"start",value:"title"},{text:"Visibility",value:"status"},{text:"Views",value:"views"},{text:"Comments",value:"comments"},{text:"Likes (vs. dislikes)",value:"feelings"},{text:"Actions",value:"actions",sortable:!1}],videos:[],itemToDelete:{}}},methods:{getVideos:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,r["a"].getAll("private",{limit:0}).catch((function(e){console.log(e)})).finally((function(){return e.loading=!1}));case 3:if(n=t.sent,n){t.next=6;break}return t.abrupt("return");case 6:e.videos=n.data.data;case 7:case"end":return t.stop()}}),t)})))()},editItem:function(e){this.$router.push({name:"Detail",params:{id:e.id}})},deleteBtn:function(e){this.dialogDelete=!0,this.itemToDelete=e},deleteItem:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.deleteBtnLoading=!0,t.next=3,r["a"].deleteById(e.itemToDelete._id).catch((function(e){return console.log(e)})).finally((function(){e.videos=e.videos.filter((function(t){return e.itemToDelete.id!==t.id})),e.deleteBtnLoading=!1,e.dialogDelete=!1,e.itemToDelete={},e.snackbar=!0}));case 3:case"end":return t.stop()}}),t)})))()},dateFormatter:function(e){return s()(e).fromNow()}},mounted:function(){this.getVideos()},beforeRouteUpdate:function(e,t,n){this.getVideos(),n()}},c=d,u=(n("3f2f"),n("2877")),p=n("6544"),m=n.n(p),f=n("8336"),y=n("b0af"),g=n("99d9"),v=n("62ad"),h=n("a523"),_=n("8fea"),b=n("169a"),C=n("132d"),k=n("adda"),w=n("0fd9"),P=n("2db4"),E=n("2fa4"),A=n("71a3"),I=n("c671"),L=n("fe57"),T=n("aac8"),O=n("8654"),V=Object(u["a"])(c,o,i,!1,null,null,null);t["default"]=V.exports;m()(V,{VBtn:f["a"],VCard:y["a"],VCardActions:g["a"],VCardSubtitle:g["b"],VCardText:g["c"],VCardTitle:g["d"],VCol:v["a"],VContainer:h["a"],VDataTable:_["a"],VDialog:b["a"],VIcon:C["a"],VImg:k["a"],VRow:w["a"],VSnackbar:P["a"],VSpacer:E["a"],VTab:A["a"],VTabItem:I["a"],VTabs:L["a"],VTabsItems:T["a"],VTextField:O["a"]})},ec29:function(e,t,n){}}]);