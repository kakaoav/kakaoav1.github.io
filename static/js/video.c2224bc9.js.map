{"version":3,"sources":["webpack:///./node_modules/_core-js@3.19.1@core-js/internals/same-value.js","webpack:///./node_modules/_es6-promise@4.2.8@es6-promise/dist/es6-promise.js","webpack:///./src/views/Studio/Details.vue?97df","webpack:///src/views/Studio/Details.vue","webpack:///./src/views/Studio/Details.vue?c652","webpack:///./src/views/Studio/Details.vue?2695","webpack:///./src/views/Watch.vue?fb9c","webpack:///./src/views/Search.vue?99bd","webpack:///./src/services/SearchService.js","webpack:///src/views/Search.vue","webpack:///./src/views/Search.vue?5a58","webpack:///./src/views/Search.vue","webpack:///./src/views/Studio/Details.vue?8b52","webpack:///./node_modules/_core-js@3.19.1@core-js/modules/es.regexp.to-string.js","webpack:///./src/views/Studio/Video.vue?16b3","webpack:///./src/views/Watch.vue?60eb","webpack:///./src/components/FluidPlayer.vue?bdd2","webpack:///src/components/FluidPlayer.vue","webpack:///./src/components/FluidPlayer.vue?6f4a","webpack:///./src/components/FluidPlayer.vue?0406","webpack:///src/views/Watch.vue","webpack:///./src/views/Watch.vue?6982","webpack:///./src/views/Watch.vue?6f31","webpack:///./node_modules/_vuetify@2.5.12@vuetify/lib/components/VSnackbar/VSnackbar.js","webpack:///./node_modules/_core-js@3.19.1@core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack:///./node_modules/_fluid-player@3.0.4@fluid-player/src/polyfills.js","webpack:///./node_modules/_core-js@3.19.1@core-js/modules/es.string.search.js","webpack:///./node_modules/_fluid-player@3.0.4@fluid-player/src/modules/vpaid.js","webpack:///./node_modules/_fluid-player@3.0.4@fluid-player/src/modules/vast.js","webpack:///./node_modules/_fluid-player@3.0.4@fluid-player/src/modules/cardboard.js","webpack:///./node_modules/_fluid-player@3.0.4@fluid-player/src/modules/subtitles.js","webpack:///./node_modules/_fluid-player@3.0.4@fluid-player/src/modules/timeline.js","webpack:///./node_modules/_fluid-player@3.0.4@fluid-player/src/modules/adsupport.js","webpack:///./node_modules/_fluid-player@3.0.4@fluid-player/src/modules/streaming.js","webpack:///./node_modules/_fluid-player@3.0.4@fluid-player/src/modules/utils.js","webpack:///./node_modules/_fluid-player@3.0.4@fluid-player/src/fluidplayer.js","webpack:///./src/components/FluidPlayer.vue?4434","webpack:///./node_modules/_core-js@3.19.1@core-js/internals/regexp-exec-abstract.js","webpack:///./src/views/History.vue?8d2b","webpack:///src/views/History.vue","webpack:///./src/views/History.vue?3fc9","webpack:///./node_modules/_vuetify@2.5.12@vuetify/lib/mixins/rippleable/index.js","webpack:///./node_modules/_vuetify@2.5.12@vuetify/lib/mixins/selectable/index.js","webpack:///./node_modules/_vuetify@2.5.12@vuetify/lib/components/VRadioGroup/VRadio.js","webpack:///./node_modules/_vuetify@2.5.12@vuetify/lib/components/VRadioGroup/VRadioGroup.js","webpack:///./src/views/History.vue","webpack:///./src/views/Studio/Video.vue?9e79","webpack:///src/views/Studio/Video.vue","webpack:///./src/views/Studio/Video.vue?1736","webpack:///./src/views/Studio/Video.vue","webpack:///./node_modules/_fluid-player@3.0.4@fluid-player/src/index.js"],"names":["module","exports","Object","is","x","y","global","factory","this","objectOrFunction","type","isFunction","_isArray","Array","isArray","prototype","toString","call","len","vertxNext","customSchedulerFn","asap","callback","arg","queue","flush","scheduleFlush","setScheduler","scheduleFn","setAsap","asapFn","browserWindow","window","undefined","browserGlobal","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","isNode","self","process","isWorker","Uint8ClampedArray","importScripts","MessageChannel","useNextTick","nextTick","useVertxTimer","useSetTimeout","useMutationObserver","iterations","observer","node","document","createTextNode","observe","characterData","data","useMessageChannel","channel","port1","onmessage","port2","postMessage","globalSetTimeout","setTimeout","i","attemptVertx","vertx","Function","require","runOnLoop","runOnContext","e","then","onFulfillment","onRejection","parent","child","constructor","noop","PROMISE_ID","makePromise","_state","arguments","invokeCallback","_result","subscribe","resolve$1","object","Constructor","promise","resolve","Math","random","substring","PENDING","FULFILLED","REJECTED","selfFulfillment","TypeError","cannotReturnOwn","tryThen","then$$1","value","fulfillmentHandler","rejectionHandler","handleForeignThenable","thenable","sealed","error","fulfill","reason","reject","_label","handleOwnThenable","handleMaybeThenable","maybeThenable","publishRejection","_onerror","publish","_subscribers","length","subscribers","settled","detail","hasCallback","succeeded","initializePromise","resolver","id","nextId","validationError","Error","Enumerator","input","_instanceConstructor","_remaining","_enumerate","_eachEntry","entry","c","resolve$$1","_then","didError","_settledAt","Promise$1","_willSettleAt","state","enumerator","all","entries","race","_","reject$1","needsResolver","needsNew","Promise","catch","finally","polyfill","local","P","promiseToString","cast","_setScheduler","_setAsap","_asap","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","go","_v","ref","scopedSlots","_u","key","fn","handleSubmit","reset","preventDefault","submit","apply","errors","inputLoading","model","formData","$$v","$set","expression","visibility","categoryLoading","categoriesTitles","submitLoading","toggleShow","url","headers","cropSuccess","show","staticStyle","imgDataUrl","staticRenderFns","name","rules","categories","title","description","category","methods","console","log","field","components","myUpload","mounted","getVideo","getCategories","component","VBtn","VCol","VContainer","VIcon","VImg","VResponsive","VRow","VSelect","VTextField","VTextarea","get","results","_l","loading","result","channelName","photoUrl","getUrl","_s","split","toUpperCase","videos","userId","views","_e","infiniteId","getSearchResults","trigger","slot","search","page","Api","post","computed","InfiniteLoading","beforeRouteUpdate","to","query","text","next","$route","VAlert","VAvatar","VCard","VCardSubtitle","VCardTitle","VProgressCircular","VSkeletonLoader","uncurryThis","PROPER_FUNCTION_NAME","PROPER","redefine","anObject","isPrototypeOf","$toString","fails","regExpFlags","TO_STRING","RegExpPrototype","RegExp","n$ToString","getFlags","NOT_GENERIC","source","flags","INCORRECT_NAME","R","p","rf","f","unsafe","actions","options","video","CreatedAt","class","feeling","likes","dislikes","poster","_id","href","pic_url","nextVideo","thumbnailUrl","dateFormatter","signinDialog","details","videoUrl","SigninModal","FluidPlayer","posters","videoOptions","loaded","errored","videoLoading","subscribed","subscribeLoading","showSubBtn","push","play","event","target","innerText","truncate","truncateText","string","num","slice","params","getVideos","$state","getPosters","VCardActions","extend","props","app","Boolean","centered","contentClass","String","default","multiLine","timeout","Number","transition","validator","v","vertical","activeTimeout","absolute","isActive","bottom","top","hasBackground","left","right","outlined","light","isDark","bar","footer","insetFooter","$vuetify","application","paddingBottom","paddingLeft","paddingRight","paddingTop","watch","$attrs","hasOwnProperty","role","setColor","setBackgroundColor","setTextColor","color","classes","style","styles","directives","pointerenter","clearTimeout","pointerleave","genContent","genActions","genWrapper","includes","h","genTransition","regexpExec","wellKnownSymbol","createNonEnumerableProperty","SPECIES","KEY","exec","FORCED","SHAM","SYMBOL","DELEGATES_TO_SYMBOL","O","DELEGATES_TO_EXEC","execCalled","re","uncurriedNativeRegExpMethod","nativeMethod","regexp","str","arg2","forceStringMethod","uncurriedNativeMethod","$exec","done","assign","defineProperty","varArgs","index","nextSource","nextKey","writable","configurable","CustomEvent","bubbles","cancelable","evt","createEvent","initCustomEvent","Event","arr","forEach","item","enumerable","parentNode","removeChild","Element","CharacterData","DocumentType","fixRegExpWellKnownSymbolLogic","requireObjectCoercible","sameValue","getMethod","regExpExec","SEARCH","nativeSearch","maybeCallNative","searcher","rx","S","res","previousLastIndex","lastIndex","callbacks","AdStarted","playerInstance","onStartVpaidAd","AdStopped","onStopVpaidAd","AdSkipped","onSkipVpaidAd","AdLoaded","onVpaidAdLoaded","AdLinearChange","onVpaidAdLinearChange","AdSizeChange","onVpaidAdSizeChange","AdExpandedChange","onVpaidAdExpandedChange","AdSkippableStateChange","onVpaidAdSkippableStateChange","AdDurationChange","onVpaidAdDurationChange","AdRemainingTimeChange","onVpaidAdRemainingTimeChange","AdVolumeChange","onVpaidAdVolumeChange","AdImpression","onVpaidAdImpression","AdClickThru","onVpaidAdClickThru","AdInteraction","onVpaidAdInteraction","AdVideoStart","onVpaidAdVideoStart","AdVideoFirstQuartile","onVpaidAdVideoFirstQuartile","AdVideoMidpoint","onVpaidAdVideoMidpoint","AdVideoThirdQuartile","onVpaidAdVideoThirdQuartile","AdVideoComplete","onVpaidAdVideoComplete","AdUserAcceptInvitation","onVpaidAdUserAcceptInvitation","AdUserMinimize","onVpaidAdUserMinimize","AdUserClose","onVpaidAdUserClose","AdPaused","onVpaidAdPaused","AdPlaying","onVpaidAdPlaying","AdError","onVpaidAdError","AdLog","onVpaidAdLog","checkVPAIDInterface","vpaidAdUnit","VPAIDCreative","handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","unsubscribe","vpaidTimeoutTimerClear","debugMessage","message","onVpaidEnded","getAdSkippableState","getAdExpanded","getVpaidAdExpanded","getVpaidAdSkippableState","getAdWidth","getAdHeight","getAdDuration","getAdRemainingTime","getVpaidAdRemainingTime","trackSingleEvent","playerHandles","open","vastOptions","clickthroughUrl","pauseVpaidAd","callUris","clicktracking","vpaidNonLinearSlot","getElementsByClassName","closeBtn","getElementById","videoPlayerId","adListId","getAttribute","getAdLinear","backupMainVideoContentTime","isCurrentlyPlayingAd","remove","className","domRef","player","loop","removeAttribute","progressbarContainer","backgroundColor","displayOptions","layoutControls","adProgressColor","toggleLoader","getVpaidAdLinear","startVpaidAd","vpaidTimeoutTimerStart","stopVpaidAd","hardStopVpaidAd","deleteOtherVpaidAdsApart","vpaidIframes","vpaidSlots","vpaidNonLinearSlots","j","k","skipVpaidAd","setVpaidAdVolume","val","setAdVolume","getVpaidAdVolume","getAdVolume","resizeVpaidAuto","vpaid","linear","adWidth","offsetWidth","adHeight","offsetHeight","mode","fullscreenMode","resizeVpaidAd","width","height","viewMode","resumeVpaidAd","expandVpaidAd","collapseVpaidAd","vpaidTimer","announceLocalError","vpaidTimeout","vpaidCallbackListenersAttach","eventName","vpaidCallbackListenersDetach","loadVpaid","vpaidJsUrl","vpaidIframe","createElement","setAttribute","insertBefore","nextSibling","contentWindow","write","tempVpaidCounter","getVPAIDAdInterval","setInterval","clearInterval","switchPlayerToVpaidMode","loadVpaidNonlinearAssets","adList","playMainVideoWhenVpaidFails","stopImmediatePropagation","vpaidSlot","checkForNextAd","errorCode","playMainVideoWhenVastFails","getClickThroughUrlFromLinear","videoClicks","getElementsByTagName","clickThroughs","extractNodeData","getVastAdTagUriFromWrapper","xmlResponse","wrapper","vastAdTagURI","hasInLine","inLine","hasVastAdTagUri","getClickThroughUrlFromNonLinear","nonLinear","nonLinears","nonLinearClickThrough","getTrackingFromLinear","trackingEvents","getDurationFromLinear","duration","childNodes","nodeDuration","convertTimeStringToSeconds","getDurationFromNonLinear","tag","getDimensionFromNonLinear","getCreativeTypeFromStaticResources","toLowerCase","getMediaFilesFromLinear","mediaFiles","getStaticResourcesFromNonLinear","contentAsString","n","nodeType","test","nodeValue","replace","getAdParametersFromLinear","adParameters","adParametersData","getMediaFileListFromLinear","mediaFileList","mediaType","getIconClickThroughFromLinear","iconClickThrough","getStaticResourceFromNonLinear","fallbackStaticResource","staticResources","staticResource","registerTrackingEvents","creativeLinear","tmpOptions","eventType","oneEventOffset","tracking","stopTracking","elements","registerClickTracking","clickTrackingTag","registerImpressionEvents","impressionTags","impressionEvent","impression","registerErrorEvents","errorTags","errorUrl","announceError","code","parsedCode","parseInt","getClickTrackingEvents","clickTracking","clickTrackingEvent","getNonLinearClickTrackingEvents","NonLinearClickTracking","uris","Image","src","recalculateAdDimensions","videoPlayer","divClickThrough","requestFullscreenFunctionNames","checkFullscreenSupport","fullscreenButton","menuOptionFullscreen","isFullscreen","fullscreenOff","fullscreenOn","fullscreenTag","prepareVast","roll","list","findRoll","vastLoaded","processVastWithRetries","addEventListener","removeEventListener","switchPlayerToVastMode","pause","vastAdvanced","noVastVideoCallback","switchToMainVideo","processVastXml","callBack","clickTracks","creative","arrayCreativeLinears","adFinished","adType","skipoffset","iconClick","arrayCreativeNonLinears","creativeNonLinear","dimension","creativeType","vastObj","vastTag","handleVastResult","pass","allowVPAID","landingPage","selectedMediaFile","getSupportedMediaFileObject","adPool","initEvent","dispatchEvent","vastLoadedCallback","hasTitle","display","fallbackVastTags","shift","processUrl","preRollFail","numberOfRedirects","resolveVastTag","handleXmlHttpReq","xmlHttpReq","readyState","status","responseXML","inLineFound","vastAdTagUri","maxAllowedVastTagRedirects","sendRequest","vastTimeout","setVastList","ads","adGroupedByRolls","preRoll","postRoll","midRoll","onPauseRoll","def","played","adText","adTextPosition","idPart","validateVastList","hasError","timer","validateRequiredParams","availableRolls","indexOf","join","size","supportedNonLinearAd","adItem","keys","map","onVastAdEnded","deleteVastAdElements","vastLogoBehaviour","vastPlaying","logo","showOverAds","logoHolder","logoImage","removeClickthrough","removeSkipButton","removeAdCountdown","removeAdPlayingText","removeCTAButton","createCardboardJoystickButton","identity","vrJoystickPanel","joystickButton","appendChild","cardboardRotateLeftRight","param","vrROTATION_POSITION","back","pos","easing","TWEEN","Tween","vrROTATION_SPEED","Easing","Quadratic","InOut","onUpdate","vrViewer","OrbitControls","rotateLeft","start","cardboardRotateUpDown","rotateUp","createCardboardJoystick","vrContainer","upButton","leftButton","rightButton","downButton","zoomDefaultButton","zoomInButton","zoomOutButton","camera","fov","updateProjectionMatrix","cardBoardResize","onWindowResize","cardBoardSwitchToNormal","controlBar","videoPlayerTag","enableEffect","PANOLENS","MODES","NORMAL","vrMode","newControlBar","showCardBoardJoystick","classList","volumeContainer","adCountDownTimerText","ctaButton","addAdPlayingTextOverlay","skipBtn","cardBoardHideDefaultControls","initialPlay","opacity","cardBoardCreateVRControls","cloneNode","querySelectorAll","add","copyEvents","cardBoardSwitchToVR","CARDBOARD","disableReticleControl","cardBoardMoveTimeInfo","timePlaceholder","controlDurationUpdate","currentPlayTime","formatTime","currentTime","totalTime","currentVideoDuration","durationText","innerHTML","cardBoardAlterDefaultControls","createCardboardView","VideoPanorama","pauseVideo","playVideo","vrPanorama","videoElement","autoplay","autoPlay","Viewer","container","controlButtons","enableReticle","getMobileOs","userOs","enableControl","initialCameraPosition","JSON","parse","stringify","position","noZoom","trackEvent","createCardboard","showCardBoardView","it","subtitleFetchParse","subtitleItem","textResponse","responseText","parser","WebVTT","Parser","StringDecoder","cues","regions","oncue","cue","onregion","region","subtitlesData","createSubtitlesSwitch","subtitlesOff","subtitlesEnabled","tracks","tracksList","track","kind","label","srclang","subtitlesTracks","subtitlesChangeButton","appendSubtitleChange","subtitlesChangeList","firstSubtitle","subtitle","subtitleSelected","subtitlesChangeDiv","stopPropagation","subtitleChangedTo","subtitleIcons","firstChild","openCloseSubtitlesSwitch","videoPlayerSubtitlesUpdate","renderSubtitles","floor","subtitlesAvailable","subtitlesContainer","convertCueToDOMTree","subtitleChangeList","mouseOut","createSubtitles","divSubtitlesContainer","setupThumbnailPreviewVtt","timelinePreview","file","convertVttRawData","vttRawData","tempThumbnailData","tempThumbnailCoordinates","imageUrl","xCoords","yCoords","wCoords","hCoords","spriteImage","spriteRelativePath","sprite","lastIndexOf","startTime","endTime","image","w","webVttParser","WebVTTParser","timelinePreviewData","generateTimelinePreviewTags","progressContainer","previewContainer","previewContainerShadow","getThumbnailCoordinates","second","drawTimelinePreview","timelinePreviewTag","timelinePreviewShadow","totalWidth","clientWidth","hoverX","getEventOffsetX","hoverSecond","thumbnailCoordinates","background","backgroundSize","setupThumbnailPreview","eventOn","eventOff","mobileInfo","bind","progress","clientX","contains","elementFromPoint","clientY","frames","showTimeOnHover","VPAID_VERSION","renderLinearAd","backupTheVideoTime","playVideoPlayer","creativeData","AdParameters","slotElement","environmentVars","videoSlot","videoSlotCanAutoPlay","ver","compare","compareVersion","addSkipButton","addCTAButton","addClickthroughLayer","adClickable","addAdCountdown","adTextToShow","addAdPlayingText","positionTextElements","detachStreamers","isVpaid","showProgressbarMarkers","hideAdMarkers","load","videoPlayerTimeUpdate","scheduleTrackingEvent","playRoll","temporaryAdPods","adListIdToPlay","getNextAdPod","mainVideoCurrentTime","mainVideoDuration","autoplayAfterAd","adSupportedType","apiFramework","supportLevel","getMediaFileTypeSupportLevel","tmpVideo","response","canPlayType","eventSubType","trackingUris","currentValue","completeNonLinearStatic","closeNonLinear","nonLinearTracking","createNonLinearStatic","createBoard","nonLinearDuration","time","getCurrentTime","scheduleTask","closeStaticAd","createVpaidNonLinearBoard","vastSettings","vAlign","nonLinearVerticalAlign","showCloseButton","vpaidNonLinearCloseButton","slotWrapper","slotFrame","min","dimensions","closeButtonCaption","tempadListId","onclick","onPauseRollAdPods","getNextOnPauseRollAd","currentOnPauseRollAd","slotIframe","body","createNonLinearBoard","playerWidth","board","clientHeight","onerror","onload","origWidth","origHeight","newBannerWidth","newBannerHeight","img","outerHTML","cursor","parentElement","supportedStaticTypes","element","rollGroupContainsLinear","groupedRolls","found","rollGroupContainsNonlinear","preRollsLength","preRollAdPodsLength","preRollVastResolved","preRollAdsPlay","preRollSuccess","adListIds","preRollAdPods","adsByType","firstPlayLaunched","createAdMarker","markersHolder","adMarker","hideAdMarker","showAdMarkers","adMarkers","idPrefix","nonLinearAdExists","onPauseAd","hasValidOnPauseAd","toggleOnPauseAd","paused","trackingOnPauseNonLinearAd","getLinearAdsFromKeyTime","keyTimeLinearObj","adKeytimePlay","keyTime","timerPool","timerPoolKeytimeCloseStaticAdsLength","timerPoolKeytimeLinearAdsLength","timerPoolKeytimeNonlinearAdsLength","splice","adTimer","isTimer","task","originalSrc","initialiseStreamers","newCurrentTime","setCurrentTimeAndPlay","vastVideoEndedCallback","setBuffering","primaryColor","currentProgressBar","availableNextAdID","divSkipButton","skipButtonCaption","decreaseSkipOffset","videoWrapper","divAdCountdown","adCountdown","pad","decreaseAdCountdown","sec","btn","toggleAdCountdown","showing","textToShow","adPlayingDiv","adListData","allowedPosition","skipButton","ctaButtonHeightWithSpacing","adPlayingDivHeightWithSpacing","pixelSpacing","isBottom","skipButtonHeightWithSpacing","positionsCTA","defaultPositions","wrapperElement","CTATextPosition","adPlayingDivPosition","positionsAdText","adCTATextPosition","div","link","adCTAText","win","focus","skipLink","skipButtonClickCaption","pressSkipButton","vastVideoSkippedCallback","divWrapper","openClickthrough","clickthroughLayer","isIos9orLower","device","userOsMajor","suppressClickthrough","dashjs","skipAutoCreate","isDefaultSubject","dashScriptLoaded","initialiseDash","hlsScriptLoaded","Hls","initialiseHls","MediaSource","WebKitMediaSource","defaultOptions","FP_DEBUG","Debug","LOG_LEVEL_DEBUG","LOG_LEVEL_FATAL","dashPlayer","MediaPlayer","create","modules","configureDash","updateSettings","onBeforeInitDash","initialize","onAfterInitDash","isSupported","debug","p2pConfig","logLevel","enableWebVTT","enableCEA708Captions","configureHls","hls","onBeforeInitHls","attachMedia","loadSource","onAfterInitHls","hlsPlayer","detachMedia","isTouchDevice","navigator","maxTouchPoints","ua","userAgent","userOsVer","versionIndex","match","userOsTemp","substr","indexOfEndOfVersion","getBrowserVersion","browserName","fullVersion","majorVersion","idx","uaindex","appName","isNaN","parseFloat","appVersion","v1","v2","timeParts","formatDateObj","Date","formatHours","getUTCHours","formatMinutes","getUTCMinutes","formatSeconds","getSeconds","FP_MODULES","FP_DEVELOPMENT_MODE","FP_ENV","FP_RUNTIME_DEBUG","playerInstances","fluidPlayerClass","version","FP_BUILD_VERSION","homepage","FP_HOMEPAGE","destructors","init","playerTarget","moduleOptions","development","playerModule","playerNode","HTMLVideoElement","getCurrentSrc","recentWaiting","latestVolume","preRollAdsResolved","inactivityTimeout","isUserActive","initialAnimationSet","theatreMode","theatreModeAdvanced","originalWidth","originalHeight","isPlayingMedia","isSwitchingSource","isLoading","isInIframe","inIframe","mainVideoReadyState","xmlCollection","fluidStorage","fluidPseudoPause","events","getCurrentSrcType","posterImage","posterImageSize","playButtonShowing","playPauseAnimation","fillToContainer","preload","mute","keyboardControl","allowDownload","playbackRateEnabled","allowTheatre","doubleclickFullscreen","theatreSettings","marginTop","horizontalAlign","keepPosition","theatreAdvanced","clickUrl","mouseOverImageUrl","imageMargin","hideWithControls","autoHide","autoHideTimeout","animated","htmlOnPauseBlock","html","layout","playerInitCallback","persistentSettings","volume","quality","speed","theatre","controlForwardBackward","contextMenu","controls","links","showPlayButton","captions","unmute","fullscreen","subtitles","exitFullscreen","dash","onBeforeXMLHttpRequestOpen","request","onBeforeXMLHttpRequest","hlsjsConfig","subKey","setupPlayerWrapper","onRecentWaiting","onFluidPlayerPause","mainVideoReady","onErrorDetection","onMainVideoEnded","getCurrentVideoDuration","isFinite","setLayout","handleFullscreen","initLogo","initTitle","initMute","initLoop","createVideoSourceSwitch","userActivityChecker","setPersistentSettings","preRolls","_play_videoPlayer","DeviceOrientationEvent","requestPermission","promiseTimeout","isAbortError","videoPauseOriginal","isCurrentlyPlayingVideo","browserVersion","hideControlBar","showControlBar","handleMouseleave","showTitle","linkControlBarUserActivity","textTracks","textTrack","_ignored","showLoader","loaderDiv","withCredentials","functionReadyStateChange","XMLHttpRequest","onreadystatechange","send","msg","warn","playPauseToggle","sources","checkShouldDisplayVolumeBar","generateCustomControlTags","loader","root","displayVolumeBar","leftContainer","playPause","skipBack","skipForward","progressWrapper","progressCurrent","progress_current_marker","bufferedIndicator","rightContainer","cardboard","videoSource","playbackRate","download","volumeCurrent","volumeCurrentPos","controlPlayPauseToggle","playPauseButton","menuOptionPlay","controlsDisplay","fpLogo","playPauseAnimationToggle","contolProgressbarUpdate","currentProgressTag","isLiveHls","levels","currentLevel","live","contolVolumebarUpdate","currentVolumeTag","volumeposTag","volumebarTotalWidth","volumeposTagWidth","muteButtonTag","menuOptionMute","fluidMute","muted","muteToggle","fluidVolume","videoPlayerWrapperId","videoPlayerWrapper","mozRequestFullScreen","goFullscreen","webkitRequestFullscreen","msRequestFullscreen","requestFullscreen","webkitSupportsFullscreen","fullscreenToggle","functionNameToExecute","theatreToggle","findClosestParent","el","selector","matchesFn","some","getTranslateX","coordinates","transform","eventX","translateX","offsetLeft","tagName","clientLeft","scrollLeft","documentElement","offsetParent","touches","getEventOffsetY","fullscreenMultiplier","offsetTop","scrollTop","onProgressbarMouseDown","initialPosition","initiallyPaused","shiftTime","timeBarX","onProgressbarMouseMove","currentX","NaN","onProgressbarMouseUp","clickedX","onVolumeBarMouseDown","shiftVolume","volumeBarX","newVolume","setVolume","onVolumeBarMouseMove","onVolumeBarMouseUp","ids","onKeyboardVolumeChange","direction","onKeyboardSeekPosition","keyCode","getNewCurrentTimeValueByKeyCode","percent","hideTitle","handleMouseenterForKeyboard","captureKey","clickHandler","handleWindowClick","inScopeClick","initialControlsDisplay","fpPlayer","isFirstStart","isChromeAndroid","prepareVastAdsThatKnowDuration","pseudoPoster","blockOnPause","setCustomControls","isMobileChecks","createTimePositionPreview","hoverTimeItem","hoverQ","hoverSecondQ","setCustomContextMenu","playerWrapper","showDefaultControls","extraLinks","divContextMenu","contextMenuList","linkItem","menuItemPlay","menuItemMute","menuItemFullscreen","menuItemVersion","button","setDefaultLayout","remainingAttemptsToInitiateVolumeBar","initiateVolumebar","checkIfVolumebarIsRendered","initiateVolumebarTimerId","initHtmlOnPauseBlock","initPlayButton","setVideoPreload","createPlaybackList","createDownload","initSkipControls","skipFunction","period","skipTo","listenTo","vastFullsreenChangeEventListenersAdded","ev","networkState","NETWORK_NO_SOURCE","sourcesList","videoSources","sourceChangeButton","appendSourceChange","sourceChangeList","firstSource","getTheType","pop","sourceSelected","hdElement","sourceChangeDiv","videoChangedTo","sourceIcons","setVideoSource","fluidQuality","openCloseVideoSourceSwitch","shouldPlay","loadedMetadata","videoPlayStart","titleHolder","titleOption","hideClass","margin","logoPosition","containerDiv","initPlayFunction","newActivity","isMouseStillDown","activity","isControlBarVisible","hasControlBar","getComputedStyle","divVastControls","progressInterval","bufferBar","logProgress","buffered","newBufferLength","end","playbackRates","rate","setPlaybackSpeed","openCloseVideoPlaybackRate","downloadOption","downloadClick","downloadItem","click","elementForTheatre","theatreElement","theatreClassToApply","classToApply","defaultTheatre","fluidTheatre","theatreEvent","maxHeight","workingWidth","defaultHorizontalMargin","screen","testKey","storage","localStorage","setItem","removeItem","sourceOption","fluidSpeed","passedVolume","instance","ended","setHtmlOnPauseBlock","passedHtml","htmlBlock","toggleControlBar","eventCall","functionCall","onplay","onseeked","onended","toggleLogo","logoBlock","sel","handler","registerListener","currentElements","topLevelEl","destroy","numDestructors","fluidPlayerInterface","toggleFullScreen","dashInstance","hlsInstance","fluidPlayerInitializer","publicInstance","debugApi","internals","fluidPlayerDebug","isCallable","classof","historyType","histories","history","videoId","deleteHistory","getHistories","searchText","createdAt","breakpoint","smAndDown","clickItem","domProps","clearLoading","clearHistory","snackbar","deleteMessage","ripple","center","prevent","mixins","VInput","prop","inputValue","falseValue","trueValue","multiple","hasColor","lazyValue","appIsDark","internalValue","isMultiple","valueComparator","isDisabled","validationState","genLabel","disabled","computedId","checked","blur","onBlur","change","onChange","onFocus","keydown","onKeydown","isFocused","$emit","isInteractive","filter","validate","baseMixins","inheritAttrs","offIcon","onIcon","readonly","themeClasses","groupClasses","computedColor","hasLabel","radioGroup","hasState","isReadonly","_uid","rippleState","args","genInput","VLabel","for","focused","radioAttrs","attrs$","dense","computedIcon","computedName","genRipple","toggle","listeners$","genRadio","column","row","genDefaultSlot","genInputSlot","onClick","VCardText","VDivider","VList","VListItem","VListItemAction","VListItemContent","VListItemGroup","VListItemTitle","VRadio","VRadioGroup","VSnackbar","tab","dialogDelete","itemToDelete","deleteBtnLoading","deleteItem","proxy","editItem","deleteBtn","align","VDataTable","VDialog","VSpacer","VTab","VTabItem","VTabs","VTabsItems","isLocalhost","location","hostname"],"mappings":"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","file":"static/js/video.c2224bc9.js","sourcesContent":["// `SameValue` abstract operation\n// https://tc39.es/ecma262/#sec-samevalue\n// eslint-disable-next-line es/no-object-is -- safe\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   v4.2.8+1e68dce6\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\n\n\nvar _isArray = void 0;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = void 0;\nvar customSchedulerFn = void 0;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var vertx = Function('return this')().require('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = void 0;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n\n  if (_state) {\n    var callback = arguments[_state - 1];\n    asap(function () {\n      return invokeCallback(_state, child, callback, parent._result);\n    });\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(2);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    var then$$1 = void 0;\n    try {\n      then$$1 = value.then;\n    } catch (error) {\n      reject(promise, error);\n      return;\n    }\n    handleMaybeThenable(promise, value, then$$1);\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = void 0,\n      callback = void 0,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = void 0,\n      error = void 0,\n      succeeded = true;\n\n  if (hasCallback) {\n    try {\n      value = callback(detail);\n    } catch (e) {\n      succeeded = false;\n      error = e;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n    resolve(promise, value);\n  } else if (succeeded === false) {\n    reject(promise, error);\n  } else if (settled === FULFILLED) {\n    fulfill(promise, value);\n  } else if (settled === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nvar Enumerator = function () {\n  function Enumerator(Constructor, input) {\n    this._instanceConstructor = Constructor;\n    this.promise = new Constructor(noop);\n\n    if (!this.promise[PROMISE_ID]) {\n      makePromise(this.promise);\n    }\n\n    if (isArray(input)) {\n      this.length = input.length;\n      this._remaining = input.length;\n\n      this._result = new Array(this.length);\n\n      if (this.length === 0) {\n        fulfill(this.promise, this._result);\n      } else {\n        this.length = this.length || 0;\n        this._enumerate(input);\n        if (this._remaining === 0) {\n          fulfill(this.promise, this._result);\n        }\n      }\n    } else {\n      reject(this.promise, validationError());\n    }\n  }\n\n  Enumerator.prototype._enumerate = function _enumerate(input) {\n    for (var i = 0; this._state === PENDING && i < input.length; i++) {\n      this._eachEntry(input[i], i);\n    }\n  };\n\n  Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {\n    var c = this._instanceConstructor;\n    var resolve$$1 = c.resolve;\n\n\n    if (resolve$$1 === resolve$1) {\n      var _then = void 0;\n      var error = void 0;\n      var didError = false;\n      try {\n        _then = entry.then;\n      } catch (e) {\n        didError = true;\n        error = e;\n      }\n\n      if (_then === then && entry._state !== PENDING) {\n        this._settledAt(entry._state, i, entry._result);\n      } else if (typeof _then !== 'function') {\n        this._remaining--;\n        this._result[i] = entry;\n      } else if (c === Promise$1) {\n        var promise = new c(noop);\n        if (didError) {\n          reject(promise, error);\n        } else {\n          handleMaybeThenable(promise, entry, _then);\n        }\n        this._willSettleAt(promise, i);\n      } else {\n        this._willSettleAt(new c(function (resolve$$1) {\n          return resolve$$1(entry);\n        }), i);\n      }\n    } else {\n      this._willSettleAt(resolve$$1(entry), i);\n    }\n  };\n\n  Enumerator.prototype._settledAt = function _settledAt(state, i, value) {\n    var promise = this.promise;\n\n\n    if (promise._state === PENDING) {\n      this._remaining--;\n\n      if (state === REJECTED) {\n        reject(promise, value);\n      } else {\n        this._result[i] = value;\n      }\n    }\n\n    if (this._remaining === 0) {\n      fulfill(promise, this._result);\n    }\n  };\n\n  Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {\n    var enumerator = this;\n\n    subscribe(promise, undefined, function (value) {\n      return enumerator._settledAt(FULFILLED, i, value);\n    }, function (reason) {\n      return enumerator._settledAt(REJECTED, i, reason);\n    });\n  };\n\n  return Enumerator;\n}();\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries) {\n  return new Enumerator(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {Function} resolver\n  Useful for tooling.\n  @constructor\n*/\n\nvar Promise$1 = function () {\n  function Promise(resolver) {\n    this[PROMISE_ID] = nextId();\n    this._result = this._state = undefined;\n    this._subscribers = [];\n\n    if (noop !== resolver) {\n      typeof resolver !== 'function' && needsResolver();\n      this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n    }\n  }\n\n  /**\n  The primary way of interacting with a promise is through its `then` method,\n  which registers callbacks to receive either a promise's eventual value or the\n  reason why the promise cannot be fulfilled.\n   ```js\n  findUser().then(function(user){\n    // user is available\n  }, function(reason){\n    // user is unavailable, and you are given the reason why\n  });\n  ```\n   Chaining\n  --------\n   The return value of `then` is itself a promise.  This second, 'downstream'\n  promise is resolved with the return value of the first promise's fulfillment\n  or rejection handler, or rejected if the handler throws an exception.\n   ```js\n  findUser().then(function (user) {\n    return user.name;\n  }, function (reason) {\n    return 'default name';\n  }).then(function (userName) {\n    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n    // will be `'default name'`\n  });\n   findUser().then(function (user) {\n    throw new Error('Found user, but still unhappy');\n  }, function (reason) {\n    throw new Error('`findUser` rejected and we're unhappy');\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n  });\n  ```\n  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n   ```js\n  findUser().then(function (user) {\n    throw new PedagogicalException('Upstream error');\n  }).then(function (value) {\n    // never reached\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // The `PedgagocialException` is propagated all the way down to here\n  });\n  ```\n   Assimilation\n  ------------\n   Sometimes the value you want to propagate to a downstream promise can only be\n  retrieved asynchronously. This can be achieved by returning a promise in the\n  fulfillment or rejection handler. The downstream promise will then be pending\n  until the returned promise is settled. This is called *assimilation*.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // The user's comments are now available\n  });\n  ```\n   If the assimliated promise rejects, then the downstream promise will also reject.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // If `findCommentsByAuthor` fulfills, we'll have the value here\n  }, function (reason) {\n    // If `findCommentsByAuthor` rejects, we'll have the reason here\n  });\n  ```\n   Simple Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let result;\n   try {\n    result = findResult();\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n  findResult(function(result, err){\n    if (err) {\n      // failure\n    } else {\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findResult().then(function(result){\n    // success\n  }, function(reason){\n    // failure\n  });\n  ```\n   Advanced Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let author, books;\n   try {\n    author = findAuthor();\n    books  = findBooksByAuthor(author);\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n   function foundBooks(books) {\n   }\n   function failure(reason) {\n   }\n   findAuthor(function(author, err){\n    if (err) {\n      failure(err);\n      // failure\n    } else {\n      try {\n        findBoooksByAuthor(author, function(books, err) {\n          if (err) {\n            failure(err);\n          } else {\n            try {\n              foundBooks(books);\n            } catch(reason) {\n              failure(reason);\n            }\n          }\n        });\n      } catch(error) {\n        failure(err);\n      }\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findAuthor().\n    then(findBooksByAuthor).\n    then(function(books){\n      // found books\n  }).catch(function(reason){\n    // something went wrong\n  });\n  ```\n   @method then\n  @param {Function} onFulfilled\n  @param {Function} onRejected\n  Useful for tooling.\n  @return {Promise}\n  */\n\n  /**\n  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n  as the catch block of a try/catch statement.\n  ```js\n  function findAuthor(){\n  throw new Error('couldn't find that author');\n  }\n  // synchronous\n  try {\n  findAuthor();\n  } catch(reason) {\n  // something went wrong\n  }\n  // async with promises\n  findAuthor().catch(function(reason){\n  // something went wrong\n  });\n  ```\n  @method catch\n  @param {Function} onRejection\n  Useful for tooling.\n  @return {Promise}\n  */\n\n\n  Promise.prototype.catch = function _catch(onRejection) {\n    return this.then(null, onRejection);\n  };\n\n  /**\n    `finally` will be invoked regardless of the promise's fate just as native\n    try/catch/finally behaves\n  \n    Synchronous example:\n  \n    ```js\n    findAuthor() {\n      if (Math.random() > 0.5) {\n        throw new Error();\n      }\n      return new Author();\n    }\n  \n    try {\n      return findAuthor(); // succeed or fail\n    } catch(error) {\n      return findOtherAuther();\n    } finally {\n      // always runs\n      // doesn't affect the return value\n    }\n    ```\n  \n    Asynchronous example:\n  \n    ```js\n    findAuthor().catch(function(reason){\n      return findOtherAuther();\n    }).finally(function(){\n      // author was either found, or not\n    });\n    ```\n  \n    @method finally\n    @param {Function} callback\n    @return {Promise}\n  */\n\n\n  Promise.prototype.finally = function _finally(callback) {\n    var promise = this;\n    var constructor = promise.constructor;\n\n    if (isFunction(callback)) {\n      return promise.then(function (value) {\n        return constructor.resolve(callback()).then(function () {\n          return value;\n        });\n      }, function (reason) {\n        return constructor.resolve(callback()).then(function () {\n          throw reason;\n        });\n      });\n    }\n\n    return promise.then(callback, callback);\n  };\n\n  return Promise;\n}();\n\nPromise$1.prototype.then = then;\nPromise$1.all = all;\nPromise$1.race = race;\nPromise$1.resolve = resolve$1;\nPromise$1.reject = reject$1;\nPromise$1._setScheduler = setScheduler;\nPromise$1._setAsap = setAsap;\nPromise$1._asap = asap;\n\n/*global self*/\nfunction polyfill() {\n  var local = void 0;\n\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n\n  var P = local.Promise;\n\n  if (P) {\n    var promiseToString = null;\n    try {\n      promiseToString = Object.prototype.toString.call(P.resolve());\n    } catch (e) {\n      // silently ignored\n    }\n\n    if (promiseToString === '[object Promise]' && !P.cast) {\n      return;\n    }\n  }\n\n  local.Promise = Promise$1;\n}\n\n// Strange compat..\nPromise$1.polyfill = polyfill;\nPromise$1.Promise = Promise$1;\n\nreturn Promise$1;\n\n})));\n\n\n\n//# sourceMappingURL=es6-promise.map\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pa-4\",attrs:{\"id\":\"video-details\"}},[_c('v-container',[_c('v-btn',{staticClass:\"pl-0\",attrs:{\"text\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-arrow-left\")]),_vm._v(\" Channel videos\")],1),_c('h2',{staticClass:\"mt-5\"},[_vm._v(\"Video details\")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('ValidationObserver',{ref:\"form\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nvar reset = ref.reset;\nreturn [_c('form',{on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.submit)},\"reset\":function($event){$event.preventDefault();return reset.apply(null, arguments)}}},[_c('ValidationProvider',{attrs:{\"name\":\"Title\",\"rules\":\"required|min:3\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('v-text-field',{staticClass:\"mb-3\",attrs:{\"loading\":_vm.inputLoading,\"error-messages\":errors,\"label\":\"Title (required)\",\"filled\":\"\",\"dense\":\"\",\"counter\":\"100\",\"max-length\":\"100\"},model:{value:(_vm.formData.title),callback:function ($$v) {_vm.$set(_vm.formData, \"title\", $$v)},expression:\"formData.title\"}})]}}],null,true)}),_c('ValidationProvider',{attrs:{\"name\":\"Description\",\"rules\":\"required|min:3\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('v-textarea',{attrs:{\"loading\":_vm.inputLoading,\"filled\":\"\",\"auto-grow\":\"\",\"error-messages\":errors,\"label\":\"Description\",\"placeholder\":\"Tell viewers about your video\",\"rows\":\"5\",\"counter\":\"5000\",\"max-length\":\"5000\",\"row-height\":\"20\"},model:{value:(_vm.formData.description),callback:function ($$v) {_vm.$set(_vm.formData, \"description\", $$v)},expression:\"formData.description\"}})]}}],null,true)}),_c('ValidationProvider',{attrs:{\"name\":\"Visibilty\",\"rules\":\"required|oneOf:private,public\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('v-select',{attrs:{\"loading\":_vm.inputLoading,\"items\":_vm.visibility,\"error-messages\":errors,\"filled\":\"\",\"label\":\"Visibilty\",\"value\":_vm.formData.visibility},model:{value:(_vm.formData.visibility),callback:function ($$v) {_vm.$set(_vm.formData, \"visibility\", $$v)},expression:\"formData.visibility\"}})]}}],null,true)}),_c('ValidationProvider',{attrs:{\"name\":\"Cateogry\",\"rules\":\"required|min:3\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('v-select',{attrs:{\"loading\":_vm.categoryLoading,\"items\":_vm.categoriesTitles,\"error-messages\":errors,\"filled\":\"\",\"label\":\"Categories\"},model:{value:(_vm.formData.category),callback:function ($$v) {_vm.$set(_vm.formData, \"category\", $$v)},expression:\"formData.category\"}})]}}],null,true)}),_c('div',{staticClass:\"mt-6 d-flex justify-space-between\"},[_c('v-btn',{staticClass:\"primary\",attrs:{\"loading\":_vm.submitLoading,\"type\":\"submit\",\"depressed\":\"\"}},[_vm._v(\"Submit\")])],1)],1)]}}])})],1),_c('v-col',{staticClass:\"text-center\",attrs:{\"cols\":\"4\"}},[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.toggleShow}},[_vm._v(\"Upload Thumbnails\")]),_c('my-upload',{attrs:{\"field\":\"thumbnail\",\"method\":\"PUT\",\"width\":1280,\"height\":720,\"url\":_vm.url,\"headers\":_vm.headers,\"img-format\":\"jpg\",\"langType\":\"en\"},on:{\"crop-success\":_vm.cropSuccess},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}}),_c('v-responsive',{staticStyle:{\"max-width\":\"100%\"}},[(!_vm.imgDataUrl)?_c('div',{staticClass:\"px-12\",attrs:{\"id\":\"image-placeholder\"}},[_c('v-icon',[_vm._v(\"mdi-image-plus\")])],1):_c('v-img',{attrs:{\"height\":\"350\",\"src\":_vm.imgDataUrl}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"video-details\" class=\"pa-4\">\r\n    <v-container>\r\n      <!-- <div class=\"d-flex justify-space-between mb-5\"> -->\r\n      <v-btn text small class=\"pl-0\" @click=\"$router.go(-1)\"\r\n        ><v-icon left>mdi-arrow-left</v-icon> Channel videos</v-btn\r\n      >\r\n      <h2 class=\"mt-5\">Video details</h2>\r\n      <v-row>\r\n        <v-col cols=\"8\">\r\n          <ValidationObserver ref=\"form\" v-slot=\"{ handleSubmit, reset }\">\r\n            <form @submit.prevent=\"handleSubmit(submit)\" @reset.prevent=\"reset\">\r\n              <ValidationProvider\r\n                v-slot=\"{ errors }\"\r\n                name=\"Title\"\r\n                rules=\"required|min:3\"\r\n              >\r\n                <v-text-field\r\n                  :loading=\"inputLoading\"\r\n                  v-model=\"formData.title\"\r\n                  :error-messages=\"errors\"\r\n                  label=\"Title (required)\"\r\n                  class=\"mb-3\"\r\n                  filled\r\n                  dense\r\n                  counter=\"100\"\r\n                  max-length=\"100\"\r\n                ></v-text-field>\r\n              </ValidationProvider>\r\n              <ValidationProvider\r\n                v-slot=\"{ errors }\"\r\n                name=\"Description\"\r\n                rules=\"required|min:3\"\r\n              >\r\n                <v-textarea\r\n                  :loading=\"inputLoading\"\r\n                  filled\r\n                  auto-grow\r\n                  :error-messages=\"errors\"\r\n                  label=\"Description\"\r\n                  placeholder=\"Tell viewers about your video\"\r\n                  rows=\"5\"\r\n                  counter=\"5000\"\r\n                  max-length=\"5000\"\r\n                  v-model=\"formData.description\"\r\n                  row-height=\"20\"\r\n                ></v-textarea>\r\n              </ValidationProvider>\r\n              <ValidationProvider\r\n                v-slot=\"{ errors }\"\r\n                name=\"Visibilty\"\r\n                rules=\"required|oneOf:private,public\"\r\n              >\r\n                <v-select\r\n                  :loading=\"inputLoading\"\r\n                  :items=\"visibility\"\r\n                  :error-messages=\"errors\"\r\n                  filled\r\n                  label=\"Visibilty\"\r\n                  :value=\"formData.visibility\"\r\n                  v-model=\"formData.visibility\"\r\n                ></v-select>\r\n              </ValidationProvider>\r\n              <ValidationProvider\r\n                v-slot=\"{ errors }\"\r\n                name=\"Cateogry\"\r\n                rules=\"required|min:3\"\r\n              >\r\n                <v-select\r\n                  :loading=\"categoryLoading\"\r\n                  :items=\"categoriesTitles\"\r\n                  :error-messages=\"errors\"\r\n                  filled\r\n                  label=\"Categories\"\r\n                  v-model=\"formData.category\"\r\n                ></v-select>\r\n              </ValidationProvider>\r\n\r\n              <div class=\"mt-6 d-flex justify-space-between\">\r\n                <v-btn\r\n                  :loading=\"submitLoading\"\r\n                  type=\"submit\"\r\n                  class=\"primary\"\r\n                  depressed\r\n                  >Submit</v-btn\r\n                >\r\n              </div>\r\n            </form>\r\n          </ValidationObserver>\r\n        </v-col>\r\n        <v-col cols=\"4\" class=\"text-center\">\r\n          <v-btn text @click=\"toggleShow\">Upload Thumbnails</v-btn>\r\n          <my-upload\r\n            field=\"thumbnail\"\r\n            @crop-success=\"cropSuccess\"\r\n            method=\"PUT\"\r\n            v-model=\"show\"\r\n            :width=\"1280\"\r\n            :height=\"720\"\r\n            :url=\"url\"\r\n            :headers=\"headers\"\r\n            img-format=\"jpg\"\r\n            langType=\"en\"\r\n          ></my-upload>\r\n          <v-responsive style=\"max-width: 100%\">\r\n            <div v-if=\"!imgDataUrl\" class=\"px-12\" id=\"image-placeholder\">\r\n              <v-icon>mdi-image-plus</v-icon>\r\n            </div>\r\n            <v-img v-else height=\"350\" :src=\"imgDataUrl\"></v-img>\r\n          </v-responsive>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport myUpload from 'vue-image-crop-upload'\r\nimport VideoService from '@/services/VideoService'\r\nimport CategoryService from '@/services/CategoryService'\r\n\r\nexport default {\r\n  name: 'Details',\r\n  data() {\r\n    return {\r\n      // dialog: this.openDialog ? this.openDialog : false,\r\n      inputLoading: false,\r\n      submitLoading: false,\r\n      categoryLoading: false,\r\n      value: 0,\r\n      show: false,\r\n      rules: [\r\n        (value) =>\r\n          !value ||\r\n          value.size < 5000000 ||\r\n          'Video size should be less than 5 MB!'\r\n      ],\r\n      categoriesTitles: [],\r\n      categories: [],\r\n      visibility: ['public', 'private'],\r\n      formData: {\r\n        title: '',\r\n        description: '',\r\n        category: '',\r\n        visibility: ''\r\n      },\r\n      // imgDataUrl: 'https://cdn.vuetifyjs.com/images/cards/docks.jpg',\r\n\r\n      imgDataUrl: '',\r\n      url: '',\r\n      headers: { Authorization: `Bearer ${this.$store.getters.getToken}` }\r\n    }\r\n  },\r\n  methods: {\r\n    async getVideo() {\r\n      this.inputLoading = true\r\n      let video = await VideoService.getById(this.$route.params.id)\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n        .finally(() => {\r\n          this.inputLoading = false\r\n        })\r\n\r\n      if (!video) return\r\n      video = video.data.data\r\n      this.url = `${process.env.VUE_APP_URL}/api/v1/videos/${video._id}/thumbnails`\r\n\r\n      this.formData.title = video.title\r\n      this.formData.description = video.description\r\n      this.formData.visibility = video.status == 'draft' ? '' : video.status\r\n      this.formData.category = video.categoryId.title\r\n      this.imgDataUrl = `${process.env.VUE_APP_URL}/uploads/thumbnails/${video.thumbnailUrl}`\r\n    },\r\n    async submit() {\r\n      // if (this.$route.name === 'Dashboard')\r\n      this.submitLoading = true\r\n      this.formData.category = this.categories.find(\r\n        (category) => category.title === this.formData.category\r\n      )._id\r\n      const video = await VideoService.updateVideo(this.$route.params.id, {\r\n        title: this.formData.title,\r\n        description: this.formData.description,\r\n        categoryId: this.formData.category,\r\n        status: this.formData.visibility.toLowerCase()\r\n      })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n        .finally(() => (this.submitLoading = false))\r\n\r\n      if (!video) return\r\n\r\n      this.$router.push('/studio/videos')\r\n      // console.log('submittied')\r\n    },\r\n    async getCategories() {\r\n      this.categoryLoading = true\r\n      const categories = await CategoryService.getAll()\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n        .finally(() => (this.categoryLoading = false))\r\n\r\n      this.categoriesTitles = categories.data.data.map((category) => {\r\n        return category.title\r\n      })\r\n      this.categories = categories.data.data\r\n    },\r\n    toggleShow() {\r\n      this.show = !this.show\r\n    },\r\n    cropSuccess(imgDataUrl, field) {\r\n      console.log('-------- crop success --------')\r\n      console.log(field)\r\n      this.imgDataUrl = imgDataUrl\r\n    }\r\n  },\r\n  components: {\r\n    myUpload\r\n  },\r\n  mounted() {\r\n    this.getVideo()\r\n    this.getCategories()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.card {\r\n  background: #f9f9f9 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Details.vue?vue&type=template&id=388be560&\"\nimport script from \"./Details.vue?vue&type=script&lang=js&\"\nexport * from \"./Details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Details.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/_vuetify-loader@1.7.3@vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VResponsive } from 'vuetify/lib/components/VResponsive';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCol,VContainer,VIcon,VImg,VResponsive,VRow,VSelect,VTextField,VTextarea})\n","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Watch.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pl-6\",attrs:{\"id\":\"search\"}},[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',[(_vm.errored)?_c('v-alert',{staticClass:\"mx-auto\",attrs:{\"prominent\":\"\",\"type\":\"error\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"grow\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Error!\")]),_c('div',[_vm._v(\" Something went wrong, but don’t fret — let’s give it another shot. \")])]),_c('v-col',{staticClass:\"shrink\"},[_c('v-btn',{on:{\"click\":_vm.get}},[_vm._v(\"Take action\")])],1)],1)],1):_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"10\",\"lg\":\"11\"}},[(_vm.results.length === 0)?[_c('p',{staticClass:\"text-center\"},[_vm._v(\"Ops! No search results\")])]:_vm._l((_vm.loading ? 5 : _vm.results),function(result,i){return _c('div',{key:i,staticClass:\"mb-5\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"type\":\"list-item-avatar-three-line\",\"loading\":_vm.loading,\"tile\":\"\",\"large\":\"\"}},[(typeof result.channelName !== 'undefined')?_c('v-card',{staticClass:\"card mb-10\",attrs:{\"to\":(\"/channels/\" + (result._id)),\"tile\":\"\",\"flat\":\"\"}},[_c('v-row',{attrs:{\"no-gutters\":\"\",\"justify\":\"center\"}},[_c('v-col',{staticClass:\"d-flex\",attrs:{\"cols\":\"10\",\"sm\":\"10\",\"md\":\"3\",\"lg\":\"3\"}},[_c('v-avatar',{staticClass:\"mx-auto red\",attrs:{\"size\":\"120\",\"max-width\":\"150\"}},[(result.photoUrl !== 'no-photo.jpg')?_c('img',{attrs:{\"src\":(_vm.getUrl + \"/uploads/avatars/\" + (result.photoUrl)),\"alt\":((result.channelName) + \" avatar\")}}):[_c('span',{staticClass:\"white--text display-1\"},[_vm._v(\" \"+_vm._s(result.channelName.split('')[0].toUpperCase()))])]],2)],1),_c('v-col',{staticClass:\"justify-center\",attrs:{\"cols\":\"10\",\"sm\":\"10\",\"md\":\"6\",\"lg\":\"6\"}},[_c('v-card-title',{staticClass:\"pl-2 pt-0 subtitle-1 font-weight-bold align-center\"},[_vm._v(\" \"+_vm._s(result.channelName)+\" \")]),_c('v-card-subtitle',{staticClass:\"pl-2 pt-2 pb-0\",staticStyle:{\"line-height\":\"1.2\"}},[_vm._v(\" \"+_vm._s(result.subscribers)+\" subscribers\"),_c('v-icon',[_vm._v(\"mdi-circle-small\")]),_vm._v(_vm._s(result.videos)+\" videos \")],1),_c('v-card-subtitle',{staticClass:\"pl-2 pt-2 pb-0\"},[_vm._v(\" \"+_vm._s(result.description)+\" \")])],1)],1)],1):_c('v-card',{staticClass:\"card mb-10\",attrs:{\"to\":(\"/watch/\" + (result._id)),\"tile\":\"\",\"flat\":\"\"}},[(result.userId)?_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"5\",\"sm\":\"3\",\"md\":\"3\",\"lg\":\"3\"}},[_c('v-img',{staticClass:\"align-center\",attrs:{\"src\":(_vm.getUrl + \"/uploads/thumbnails/\" + (result.thumbnailUrl)),\"alt\":((result.userId.channelName) + \" avatar\")}})],1),_c('v-col',{attrs:{\"cols\":\"7\",\"sm\":\"7\",\"md\":\"8\",\"lg\":\"8\"}},[_c('div',{staticClass:\"ml-2\"},[_c('v-card-title',{staticClass:\"pl-2 pt-0 subtitle-1 font-weight-bold\"},[_vm._v(\" \"+_vm._s(result.title)+\" \")]),_c('v-card-subtitle',{staticClass:\"pl-2 pt-2 pb-0\",staticStyle:{\"line-height\":\"1.2\"}},[_vm._v(\" \"+_vm._s(result.userId.channelName)),_c('br'),_vm._v(\" \"+_vm._s(result.views)+\" views\"),_c('v-icon',[_vm._v(\"mdi-circle-small\")]),_vm._v(\"6 hours ago \")],1),_c('v-card-subtitle',{staticClass:\"pl-2 pt-2 pb-0\"},[_vm._v(\" \"+_vm._s(result.description)+\" \")])],1)])],1):_vm._e()],1)],1)],1)}),_c('infinite-loading',{attrs:{\"identifier\":_vm.infiniteId},on:{\"infinite\":_vm.getSearchResults},scopedSlots:_vm._u([{key:\"error\",fn:function(ref){\nvar trigger = ref.trigger;\nreturn _c('div',{},[_c('v-alert',{attrs:{\"prominent\":\"\",\"type\":\"error\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"grow\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Error!\")]),_c('div',[_vm._v(\" Something went wrong, but don’t fret — let’s give it another shot. \")])]),_c('v-col',{staticClass:\"shrink\"},[_c('v-btn',{on:{\"click\":trigger}},[_vm._v(\"Take action\")])],1)],1)],1)],1)}}])},[_c('div',{attrs:{\"slot\":\"spinner\"},slot:\"spinner\"},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"red\"}})],1),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"}),_c('span',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"})])],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Api from '@/services/Api'\r\n\r\nexport default {\r\n  search(page, data) {\r\n    return Api().post(`search?page=${page}`, data)\r\n  }\r\n}\r\n","<template>\r\n  <div id=\"search\" class=\"pl-6\">\r\n    <v-container fluid>\r\n      <v-row>\r\n        <v-alert prominent class=\"mx-auto\" type=\"error\" v-if=\"errored\">\r\n          <v-row align=\"center\">\r\n            <v-col class=\"grow\">\r\n              <div class=\"title\">Error!</div>\r\n              <div>\r\n                Something went wrong, but don’t fret — let’s give it another\r\n                shot.\r\n              </div>\r\n            </v-col>\r\n            <v-col class=\"shrink\">\r\n              <v-btn @click=\"get\">Take action</v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-alert>\r\n        <v-col v-else cols=\"12\" sm=\"12\" md=\"10\" lg=\"11\">\r\n          <template v-if=\"results.length === 0\">\r\n            <p class=\"text-center\">Ops! No search results</p>\r\n          </template>\r\n          <div\r\n            v-else\r\n            v-for=\"(result, i) in loading ? 5 : results\"\r\n            :key=\"i\"\r\n            class=\"mb-5\"\r\n          >\r\n            <v-skeleton-loader\r\n              class=\"mx-auto\"\r\n              type=\"list-item-avatar-three-line\"\r\n              :loading=\"loading\"\r\n              tile\r\n              large\r\n            >\r\n              <v-card\r\n                :to=\"`/channels/${result._id}`\"\r\n                class=\"card mb-10\"\r\n                v-if=\"typeof result.channelName !== 'undefined'\"\r\n                tile\r\n                flat\r\n              >\r\n                <v-row no-gutters justify=\"center\">\r\n                  <v-col cols=\"10\" sm=\"10\" md=\"3\" lg=\"3\" class=\"d-flex\">\r\n                    <!-- <v-responsive max-height=\"100%\"> -->\r\n\r\n                    <v-avatar size=\"120\" max-width=\"150\" class=\"mx-auto red\">\r\n                      <img\r\n                        v-if=\"result.photoUrl !== 'no-photo.jpg'\"\r\n                        :src=\"`${getUrl}/uploads/avatars/${result.photoUrl}`\"\r\n                        :alt=\"`${result.channelName} avatar`\"\r\n                      />\r\n                      <template v-else color=\"red\">\r\n                        <span class=\"white--text display-1\">\r\n                          {{\r\n                            result.channelName.split('')[0].toUpperCase()\r\n                          }}</span\r\n                        >\r\n                      </template>\r\n                    </v-avatar>\r\n                    <!-- </v-responsive> -->\r\n                  </v-col>\r\n                  <v-col cols=\"10\" sm=\"10\" md=\"6\" lg=\"6\" class=\"justify-center\">\r\n                    <!-- <div class=\"ml-2\"> -->\r\n                    <v-card-title\r\n                      class=\"pl-2 pt-0 subtitle-1 font-weight-bold align-center\"\r\n                    >\r\n                      {{ result.channelName }}\r\n                    </v-card-title>\r\n\r\n                    <v-card-subtitle\r\n                      class=\"pl-2 pt-2 pb-0\"\r\n                      style=\"line-height: 1.2\"\r\n                    >\r\n                      {{ result.subscribers }}\r\n                      subscribers<v-icon>mdi-circle-small</v-icon\r\n                      >{{ result.videos }} videos\r\n                    </v-card-subtitle>\r\n                    <v-card-subtitle class=\"pl-2 pt-2 pb-0\">\r\n                      {{ result.description }}\r\n                    </v-card-subtitle>\r\n                    <!-- </div> -->\r\n                  </v-col>\r\n\r\n                  <!-- <v-col cols=\"10\" sm=\"10\" md=\"3\" lg=\"3\">\r\n                    <v-btn class=\"red white--text mt-6\" tile depressed\r\n                      >Subscribed</v-btn\r\n                    >\r\n                    <v-btn icon class=\"ml-5 mt-6\"\r\n                      ><v-icon>mdi-bell</v-icon></v-btn\r\n                    >\r\n                  </v-col> -->\r\n                </v-row>\r\n              </v-card>\r\n              <v-card\r\n                :to=\"`/watch/${result._id}`\"\r\n                class=\"card mb-10\"\r\n                tile\r\n                flat\r\n                v-else\r\n              >\r\n                <v-row no-gutters v-if=\"result.userId\">\r\n                  <v-col cols=\"5\" sm=\"3\" md=\"3\" lg=\"3\">\r\n                    <v-img\r\n                      class=\"align-center\"\r\n                      :src=\"\r\n                        `${getUrl}/uploads/thumbnails/${result.thumbnailUrl}`\r\n                      \"\r\n                      :alt=\"`${result.userId.channelName} avatar`\"\r\n                    >\r\n                    </v-img>\r\n                  </v-col>\r\n                  <v-col cols=\"7\" sm=\"7\" md=\"8\" lg=\"8\">\r\n                    <div class=\"ml-2\">\r\n                      <v-card-title\r\n                        class=\"pl-2 pt-0 subtitle-1 font-weight-bold\"\r\n                      >\r\n                        {{ result.title }}\r\n                      </v-card-title>\r\n\r\n                      <v-card-subtitle\r\n                        class=\"pl-2 pt-2 pb-0\"\r\n                        style=\"line-height: 1.2\"\r\n                      >\r\n                        {{ result.userId.channelName }}<br />\r\n                        {{ result.views }}\r\n                        views<v-icon>mdi-circle-small</v-icon>6 hours ago\r\n                      </v-card-subtitle>\r\n                      <v-card-subtitle class=\"pl-2 pt-2 pb-0\">\r\n                        {{ result.description }}\r\n                      </v-card-subtitle>\r\n                    </div>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card>\r\n            </v-skeleton-loader>\r\n          </div>\r\n          <infinite-loading\r\n            :identifier=\"infiniteId\"\r\n            @infinite=\"getSearchResults\"\r\n          >\r\n            <div slot=\"spinner\">\r\n              <v-progress-circular\r\n                indeterminate\r\n                color=\"red\"\r\n              ></v-progress-circular>\r\n            </div>\r\n            <div slot=\"no-results\"></div>\r\n            <span slot=\"no-more\"></span>\r\n            <div slot=\"error\" slot-scope=\"{ trigger }\">\r\n              <v-alert prominent type=\"error\">\r\n                <v-row align=\"center\">\r\n                  <v-col class=\"grow\">\r\n                    <div class=\"title\">Error!</div>\r\n                    <div>\r\n                      Something went wrong, but don’t fret — let’s give it\r\n                      another shot.\r\n                    </div>\r\n                  </v-col>\r\n                  <v-col class=\"shrink\">\r\n                    <v-btn @click=\"trigger\">Take action</v-btn>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-alert>\r\n            </div>\r\n          </infinite-loading>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport InfiniteLoading from 'vue-infinite-loading'\r\nimport { mapGetters } from 'vuex'\r\nimport SearchService from '@/services/SearchService'\r\n\r\nexport default {\r\n  data: () => ({\r\n    errored: false,\r\n    loading: true,\r\n    loaded: false,\r\n    page: 1,\r\n    results: [],\r\n    text: '',\r\n    infiniteId: +new Date()\r\n  }),\r\n  computed: {\r\n    ...mapGetters(['getUrl'])\r\n  },\r\n  methods: {\r\n    async getSearchResults($state) {\r\n      this.errored = false\r\n      if (!this.loaded) {\r\n        this.loading = true\r\n      }\r\n      const results = await SearchService.search(this.page, {\r\n        text: this.text\r\n      })\r\n        .catch((err) => {\r\n          console.log(err)\r\n          this.errored = true\r\n        })\r\n        .finally(() => {\r\n          this.loading = false\r\n        })\r\n\r\n      if (!results) return\r\n      // console.log(results)\r\n      if (results.data.data.length) {\r\n        this.page += 1\r\n\r\n        this.results.push(...results.data.data)\r\n        if ($state) {\r\n          $state.loaded()\r\n        }\r\n\r\n        this.loaded = true\r\n      } else {\r\n        if ($state) {\r\n          $state.complete()\r\n        }\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    InfiniteLoading\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    // console.log(to.query['search-query'])\r\n    if (to.query['search-query'] === '') return\r\n    this.text = to.query['search-query']\r\n    this.page = 1\r\n    this.results = []\r\n    this.infiniteId += 1\r\n\r\n    next()\r\n  },\r\n  mounted() {\r\n    this.text = this.$route.query['search-query']\r\n  }\r\n}\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=1bd9eb09&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/_vuetify-loader@1.7.3@vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VAlert,VAvatar,VBtn,VCard,VCardSubtitle,VCardTitle,VCol,VContainer,VIcon,VImg,VProgressCircular,VRow,VSkeletonLoader})\n","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=style&index=0&lang=scss&\"","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar regExpFlags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar n$ToString = RegExpPrototype[TO_STRING];\nvar getFlags = uncurryThis(regExpFlags);\n\nvar NOT_GENERIC = fails(function () { return n$ToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = PROPER_FUNCTION_NAME && n$ToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = $toString(R.source);\n    var rf = R.flags;\n    var f = $toString(rf === undefined && isPrototypeOf(RegExpPrototype, R) && !('flags' in RegExpPrototype) ? getFlags(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Video.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"watch\",staticClass:\" black\",attrs:{\"id\":\"watch\"}},[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',[(_vm.errored)?_c('v-alert',{staticClass:\"mx-auto\",attrs:{\"prominent\":\"\",\"type\":\"error\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"grow\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Error!\")]),_c('div',[_vm._v(\" 오류가 났습니다. 다시 시도하시기를 클릭하십시오. \")])]),_c('v-col',{staticClass:\"shrink\"},[_c('v-btn',{on:{\"click\":_vm.actions}},[_vm._v(\"새로 고치다\")])],1)],1)],1):_c('v-col',{staticClass:\"mx-auto\",attrs:{\"cols\":\"11\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"8\",\"lg\":\"8\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"card-avatar, article, actions\",\"tile\":\"\",\"large\":\"\"}},[_c('div',{ref:\"hello\"},[_c('v-responsive',[_c('fluid-player',{attrs:{\"option\":_vm.options}})],1),_c('v-card',{staticClass:\"card\",attrs:{\"flat\":\"\",\"tile\":\"\",\"color\":\"black\"}},[_c('v-card-title',{staticClass:\"pl-0 pb-0\"},[_vm._v(_vm._s(_vm.video.title))]),_c('div',{staticClass:\"d-flex flex-wrap justify-space-between\",attrs:{\"id\":\"btns\"}},[_c('v-card-subtitle',{staticClass:\"pl-0 pt-0 pb-0 subtitle-1\",staticStyle:{\"line-height\":\"2.4em\"}},[_vm._v(\" \"+_vm._s(_vm.video.views)+\" 관람하다.\"),_c('v-icon',[_vm._v(\"mdi-circle-small\")]),_vm._v(_vm._s(_vm.video.CreatedAt)+\" \")],1),_c('v-card-actions',{staticClass:\"pt-0 pl-0\"},[_c('v-btn',{attrs:{\"text\":\"\"}},[_c('v-icon',{class:(\"pr-2\" + (_vm.feeling !== 'like'\n                                 ? ' grey--text text--darken-1'\n                                 : ''))},[_vm._v(\"mdi-thumb-up\")]),_vm._v(_vm._s(_vm.video.likes))],1),_c('v-btn',{attrs:{\"text\":\"\"}},[_c('v-icon',{class:(\"pr-2\" + (_vm.feeling !== 'dislike'\n                                 ? ' grey--text text--darken-1'\n                                 : ''))},[_vm._v(\"mdi-thumb-down\")]),_vm._v(\" \"+_vm._s(_vm.video.dislikes))],1)],1)],1)],1)],1),_vm._l((_vm.posters),function(poster){return _c('div',{key:poster._id},[_c('v-card',{attrs:{\"width\":\"100%\",\"href\":poster.href,\"target\":\"_blank\"}},[_c('v-img',{staticClass:\"grey darken-4\",attrs:{\"src\":poster.pic_url,\"max-height\":\"600\",\"width\":\"100%\",\"contain\":\"\"}})],1)],1)})],2)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"4\",\"lg\":\"4\"},scopedSlots:_vm._u([{key:\"error\",fn:function(ref){\n                             var trigger = ref.trigger;\nreturn _c('div',{},[_c('v-alert',{attrs:{\"prominent\":\"\",\"type\":\"error\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"grow\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Error!\")]),_c('div',[_vm._v(\" 오류가 났습니다. 다시 시도하시기를 클릭하십시오. \")])]),_c('v-col',{staticClass:\"shrink\"},[_c('v-btn',{on:{\"click\":trigger}},[_vm._v(\"새로 고치다\")])],1)],1)],1)],1)}}])},[_c('hr',{staticClass:\"grey--text\"}),_c('h4',{staticClass:\"mb-3 mt-3\"},[_vm._v(\"고객이 좋아할만한 것\")]),_vm._l((_vm.videos),function(video,i){return _c('div',{key:i,staticClass:\"mb-5\"},[_c('v-card',{staticClass:\"card\",attrs:{\"tile\":\"\",\"flat\":\"\",\"color\":\"black\"},on:{\"click\":function($event){return _vm.nextVideo(video._id)}}},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"mx-auto\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"5\",\"lg\":\"5\"}},[_c('v-img',{staticClass:\"align-center\",attrs:{\"height\":\"110\",\"src\":video.thumbnailUrl}})],1),_c('v-col',[_c('div',{staticClass:\"ml-2\"},[_c('v-card-title',{staticClass:\"pl-2 pt-0 subtitle-1 font-weight-bold\",staticStyle:{\"line-height\":\"1\"}},[_vm._v(\" \"+_vm._s(video.title)+\" \")]),_c('v-card-subtitle',{staticClass:\"pl-2 pt-2 pb-0\",staticStyle:{\"line-height\":\"1\"}},[_vm._v(\" \"+_vm._s(video.userId.channelName)),_c('br'),_vm._v(\" \"+_vm._s(video.views)+\" 관람하다. \"),_c('v-icon',[_vm._v(\"mdi-circle-small\")]),_vm._v(\" \"+_vm._s(_vm.dateFormatter(video.CreatedAt))+\" \")],1)],1)])],1)],1)],1)}),_c('div',{attrs:{\"slot\":\"spinner\"},slot:\"spinner\"},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"red\"}})],1),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"}),_c('span',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"})],2)],1)],1)],1)],1),_c('signin-modal',{attrs:{\"openModal\":_vm.signinDialog,\"details\":_vm.details},on:{\"closeModal\":function($event){_vm.signinDialog = false}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fluid-component\"},[_c('video',{ref:\"myVideoPlayer\",attrs:{\"controls\":\"\",\"crossorigin\":\"\"}},[_c('source',{ref:\"source\",attrs:{\"src\":_vm.videoUrl.url,\"data-fluid-hd\":\"\",\"type\":\"application/x-mpegURL\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"fluid-component\">\r\n        <video ref=\"myVideoPlayer\" controls crossorigin>\r\n            <source :src=\"videoUrl.url\"  ref=\"source\"\r\n                    data-fluid-hd\r\n                    type='application/x-mpegURL'/>\r\n        </video>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import fluidPlayer from 'fluid-player';\r\n\r\n  export default {\r\n    name: 'FluidPlayer',\r\n    props: {\r\n      option:{\r\n        type:Object,\r\n        default:()=>{}\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        player: null,\r\n        videoUrl:{url:this.option.url}\r\n      }\r\n    },\r\n    mounted() {\r\n      // this.getPlay(this.option)\r\n    },\r\n    methods:{\r\n      getPlay(option){\r\n          let options = {\r\n                      layoutControls: {\r\n                          primaryColor: \"#28B8ED\",\r\n                          preload: true,\r\n                          playbackRateEnabled: true,\r\n                          persistentSettings: {\r\n                              volume:  false, // Default true\r\n                              quality: false, // Default true\r\n                              speed:   false, // Default true\r\n                              theatre: false // Default true\r\n                          },\r\n                          controlForwardBackward: {\r\n                              show: true // Default: false\r\n                          },\r\n                          posterImage:option.posterUrl || ''\r\n                     },\r\n                      vastOptions: {\r\n                          allowVPAID: true, // Default false.\r\n                          adList: [\r\n                              {\r\n                                  roll: 'preRoll',\r\n                                  vastTag: option.ads || '',\r\n                                  fallbackVastTags:[''],\r\n                                  adText: 'Advertising supports us directly',   \r\n                              },\r\n                              // {\r\n                              //     roll: 'midRoll',\r\n                              //     vastTag: '',\r\n                              //     timer: 4\r\n                              // },\r\n                          ], \r\n                          vastTimeout: 1000,\r\n                          showProgressbarMarkers: true,\r\n                      vastAdvanced: {\r\n                              vastLoadedCallback:       (function() { console.log(\"Here one event\") }),\r\n                              noVastVideoCallback:      (function() { console.log(\"Here another\") }),\r\n                              vastVideoSkippedCallback: (function() { console.log(\"Here one more\") }),\r\n                              vastVideoEndedCallback:   (function() { console.log(\"Here's the last\") })\r\n                          }\r\n                          \r\n                      }\r\n                        \r\n                    }\r\n          console.log(options,'options******************')\r\n          this.player = fluidPlayer(this.$refs.myVideoPlayer, options)\r\n      }\r\n    },\r\n    computed:{\r\n      // videoUrl:()=>{\r\n      //   return  this.option.url\r\n      // }\r\n    },\r\n    watch:{\r\n      option:{\r\n        handler(varNew){\r\n          // this.player.destroy();\r\n          console.log(this,varNew)\r\n          this.$set(this.videoUrl,'url',varNew.url)\r\n          this.$refs.source.src=varNew.url\r\n          this.getPlay(varNew)\r\n          console.log(this.videoUrl,'video url=======')\r\n          console.log(this.$refs.source.src,\"soruce is\")\r\n        },\r\n        deep:true\r\n      }\r\n    },\r\n    unmounted() {\r\n      if (!this.player) {\r\n        return;\r\n      }\r\n\r\n      this.player.destroy();\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n    @import \"~fluid-player/src/css/fluidplayer.css\";\r\n\r\n    div.fluid-component, div.fluid-component > video {\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./FluidPlayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./FluidPlayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FluidPlayer.vue?vue&type=template&id=5aebe396&scoped=true&\"\nimport script from \"./FluidPlayer.vue?vue&type=script&lang=js&\"\nexport * from \"./FluidPlayer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FluidPlayer.vue?vue&type=style&index=0&id=5aebe396&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5aebe396\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"watch\" ref=\"watch\" class=\" black\">\r\n    <v-container fluid>\r\n      <v-row>\r\n        <v-alert prominent class=\"mx-auto\" type=\"error\" v-if=\"errored\">\r\n          <v-row align=\"center\">\r\n            <v-col class=\"grow\">\r\n              <div class=\"title\">Error!</div>\r\n              <div>\r\n                오류가 났습니다. 다시 시도하시기를 클릭하십시오.\r\n              </div>\r\n            </v-col>\r\n            <v-col class=\"shrink\">\r\n              <v-btn @click=\"actions\">새로 고치다</v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-alert>\r\n        <v-col v-else cols=\"11\" class=\"mx-auto\">\r\n          <v-row>\r\n            <v-col cols=\"12\" sm=\"12\" md=\"8\" lg=\"8\">\r\n              <v-skeleton-loader\r\n                type=\"card-avatar, article, actions\"\r\n                tile\r\n                large\r\n              >\r\n                <div ref=\"hello\">\r\n                    <!-- <video-player :options=\"videoOptions\"/> -->\r\n                  <!-- <v-responsive v-if=\"m3u8\">\r\n                    <player-hls :options=\"options\"/>\r\n                  </v-responsive>\r\n\r\n                   <v-responsive v-else>\r\n                    <player-mp4 :options=\"options\" />\r\n                  </v-responsive> -->\r\n\r\n                  <v-responsive >\r\n                    <fluid-player  :option=\"options\" />\r\n                  </v-responsive>\r\n\r\n                  <v-card flat tile  class=\"card\" color=\"black\" >\r\n                    <v-card-title class=\"pl-0 pb-0\">{{\r\n                      video.title\r\n                    }}</v-card-title>\r\n                    <div\r\n                      class=\"d-flex flex-wrap justify-space-between\"\r\n                      id=\"btns\"\r\n                    >\r\n                      <v-card-subtitle\r\n                        class=\"pl-0 pt-0 pb-0 subtitle-1\"\r\n                        style=\"line-height: 2.4em;\"\r\n                      >\r\n                        {{ video.views }} 관람하다.<v-icon>mdi-circle-small</v-icon\r\n                        >{{video.CreatedAt}}\r\n                      </v-card-subtitle>\r\n                      <v-card-actions class=\"pt-0 pl-0\">\r\n                        <!-- @click=\"createFeeling('like')\" -->\r\n                        <v-btn text \r\n                          ><v-icon\r\n                            :class=\"\r\n                              `pr-2${\r\n                                feeling !== 'like'\r\n                                  ? ' grey--text text--darken-1'\r\n                                  : ''\r\n                              }`\r\n                            \"\r\n                            >mdi-thumb-up</v-icon\r\n                          >{{ video.likes }}</v-btn\r\n                        >\r\n                      <!-- @click=\"createFeeling('dislike')\" -->\r\n                        <v-btn text \r\n                          ><v-icon\r\n                            :class=\"\r\n                              `pr-2${\r\n                                feeling !== 'dislike'\r\n                                  ? ' grey--text text--darken-1'\r\n                                  : ''\r\n                              }`\r\n                            \"\r\n                            >mdi-thumb-down</v-icon\r\n                          >\r\n                          {{ video.dislikes }}</v-btn\r\n                        >\r\n                        <!-- <v-btn\r\n                          :href=\"video.url\"\r\n                          text\r\n                          class=\"grey--text text--darken-1\"\r\n                          ><v-icon>mdi-download</v-icon> Download</v-btn\r\n                        > -->\r\n\r\n                      </v-card-actions>\r\n                    </div>\r\n                  </v-card>\r\n                </div>\r\n                <!-- <v-row class=\"justify-space-between\">    -->\r\n <!-- 广告栏 -->\r\n                      <!-- <v-img src=\"https:/\" aspect-ratio=\"1.7\"></v-img> -->\r\n                <div v-for=\"poster in posters\" :key=\"poster._id\">\r\n                  <v-card width=\"100%\" \r\n                  :href=\"poster.href\"\r\n                  target=\"_blank\"    \r\n                  >\r\n                    <!-- <v-responsive :aspect-ratio=\"16/9\"> -->\r\n                      <!-- <v-card-title class=\"text-h6\">\r\n                         {{poster.title}}\r\n                      </v-card-title> -->\r\n                      <v-img\r\n                        :src=\"poster.pic_url\"\r\n                        max-height=\"600\"\r\n                        width=\"100%\"\r\n                        contain\r\n                        class=\"grey darken-4\"\r\n                      ></v-img>\r\n                    <!-- </v-responsive> -->\r\n\r\n                  </v-card>\r\n                </div>\r\n                <!-- </v-row> -->\r\n              </v-skeleton-loader>\r\n            </v-col>\r\n            <!-- 右边推荐栏 -->\r\n            <v-col cols=\"12\" sm=\"12\" md=\"4\" lg=\"4\">\r\n              <hr class=\"grey--text\" />\r\n              <h4 class=\"mb-3 mt-3\">고객이 좋아할만한 것</h4>\r\n              <div\r\n                v-for=\"(video, i) in  videos\"\r\n                :key=\"i\"\r\n                class=\"mb-5\"\r\n              >\r\n                <!-- <v-skeleton-loader\r\n                  class=\"mx-auto\"\r\n                  type=\"list-item-avatar-three-line\"\r\n                  \r\n                  tile\r\n                  large\r\n                > -->\r\n                <!-- :to=\"`/watch/${video._id}`\" -->\r\n                  <v-card\r\n                    class=\"card\"\r\n                    tile\r\n                    flat\r\n                    @click=\"nextVideo(video._id)\"\r\n                    color=\"black\"\r\n                  >\r\n                    <v-row no-gutters>\r\n                      <v-col class=\"mx-auto\" cols=\"12\" sm=\"12\" md=\"5\" lg=\"5\">\r\n                        <!-- <v-responsive max-height=\"100%\"> -->\r\n                        <v-img\r\n                          class=\"align-center\"\r\n                          height=\"110\"\r\n                          :src=\"\r\n                            video.thumbnailUrl\r\n                          \"\r\n                        >\r\n                        </v-img>\r\n                        <!-- </v-responsive> -->\r\n                      </v-col>\r\n                      <v-col>\r\n                        <div class=\"ml-2\">\r\n                          <v-card-title\r\n                            class=\"pl-2 pt-0 subtitle-1 font-weight-bold\"\r\n                            style=\"line-height: 1\"\r\n                          >\r\n                            {{ video.title }}\r\n                          </v-card-title>\r\n\r\n                          <v-card-subtitle\r\n                            class=\"pl-2 pt-2 pb-0\"\r\n                            style=\"line-height: 1\"\r\n                          >\r\n                            {{ video.userId.channelName }}<br />\r\n                            {{ video.views }} 관람하다.\r\n                            <v-icon>mdi-circle-small</v-icon>\r\n                            {{ dateFormatter(video.CreatedAt) }}\r\n                          </v-card-subtitle>\r\n                        </div>\r\n                      </v-col>\r\n                    </v-row>\r\n                  </v-card>\r\n                <!-- </v-skeleton-loader> -->\r\n              </div>\r\n              <!-- <v-col cols=\"12\" sm=\"12\" md=\"12\" lg=\"12\"> -->\r\n              <!-- <infinite-loading :identifier=\"infiniteId\" @infinite=\"getVideos\"> -->\r\n                <div slot=\"spinner\">\r\n                  <v-progress-circular\r\n                    indeterminate\r\n                    color=\"red\"\r\n                  ></v-progress-circular>\r\n                </div>\r\n                <div slot=\"no-results\"></div>\r\n                <span slot=\"no-more\"></span>\r\n                <div slot=\"error\" slot-scope=\"{ trigger }\">\r\n                  <v-alert prominent type=\"error\">\r\n                    <v-row align=\"center\">\r\n                      <v-col class=\"grow\">\r\n                        <div class=\"title\">Error!</div>\r\n                        <div>\r\n                오류가 났습니다. 다시 시도하시기를 클릭하십시오.\r\n                        </div>\r\n                      </v-col>\r\n                      <v-col class=\"shrink\">\r\n                        <v-btn @click=\"trigger\">새로 고치다</v-btn>\r\n                      </v-col>\r\n                    </v-row>\r\n                  </v-alert>\r\n                </div>\r\n              <!-- </infinite-loading> -->\r\n              <!-- </v-col> -->\r\n            </v-col>\r\n          </v-row>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n    <signin-modal\r\n      :openModal=\"signinDialog\"\r\n      :details=\"details\"\r\n      @closeModal=\"signinDialog = false\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport { mapGetters } from 'vuex'\r\nimport VideoService from '@/services/VideoService'\r\nimport SubscriptionService from '@/services/SubscriptionService'\r\nimport FeelingService from '@/services/FeelingService'\r\nimport SigninModal from '@/components/SigninModal'\r\n// import VideoPlayer from \"@/components/VideoPlayer.vue\";\r\n// import PlayerMp4 from'@/components/PlayerMp4'\r\n// import PlayerHls from'@/components/PlayerHls'\r\nimport FluidPlayer from '../components/FluidPlayer.vue'\r\n\r\n\r\n\r\nexport default {\r\n  name:\"watch\",\r\n  components: {\r\n    // AddComment,\r\n    // CommentList,\r\n    SigninModal,\r\n    // VideoPlayer,\r\n    // PlayerMp4,\r\n    // PlayerHls,\r\n    FluidPlayer\r\n    \r\n   \r\n  },\r\n  data: () => ({\r\n      options:{\r\n          posterUrl:\"\",\r\n          url:\"\",\r\n          ads: \"\"\r\n        },\r\n      // m3u8:true,\r\n      posters:[],\r\n      videoOptions: {\r\n              autoplay: false,\r\n              controls: true,\r\n              muted:false,\r\n              sources: []\r\n          },\r\n      loading: false,\r\n      loaded: false,\r\n      errored: false,\r\n      videoLoading: false,\r\n      subscribed: false,\r\n      subscribeLoading: false,\r\n      showSubBtn: true,\r\n      feeling: '',\r\n      video: {},\r\n      videos: [],\r\n      page: 1,\r\n      signinDialog: false,\r\n      details: {}\r\n  }),\r\n  computed: {\r\n    ...mapGetters(['currentUser', 'getUrl', 'isAuthenticated'])\r\n  },\r\n  methods: {\r\n    nextVideo(videoId){\r\n      this.$router.push(\"/watch/\"+videoId);\r\n      this.$router.go()\r\n    },\r\n    async getPosters(){\r\n      const posters= await  VideoService.getPosters({typee:3})\r\n      // console.log(posters)\r\n      posters.data.data.forEach(element => {\r\n        this.posters.push(element)\r\n      });\r\n      \r\n    },\r\n   async getVideo(id) {\r\n      this.errored = false\r\n      this.videoLoading = true\r\n      this.video = {}\r\n      try {\r\n        const video = await VideoService.getById(id)\r\n        const ads= await  VideoService.getPosters({typee:4})\r\n        if (!video) return this.$router.push('/')\r\n        this.video = video.data.data[0]\r\n        // console.log(video,'m3u8....')\r\n        // this.videoOptions.sources.push({\r\n        //         src:video.data.data[0].url,\r\n        //         type: \"application/x-mpegURL\"\r\n        //       })\r\n        let playUrl=video.data.data[0].url\r\n        this.options.posterUrl =video.data.data[0].thumbnailUrl\r\n        this.options.url=playUrl\r\n        // console.log(ads)\r\n        this.options.ads=ads.data.data[0].video_url\r\n        // this.$set(this.options,'posterUrl',video.data.data[0].thumbnailUrl)\r\n        // let index= playUrl.lastIndexOf(\".\")\r\n        // //获取后缀\r\n        // let ext = playUrl.substr(index+1)\r\n        // if(ext==='mp4'){\r\n        //   this.m3u8=false\r\n        //   console.log(ext,'ext-------------')\r\n        // }\r\n        // console.log(this.options,\"-options-------\")\r\n      } catch (err) {\r\n        this.errored = true\r\n        console.log(err)\r\n      } \r\n\r\n    },\r\n    async getVideos($state) {\r\n      this.errored = false\r\n      if (!this.loaded) {\r\n        this.loading = true\r\n      }\r\n      let classifys=[4,5,6,7,10]\r\n      let temp= classifys[Math.floor(Math.random() * classifys.length)]\r\n      const videos = await VideoService.getAll('public', { page: this.page*20 ,classify:temp})\r\n        .catch((err) => {\r\n          console.log(err)\r\n          this.errored = true\r\n        })\r\n        .finally(() => (this.loading = false))\r\n\r\n      if (typeof videos === 'undefined') return\r\n\r\n      if (videos.data.data.length) {\r\n        // this.page += 1\r\n\r\n        this.videos.push(...videos.data.data)\r\n        if ($state) {\r\n          $state.loaded()\r\n        }\r\n\r\n        this.loaded = true\r\n      } else {\r\n        if ($state) {\r\n          $state.complete()\r\n        }\r\n      }\r\n    },\r\n    async checkSubscription(id) {\r\n      if (!this.isAuthenticated) return\r\n\r\n      this.loading = true\r\n      const sub = await SubscriptionService.checkSubscription({ channelId: id })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n        .finally(() => {\r\n          this.loading = false\r\n        })\r\n\r\n      if (!sub) return\r\n\r\n      if (!sub.data.data._id) this.subscribed = false\r\n      else this.subscribed = true\r\n    },\r\n    async checkFeeling(id) {\r\n      if (!this.isAuthenticated) return\r\n\r\n      this.loading = true\r\n      const feeling = await FeelingService.checkFeeling({ videoId: id })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n        .finally(() => {\r\n          this.loading = false\r\n        })\r\n\r\n      if (!feeling) return\r\n\r\n      if (feeling.data.data.feeling === 'like') this.feeling = 'like'\r\n      else if (feeling.data.data.feeling === 'dislike') this.feeling = 'dislike'\r\n    },\r\n    async createFeeling(type) {\r\n      if (!this.isAuthenticated) {\r\n        this.signinDialog = true\r\n        this.details = {\r\n          title:\r\n            type === 'like' ? 'Like this video?' : \"Don't like this video?\",\r\n          text: 'Sign in to make your opinion count.'\r\n        }\r\n        return\r\n      }\r\n      switch (true) {\r\n        case type === 'like' && this.feeling === '':\r\n          this.feeling = 'like'\r\n          this.video.likes++\r\n          // console.log('new like')\r\n          break\r\n        case type === 'like' && this.feeling === type:\r\n          this.feeling = ''\r\n          this.video.likes--\r\n          // console.log('remove like')\r\n          break\r\n        case type === 'like' && this.feeling === 'dislike':\r\n          this.feeling = 'like'\r\n          this.video.dislikes--\r\n          this.video.likes++\r\n          // console.log('change to like')\r\n          break\r\n        case type === 'dislike' && this.feeling === '':\r\n          this.feeling = 'dislike'\r\n          this.video.dislikes++\r\n          // console.log('new dislike')\r\n          break\r\n        case type === 'dislike' && this.feeling === type:\r\n          this.feeling = ''\r\n          this.video.dislikes--\r\n          // console.log('remove dislike')\r\n          break\r\n        case type === 'dislike' && this.feeling === 'like':\r\n          this.feeling = 'dislike'\r\n          this.video.likes--\r\n          this.video.dislikes++\r\n        // console.log('change to dislike')\r\n      }\r\n\r\n      const feeling = await FeelingService.createFeeling({\r\n        videoId: this.video._id,\r\n        type\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n\r\n      if (!feeling) return\r\n    },\r\n    async subscribe() {\r\n      if (!this.isAuthenticated) {\r\n        this.signinDialog = true\r\n        this.details = {\r\n          title: 'Want to subscribe to this channel?',\r\n          text: 'Sign in to subscribe to this channel.'\r\n        }\r\n        return\r\n      }\r\n      this.subscribeLoading = true\r\n      const sub = await SubscriptionService.createSubscription({\r\n        channelId: this.video.userId._id\r\n      })\r\n        .catch((err) => console.log(err))\r\n        .finally(() => {\r\n          this.subscribeLoading = false\r\n        })\r\n\r\n      if (!sub) return\r\n\r\n      if (!sub.data.data._id) {\r\n        this.subscribed = false\r\n        this.video.userId.subscribers--\r\n      } else {\r\n        this.subscribed = true\r\n        this.video.userId.subscribers++\r\n      }\r\n    },\r\n    async updateViews(id) {\r\n      const views = await VideoService.updateViews(id).catch((err) => {\r\n        console.log(err)\r\n      })\r\n      if (!views) return\r\n\r\n      this.video.views++\r\n    },\r\n    play(e) {\r\n      console.log(e)\r\n    },\r\n    actions() {\r\n      this.getVideo()\r\n    },\r\n    show(event) {\r\n      if (event.target.innerText === 'SHOW MORE') {\r\n        this.truncate = false\r\n        event.target.innerText = 'SHOW LESS'\r\n      } else {\r\n        this.truncate = true\r\n        event.target.innerText = 'SHOW MORE'\r\n      }\r\n    },\r\n    truncateText(string = '', num) {\r\n      if (string.length <= num) {\r\n        return string\r\n      }\r\n      return string.slice(0, num)\r\n    },\r\n    dateFormatter(date) {\r\n      // console.log(date,'date---------------');\r\n      // console.log(moment(date).format(\"YYYY-MM-DD\"));\r\n      return moment(date).format(\"YYYY-MM-DD\");\r\n    }\r\n  },\r\n\r\n  // watch:{\r\n  //   videoOptions:{\r\n\r\n  //       handler(val){\r\n  //            if(val){\r\n  //             console.log(val)\r\n  //            }\r\n  //        },\r\n  //        deep:true //true 深度监听\r\n  //   }\r\n  // },\r\n  mounted() {\r\n    this.getVideo(this.$route.params.id)\r\n    this.getVideos(this.$state)\r\n    this.getPosters()\r\n  },\r\n  // beforeRouteUpdate(to, from, next) {\r\n  //   this.page = 1\r\n  //   ;(this.loading = false), (this.loaded = false), (this.videos = [])\r\n  //   this.infiniteId += 1\r\n  //   this.getVideo(to.params.id)\r\n  //   next()\r\n  // }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n  gg1 {\r\n    height:300px;\r\n  }\r\n\r\nvideo {\r\n  max-width: 100%;\r\n}\r\n\r\n.grey-color {\r\n  color: #7f7f7f !important;\r\n}\r\n\r\n#btns {\r\n  border-bottom: 1px solid #e0d8d8;\r\n}\r\n\r\nbutton.v-btn.remove-hover-bg {\r\n  background-color: initial !important;\r\n  &:hover {\r\n    background-color: #f9f9f9;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Watch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Watch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Watch.vue?vue&type=template&id=6e5d12da&\"\nimport script from \"./Watch.vue?vue&type=script&lang=js&\"\nexport * from \"./Watch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Watch.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/_vuetify-loader@1.7.3@vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VResponsive } from 'vuetify/lib/components/VResponsive';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardSubtitle,VCardTitle,VCol,VContainer,VIcon,VImg,VProgressCircular,VResponsive,VRow,VSkeletonLoader})\n","// Styles\nimport \"../../../src/components/VSnackbar/VSnackbar.sass\"; // Components\n\nimport VSheet from '../VSheet/VSheet'; // Mixins\n\nimport Colorable from '../../mixins/colorable';\nimport Themeable from '../../mixins/themeable';\nimport Toggleable from '../../mixins/toggleable';\nimport { factory as PositionableFactory } from '../../mixins/positionable'; // Utilities\n\nimport mixins from '../../util/mixins';\nimport { convertToUnit, getSlot } from '../../util/helpers';\nimport { deprecate, removed } from '../../util/console';\nexport default mixins(VSheet, Colorable, Toggleable, PositionableFactory(['absolute', 'bottom', 'left', 'right', 'top'])\n/* @vue/component */\n).extend({\n  name: 'v-snackbar',\n  props: {\n    app: Boolean,\n    centered: Boolean,\n    contentClass: {\n      type: String,\n      default: ''\n    },\n    multiLine: Boolean,\n    text: Boolean,\n    timeout: {\n      type: [Number, String],\n      default: 5000\n    },\n    transition: {\n      type: [Boolean, String],\n      default: 'v-snack-transition',\n      validator: v => typeof v === 'string' || v === false\n    },\n    vertical: Boolean\n  },\n  data: () => ({\n    activeTimeout: -1\n  }),\n  computed: {\n    classes() {\n      return {\n        'v-snack--absolute': this.absolute,\n        'v-snack--active': this.isActive,\n        'v-snack--bottom': this.bottom || !this.top,\n        'v-snack--centered': this.centered,\n        'v-snack--has-background': this.hasBackground,\n        'v-snack--left': this.left,\n        'v-snack--multi-line': this.multiLine && !this.vertical,\n        'v-snack--right': this.right,\n        'v-snack--text': this.text,\n        'v-snack--top': this.top,\n        'v-snack--vertical': this.vertical\n      };\n    },\n\n    // Text and outlined styles both\n    // use transparent backgrounds\n    hasBackground() {\n      return !this.text && !this.outlined;\n    },\n\n    // Snackbar is dark by default\n    // override themeable logic.\n    isDark() {\n      return this.hasBackground ? !this.light : Themeable.options.computed.isDark.call(this);\n    },\n\n    styles() {\n      // Styles are not needed when\n      // using the absolute prop.\n      if (this.absolute) return {};\n      const {\n        bar,\n        bottom,\n        footer,\n        insetFooter,\n        left,\n        right,\n        top\n      } = this.$vuetify.application; // Should always move for y-axis\n      // applicationable components.\n\n      return {\n        paddingBottom: convertToUnit(bottom + footer + insetFooter),\n        paddingLeft: !this.app ? undefined : convertToUnit(left),\n        paddingRight: !this.app ? undefined : convertToUnit(right),\n        paddingTop: convertToUnit(bar + top)\n      };\n    }\n\n  },\n  watch: {\n    isActive: 'setTimeout',\n    timeout: 'setTimeout'\n  },\n\n  mounted() {\n    if (this.isActive) this.setTimeout();\n  },\n\n  created() {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('auto-height')) {\n      removed('auto-height', this);\n    }\n    /* istanbul ignore next */\n    // eslint-disable-next-line eqeqeq\n\n\n    if (this.timeout == 0) {\n      deprecate('timeout=\"0\"', '-1', this);\n    }\n  },\n\n  methods: {\n    genActions() {\n      return this.$createElement('div', {\n        staticClass: 'v-snack__action '\n      }, [getSlot(this, 'action', {\n        attrs: {\n          class: 'v-snack__btn'\n        }\n      })]);\n    },\n\n    genContent() {\n      return this.$createElement('div', {\n        staticClass: 'v-snack__content',\n        class: {\n          [this.contentClass]: true\n        },\n        attrs: {\n          role: 'status',\n          'aria-live': 'polite'\n        }\n      }, [getSlot(this)]);\n    },\n\n    genWrapper() {\n      const setColor = this.hasBackground ? this.setBackgroundColor : this.setTextColor;\n      const data = setColor(this.color, {\n        staticClass: 'v-snack__wrapper',\n        class: VSheet.options.computed.classes.call(this),\n        style: VSheet.options.computed.styles.call(this),\n        directives: [{\n          name: 'show',\n          value: this.isActive\n        }],\n        on: {\n          pointerenter: () => window.clearTimeout(this.activeTimeout),\n          pointerleave: this.setTimeout\n        }\n      });\n      return this.$createElement('div', data, [this.genContent(), this.genActions()]);\n    },\n\n    genTransition() {\n      return this.$createElement('transition', {\n        props: {\n          name: this.transition\n        }\n      }, [this.genWrapper()]);\n    },\n\n    setTimeout() {\n      window.clearTimeout(this.activeTimeout);\n      const timeout = Number(this.timeout);\n\n      if (!this.isActive || // TODO: remove 0 in v3\n      [0, -1].includes(timeout)) {\n        return;\n      }\n\n      this.activeTimeout = window.setTimeout(() => {\n        this.isActive = false;\n      }, timeout);\n    }\n\n  },\n\n  render(h) {\n    return h('div', {\n      staticClass: 'v-snack',\n      class: this.classes,\n      style: this.styles\n    }, [this.transition !== false ? this.genTransition() : this.genWrapper()]);\n  }\n\n});\n//# sourceMappingURL=VSnackbar.js.map","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar redefine = require('../internals/redefine');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (KEY, exec, FORCED, SHAM) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    FORCED\n  ) {\n    var uncurriedNativeRegExpMethod = uncurryThis(/./[SYMBOL]);\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      var uncurriedNativeMethod = uncurryThis(nativeMethod);\n      var $exec = regexp.exec;\n      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: uncurriedNativeRegExpMethod(regexp, str, arg2) };\n        }\n        return { done: true, value: uncurriedNativeMethod(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n\n    redefine(String.prototype, KEY, methods[0]);\n    redefine(RegExpPrototype, SYMBOL, methods[1]);\n  }\n\n  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);\n};\n","'use strict';\n\nimport promisePolyfill from 'es6-promise';\n\n// Object.assign polyfill\nif (typeof Object.assign != 'function') {\n    // Must be writable: true, enumerable: false, configurable: true\n    Object.defineProperty(Object, 'assign', {\n        value: function assign(target, varArgs) { // .length of function is 2\n            'use strict';\n            if (target == null) { // TypeError if undefined or null\n                throw new TypeError('Cannot convert undefined or null to object');\n            }\n\n            const to = Object(target);\n\n            for (let index = 1; index < arguments.length; index++) {\n                const nextSource = arguments[index];\n\n                if (nextSource != null) { // Skip over if undefined or null\n                    for (let nextKey in nextSource) {\n                        // Avoid bugs when hasOwnProperty is shadowed\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                            to[nextKey] = nextSource[nextKey];\n                        }\n                    }\n                }\n            }\n            return to;\n        },\n        writable: true,\n        configurable: true\n    });\n}\n\n// CustomEvent polyfill\n(function () {\n    if (typeof window.CustomEvent === 'function') return false;\n\n    function CustomEvent(event, params) {\n        params = params || {bubbles: false, cancelable: false, detail: undefined};\n        const evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        return evt;\n    }\n\n    CustomEvent.prototype = window.Event.prototype;\n\n    window.CustomEvent = CustomEvent;\n})();\n\n// .remove() polyfill\n(function (arr) {\n    arr.forEach(function (item) {\n        if (item.hasOwnProperty('remove')) {\n            return;\n        }\n        Object.defineProperty(item, 'remove', {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            value: function remove() {\n                if (this.parentNode === null) {\n                    return;\n                }\n                this.parentNode.removeChild(this);\n            }\n        });\n    });\n})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);\n\npromisePolyfill.polyfill();\n","'use strict';\nvar call = require('../internals/function-call');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar toString = require('../internals/to-string');\nvar getMethod = require('../internals/get-method');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.es/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : getMethod(regexp, SEARCH);\n      return searcher ? call(searcher, regexp, O) : new RegExp(regexp)[SEARCH](toString(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@search\n    function (string) {\n      var rx = anObject(this);\n      var S = toString(string);\n      var res = maybeCallNative(nativeSearch, rx, S);\n\n      if (res.done) return res.value;\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","// VPAID support module\n'use strict';\nexport default function (playerInstance, options) {\n    const callbacks = {\n        AdStarted: () => playerInstance.onStartVpaidAd,\n        AdStopped: () => playerInstance.onStopVpaidAd,\n        AdSkipped: () => playerInstance.onSkipVpaidAd,\n        AdLoaded: () => playerInstance.onVpaidAdLoaded,\n        AdLinearChange: () => playerInstance.onVpaidAdLinearChange,\n        AdSizeChange: () => playerInstance.onVpaidAdSizeChange,\n        AdExpandedChange: () => playerInstance.onVpaidAdExpandedChange,\n        AdSkippableStateChange: () => playerInstance.onVpaidAdSkippableStateChange,\n        AdDurationChange: () => playerInstance.onVpaidAdDurationChange,\n        AdRemainingTimeChange: () => playerInstance.onVpaidAdRemainingTimeChange,\n        AdVolumeChange: () => playerInstance.onVpaidAdVolumeChange,\n        AdImpression: () => playerInstance.onVpaidAdImpression,\n        AdClickThru: () => playerInstance.onVpaidAdClickThru,\n        AdInteraction: () => playerInstance.onVpaidAdInteraction,\n        AdVideoStart: () => playerInstance.onVpaidAdVideoStart,\n        AdVideoFirstQuartile: () => playerInstance.onVpaidAdVideoFirstQuartile,\n        AdVideoMidpoint: () => playerInstance.onVpaidAdVideoMidpoint,\n        AdVideoThirdQuartile: () => playerInstance.onVpaidAdVideoThirdQuartile,\n        AdVideoComplete: () => playerInstance.onVpaidAdVideoComplete,\n        AdUserAcceptInvitation: () => playerInstance.onVpaidAdUserAcceptInvitation,\n        AdUserMinimize: () => playerInstance.onVpaidAdUserMinimize,\n        AdUserClose: () => playerInstance.onVpaidAdUserClose,\n        AdPaused: () => playerInstance.onVpaidAdPaused,\n        AdPlaying: () => playerInstance.onVpaidAdPlaying,\n        AdError: () => playerInstance.onVpaidAdError,\n        AdLog: () => playerInstance.onVpaidAdLog\n    };\n\n    playerInstance.checkVPAIDInterface = (vpaidAdUnit) => {\n        const VPAIDCreative = vpaidAdUnit;\n        // checks if all the mandatory params present\n        return !!(VPAIDCreative.handshakeVersion && typeof VPAIDCreative.handshakeVersion == \"function\"\n            && VPAIDCreative.initAd && typeof VPAIDCreative.initAd == \"function\"\n            && VPAIDCreative.startAd && typeof VPAIDCreative.startAd == \"function\"\n            && VPAIDCreative.stopAd && typeof VPAIDCreative.stopAd == \"function\"\n            && VPAIDCreative.skipAd && typeof VPAIDCreative.skipAd == \"function\"\n            && VPAIDCreative.resizeAd && typeof VPAIDCreative.resizeAd == \"function\"\n            && VPAIDCreative.pauseAd && typeof VPAIDCreative.pauseAd == \"function\"\n            && VPAIDCreative.resumeAd && typeof VPAIDCreative.resumeAd == \"function\"\n            && VPAIDCreative.expandAd && typeof VPAIDCreative.expandAd == \"function\"\n            && VPAIDCreative.collapseAd && typeof VPAIDCreative.collapseAd == \"function\"\n            && VPAIDCreative.subscribe && typeof VPAIDCreative.subscribe == \"function\"\n            && VPAIDCreative.unsubscribe && typeof VPAIDCreative.unsubscribe == \"function\");\n    };\n\n    // Callback for AdPaused\n    playerInstance.onVpaidAdPaused = () => {\n        playerInstance.vpaidTimeoutTimerClear();\n        playerInstance.debugMessage(\"onAdPaused\");\n    };\n\n    // Callback for AdPlaying\n    playerInstance.onVpaidAdPlaying = () => {\n        playerInstance.vpaidTimeoutTimerClear();\n        playerInstance.debugMessage(\"onAdPlaying\");\n    };\n\n    // Callback for AdError\n    playerInstance.onVpaidAdError = (message) => {\n        playerInstance.debugMessage(\"onAdError: \" + message);\n        playerInstance.vpaidTimeoutTimerClear();\n        playerInstance.onVpaidEnded();\n    };\n\n    // Callback for AdLog\n    playerInstance.onVpaidAdLog = (message) => {\n        playerInstance.debugMessage(\"onAdLog: \" + message);\n    };\n\n    // Callback for AdUserAcceptInvitation\n    playerInstance.onVpaidAdUserAcceptInvitation = () => {\n        playerInstance.debugMessage(\"onAdUserAcceptInvitation\");\n    };\n\n    // Callback for AdUserMinimize\n    playerInstance.onVpaidAdUserMinimize = () => {\n        playerInstance.debugMessage(\"onAdUserMinimize\");\n    };\n\n    // Callback for AdUserClose\n    playerInstance.onVpaidAdUserClose = () => {\n        playerInstance.debugMessage(\"onAdUserClose\");\n    };\n\n    // Callback for AdUserClose\n    playerInstance.onVpaidAdSkippableStateChange = () => {\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        playerInstance.debugMessage(\"Ad Skippable State Changed to: \" + playerInstance.vpaidAdUnit.getAdSkippableState());\n    };\n\n    // Callback for AdUserClose\n    playerInstance.onVpaidAdExpandedChange = () => {\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        playerInstance.debugMessage(\"Ad Expanded Changed to: \" + playerInstance.vpaidAdUnit.getAdExpanded());\n    };\n\n    // Pass through for getAdExpanded\n    playerInstance.getVpaidAdExpanded = () => {\n        playerInstance.debugMessage(\"getAdExpanded\");\n\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n\n        return playerInstance.vpaidAdUnit.getAdExpanded();\n    };\n\n    // Pass through for getAdSkippableState\n    playerInstance.getVpaidAdSkippableState = () => {\n        playerInstance.debugMessage(\"getAdSkippableState\");\n\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        return playerInstance.vpaidAdUnit.getAdSkippableState();\n    };\n\n    // Callback for AdSizeChange\n    playerInstance.onVpaidAdSizeChange = () => {\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        playerInstance.debugMessage(\"Ad size changed to: w=\" + playerInstance.vpaidAdUnit.getAdWidth() + \" h=\" + playerInstance.vpaidAdUnit.getAdHeight());\n    };\n\n    // Callback for AdDurationChange\n    playerInstance.onVpaidAdDurationChange = () => {\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        playerInstance.debugMessage(\"Ad Duration Changed to: \" + playerInstance.vpaidAdUnit.getAdDuration());\n    };\n\n    // Callback for AdRemainingTimeChange\n    playerInstance.onVpaidAdRemainingTimeChange = () => {\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        playerInstance.debugMessage(\"Ad Remaining Time Changed to: \" + playerInstance.vpaidAdUnit.getAdRemainingTime());\n    };\n\n    // Pass through for getAdRemainingTime\n    playerInstance.getVpaidAdRemainingTime = () => {\n        playerInstance.debugMessage(\"getAdRemainingTime\");\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        return playerInstance.vpaidAdUnit.getAdRemainingTime();\n    };\n\n    // Callback for AdImpression\n    playerInstance.onVpaidAdImpression = () => {\n        playerInstance.debugMessage(\"Ad Impression\");\n\n        //Announce the impressions\n        playerInstance.trackSingleEvent('impression');\n    };\n\n    // Callback for AdClickThru\n    playerInstance.onVpaidAdClickThru = (url, id, playerHandles) => {\n        playerInstance.debugMessage(\"Clickthrough portion of the ad was clicked\");\n\n        // if playerHandles flag is set to true\n        // then player need to open click thorough url in new window\n        if (playerHandles) {\n            window.open(playerInstance.vastOptions.clickthroughUrl);\n        }\n\n        playerInstance.pauseVpaidAd();\n        // fire click tracking\n        playerInstance.callUris(playerInstance.vastOptions.clicktracking);\n    };\n\n    // Callback for AdInteraction\n    playerInstance.onVpaidAdInteraction = (id) => {\n        playerInstance.debugMessage(\"A non-clickthrough event has occured\");\n    };\n\n    // Callback for AdVideoStart\n    playerInstance.onVpaidAdVideoStart = () => {\n        playerInstance.debugMessage(\"Video 0% completed\");\n        playerInstance.trackSingleEvent('start');\n    };\n\n    // Callback for AdUserClose\n    playerInstance.onVpaidAdVideoFirstQuartile = () => {\n        playerInstance.debugMessage(\"Video 25% completed\");\n        playerInstance.trackSingleEvent('firstQuartile');\n    };\n\n    // Callback for AdUserClose\n    playerInstance.onVpaidAdVideoMidpoint = () => {\n        playerInstance.debugMessage(\"Video 50% completed\");\n        playerInstance.trackSingleEvent('midpoint');\n    };\n\n    // Callback for AdUserClose\n    playerInstance.onVpaidAdVideoThirdQuartile = () => {\n        playerInstance.debugMessage(\"Video 75% completed\");\n        playerInstance.trackSingleEvent('thirdQuartile');\n    };\n\n    // Callback for AdVideoComplete\n    playerInstance.onVpaidAdVideoComplete = () => {\n        playerInstance.debugMessage(\"Video 100% completed\");\n        playerInstance.trackSingleEvent('complete');\n    };\n\n    // Callback for AdLinearChange\n    playerInstance.onVpaidAdLinearChange = () => {\n        const vpaidNonLinearSlot = document.getElementsByClassName(\"fluid_vpaidNonLinear_ad\")[0];\n        const closeBtn = document.getElementById('close_button_' + playerInstance.videoPlayerId);\n        const adListId = vpaidNonLinearSlot.getAttribute('adlistid');\n        playerInstance.debugMessage(\"Ad linear has changed: \" + playerInstance.vpaidAdUnit.getAdLinear());\n\n        if (!playerInstance.vpaidAdUnit.getAdLinear()) {\n            return;\n        }\n\n        playerInstance.backupMainVideoContentTime(adListId);\n        playerInstance.isCurrentlyPlayingAd = true;\n\n        if (closeBtn) {\n            closeBtn.remove();\n        }\n\n        vpaidNonLinearSlot.className = 'fluid_vpaid_slot';\n        vpaidNonLinearSlot.id = playerInstance.videoPlayerId + \"_fluid_vpaid_slot\";\n        playerInstance.domRef.player.loop = false;\n        playerInstance.domRef.player.removeAttribute('controls');\n\n        const progressbarContainer = playerInstance.domRef.player.parentNode.getElementsByClassName('fluid_controls_currentprogress');\n\n        for (let i = 0; i < progressbarContainer.length; i++) {\n            progressbarContainer[i].style.backgroundColor = playerInstance.displayOptions.layoutControls.adProgressColor;\n        }\n\n        playerInstance.toggleLoader(false);\n    };\n\n    // Pass through for getAdLinear\n    playerInstance.getVpaidAdLinear = () => {\n        playerInstance.debugMessage(\"getAdLinear\");\n        return playerInstance.vpaidAdUnit.getAdLinear();\n    };\n\n    // Pass through for startAd()\n    playerInstance.startVpaidAd = () => {\n        playerInstance.debugMessage(\"startAd\");\n        playerInstance.vpaidTimeoutTimerStart();\n        playerInstance.vpaidAdUnit.startAd();\n    };\n\n    // Callback for AdLoaded\n    playerInstance.onVpaidAdLoaded = () => {\n        playerInstance.debugMessage(\"ad has been loaded\");\n        // start the video play as vpaid is loaded successfully\n        playerInstance.vpaidTimeoutTimerClear();\n        playerInstance.startVpaidAd();\n    };\n\n    // Callback for StartAd()\n    playerInstance.onStartVpaidAd = () => {\n        playerInstance.debugMessage(\"Ad has started\");\n        playerInstance.vpaidTimeoutTimerClear();\n    };\n\n    // Pass through for stopAd()\n    playerInstance.stopVpaidAd = () => {\n        playerInstance.vpaidTimeoutTimerStart();\n        playerInstance.vpaidAdUnit.stopAd();\n    };\n\n    // Hard Pass through for stopAd() excluding deleteOtherVpaidAdsApart\n    playerInstance.hardStopVpaidAd = (deleteOtherVpaidAdsApart) => {\n        // this is hard stop of vpaid ads\n        // we delete all the vpaid assets so the new one can be loaded\n        // delete all assets apart from the ad from deleteOtherVpaidAdsApart\n        if (playerInstance.vpaidAdUnit) {\n            playerInstance.vpaidAdUnit.stopAd();\n            playerInstance.vpaidAdUnit = null;\n        }\n\n        const vpaidIframes = document.getElementsByClassName(\"fluid_vpaid_iframe\");\n        const vpaidSlots = document.getElementsByClassName(\"fluid_vpaid_slot\");\n        const vpaidNonLinearSlots = document.getElementsByClassName(\"fluid_vpaidNonLinear_ad\");\n\n        for (let i = 0; i < vpaidIframes.length; i++) {\n            if (vpaidIframes[i].getAttribute('adListId') !== deleteOtherVpaidAdsApart) {\n                vpaidIframes[i].remove();\n            }\n        }\n\n        for (let j = 0; j < vpaidSlots.length; j++) {\n            if (vpaidSlots[j].getAttribute('adListId') !== deleteOtherVpaidAdsApart) {\n                vpaidSlots[j].remove();\n            }\n        }\n\n        for (let k = 0; k < vpaidNonLinearSlots.length; k++) {\n            if (vpaidNonLinearSlots[k].getAttribute('adListId') !== deleteOtherVpaidAdsApart) {\n                vpaidNonLinearSlots[k].remove();\n            }\n        }\n    };\n\n    // Callback for AdUserClose\n    playerInstance.onStopVpaidAd = () => {\n        playerInstance.debugMessage(\"Ad has stopped\");\n        playerInstance.vpaidTimeoutTimerClear();\n        playerInstance.onVpaidEnded();\n    };\n\n    // Callback for AdUserClose\n    playerInstance.onSkipVpaidAd = () => {\n        playerInstance.debugMessage(\"Ad was skipped\");\n\n        playerInstance.vpaidTimeoutTimerClear();\n        playerInstance.onVpaidEnded();\n    };\n\n    // Passthrough for skipAd\n    playerInstance.skipVpaidAd = () => {\n        playerInstance.vpaidTimeoutTimerStart();\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        playerInstance.vpaidAdUnit.skipAd()\n        playerInstance.vpaidTimeoutTimerClear();\n        playerInstance.onVpaidEnded();\n    };\n\n    // Passthrough for setAdVolume\n    playerInstance.setVpaidAdVolume = (val) => {\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        playerInstance.vpaidAdUnit.setAdVolume(val);\n    };\n\n    // Passthrough for getAdVolume\n    playerInstance.getVpaidAdVolume = () => {\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        return playerInstance.vpaidAdUnit.getAdVolume();\n    };\n\n    // Callback for AdVolumeChange\n    playerInstance.onVpaidAdVolumeChange = () => {\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        playerInstance.debugMessage(\"Ad Volume has changed to - \" + playerInstance.vpaidAdUnit.getAdVolume());\n    };\n\n    playerInstance.resizeVpaidAuto = () => {\n        if (playerInstance.vastOptions !== null && playerInstance.vastOptions.vpaid && playerInstance.vastOptions.linear) {\n            const adWidth = playerInstance.domRef.player.offsetWidth;\n            const adHeight = playerInstance.domRef.player.offsetHeight;\n            const mode = (playerInstance.fullscreenMode ? 'fullscreen' : 'normal');\n            playerInstance.resizeVpaidAd(adWidth, adHeight, mode);\n        }\n    };\n\n    //Passthrough for resizeAd\n    playerInstance.resizeVpaidAd = (width, height, viewMode) => {\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        playerInstance.vpaidAdUnit.resizeAd(width, height, viewMode);\n    };\n\n    // Passthrough for pauseAd()\n    playerInstance.pauseVpaidAd = () => {\n        playerInstance.vpaidTimeoutTimerStart();\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        playerInstance.vpaidAdUnit.pauseAd();\n    };\n\n    // Passthrough for resumeAd()\n    playerInstance.resumeVpaidAd = () => {\n        playerInstance.vpaidTimeoutTimerStart();\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        playerInstance.vpaidAdUnit.resumeAd();\n    };\n\n    //Passthrough for expandAd()\n    playerInstance.expandVpaidAd = () => {\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        playerInstance.vpaidAdUnit.expandAd();\n    };\n\n    //Passthrough for collapseAd()\n    playerInstance.collapseVpaidAd = () => {\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        playerInstance.vpaidAdUnit.collapseAd();\n    };\n\n    playerInstance.vpaidTimeoutTimerClear = () => {\n        if (playerInstance.vpaidTimer) {\n            clearTimeout(playerInstance.vpaidTimer);\n        }\n    };\n\n    // placeholder for timer function\n    playerInstance.vpaidTimeoutTimerStart = () => {\n        // clear previous timer if any\n        playerInstance.vpaidTimeoutTimerClear();\n        playerInstance.vpaidTimer = setTimeout(function () {\n            playerInstance.announceLocalError('901');\n            playerInstance.onVpaidEnded();\n        }, playerInstance.displayOptions.vastOptions.vpaidTimeout);\n    };\n\n    playerInstance.vpaidCallbackListenersAttach = () => {\n        //The key of the object is the event name and the value is a reference to the callback function that is registered with the creative\n        // Looping through the object and registering each of the callbacks with the creative\n        for (let eventName in callbacks) {\n            playerInstance.vpaidAdUnit.subscribe(callbacks[eventName](), eventName, playerInstance);\n        }\n    };\n\n    playerInstance.vpaidCallbackListenersDetach = () => {\n        if (!playerInstance.vpaidAdUnit) {\n            return;\n        }\n        for (let eventName in callbacks) {\n            playerInstance.vpaidAdUnit.unsubscribe(callbacks[eventName](), eventName, playerInstance);\n        }\n    };\n\n    playerInstance.loadVpaid = (adListId, vpaidJsUrl) => {\n        const vpaidIframe = document.createElement('iframe');\n        vpaidIframe.id = playerInstance.videoPlayerId + \"_\" + adListId + \"_fluid_vpaid_iframe\";\n        vpaidIframe.className = 'fluid_vpaid_iframe';\n        vpaidIframe.setAttribute('adListId', adListId);\n        vpaidIframe.setAttribute('frameborder', '0');\n\n        playerInstance.domRef.player.parentNode.insertBefore(vpaidIframe, playerInstance.domRef.player.nextSibling);\n\n        vpaidIframe.contentWindow.document.write('<script src=\"' + vpaidJsUrl + '\"></scr' + 'ipt>');\n\n        // set interval with timeout\n        playerInstance.tempVpaidCounter = 0;\n        playerInstance.getVPAIDAdInterval = setInterval(function () {\n\n            const fn = vpaidIframe.contentWindow['getVPAIDAd'];\n\n            // check if JS is loaded fully in iframe\n            if (fn && typeof fn == 'function') {\n\n                if (playerInstance.vpaidAdUnit) {\n                    playerInstance.hardStopVpaidAd(adListId);\n                }\n\n                playerInstance.vpaidAdUnit = fn();\n                clearInterval(playerInstance.getVPAIDAdInterval);\n                if (playerInstance.checkVPAIDInterface(playerInstance.vpaidAdUnit)) {\n\n                    if (playerInstance.getVpaidAdLinear()) {\n                        playerInstance.isCurrentlyPlayingAd = true;\n                        playerInstance.switchPlayerToVpaidMode(adListId);\n                    } else {\n                        playerInstance.debugMessage('non linear vpaid ad is loaded');\n                        playerInstance.loadVpaidNonlinearAssets(adListId);\n                    }\n\n                }\n\n            } else {\n\n                // video player will wait for 2seconds if vpaid is not loaded, then it will declare vast error and move ahead\n                playerInstance.tempVpaidCounter++;\n                if (playerInstance.tempVpaidCounter >= 20) {\n                    clearInterval(playerInstance.getVPAIDAdInterval);\n                    playerInstance.adList[adListId].error = true;\n                    playerInstance.playMainVideoWhenVpaidFails(403);\n                    return false;\n                } else {\n                    playerInstance.debugMessage(playerInstance.tempVpaidCounter);\n                }\n\n            }\n\n        }, 100);\n\n    };\n\n    playerInstance.onVpaidEnded = (event) => {\n        if (event) {\n            event.stopImmediatePropagation();\n        }\n\n        const vpaidSlot = document.getElementById(playerInstance.videoPlayerId + \"_fluid_vpaid_slot\");\n\n        playerInstance.vpaidCallbackListenersDetach();\n\n        playerInstance.vpaidAdUnit = null;\n        clearInterval(playerInstance.getVPAIDAdInterval);\n\n        if (!!vpaidSlot) {\n            vpaidSlot.remove();\n        }\n\n        playerInstance.checkForNextAd();\n    };\n\n    playerInstance.playMainVideoWhenVpaidFails = (errorCode) => {\n        const vpaidSlot = document.getElementById(playerInstance.videoPlayerId + \"_fluid_vpaid_slot\");\n\n        if (vpaidSlot) {\n            vpaidSlot.remove();\n        }\n\n        clearInterval(playerInstance.getVPAIDAdInterval);\n        playerInstance.playMainVideoWhenVastFails(errorCode);\n    };\n\n    // TODO: ???\n    playerInstance.switchPlayerToVpaidMode = () => {\n    };\n}\n","// VAST support module\n'use strict';\nexport default function (playerInstance, options) {\n    playerInstance.getClickThroughUrlFromLinear = (linear) => {\n        const videoClicks = linear.getElementsByTagName('VideoClicks');\n\n        if (videoClicks.length) { //There should be exactly 1 node\n            const clickThroughs = videoClicks[0].getElementsByTagName('ClickThrough');\n\n            if (clickThroughs.length) {\n                return playerInstance.extractNodeData(clickThroughs[0]);\n            }\n        }\n\n        return false;\n    };\n\n    playerInstance.getVastAdTagUriFromWrapper = (xmlResponse) => {\n        const wrapper = xmlResponse.getElementsByTagName('Wrapper');\n\n        if (typeof wrapper !== 'undefined' && wrapper.length) {\n            const vastAdTagURI = wrapper[0].getElementsByTagName('VASTAdTagURI');\n\n            if (vastAdTagURI.length) {\n                return playerInstance.extractNodeData(vastAdTagURI[0]);\n            }\n        }\n\n        return false;\n    };\n\n    playerInstance.hasInLine = (xmlResponse) => {\n        const inLine = xmlResponse.getElementsByTagName('InLine');\n        return ((typeof inLine !== 'undefined') && inLine.length);\n    };\n\n    playerInstance.hasVastAdTagUri = (xmlResponse) => {\n        const vastAdTagURI = xmlResponse.getElementsByTagName('VASTAdTagURI');\n        return ((typeof vastAdTagURI !== 'undefined') && vastAdTagURI.length);\n    };\n\n    playerInstance.getClickThroughUrlFromNonLinear = (nonLinear) => {\n        let result = '';\n        const nonLinears = nonLinear.getElementsByTagName('NonLinear');\n\n        if (nonLinears.length) {//There should be exactly 1 node\n            const nonLinearClickThrough = nonLinear.getElementsByTagName('NonLinearClickThrough');\n            if (nonLinearClickThrough.length) {\n                result = playerInstance.extractNodeData(nonLinearClickThrough[0]);\n            }\n        }\n\n        return result;\n    };\n\n    playerInstance.getTrackingFromLinear = (linear) => {\n        const trackingEvents = linear.getElementsByTagName('TrackingEvents');\n\n        if (trackingEvents.length) {//There should be no more than one node\n            return trackingEvents[0].getElementsByTagName('Tracking');\n        }\n\n        return [];\n    };\n\n    playerInstance.getDurationFromLinear = (linear) => {\n        const duration = linear.getElementsByTagName('Duration');\n\n        if (duration.length && (typeof duration[0].childNodes[0] !== 'undefined')) {\n            const nodeDuration = playerInstance.extractNodeData(duration[0]);\n            return playerInstance.convertTimeStringToSeconds(nodeDuration);\n        }\n\n        return false;\n    };\n\n    playerInstance.getDurationFromNonLinear = (tag) => {\n        let result = 0;\n        const nonLinear = tag.getElementsByTagName('NonLinear');\n        if (nonLinear.length && (typeof nonLinear[0].getAttribute('minSuggestedDuration') !== 'undefined')) {\n            result = playerInstance.convertTimeStringToSeconds(nonLinear[0].getAttribute('minSuggestedDuration'));\n        }\n        return result;\n    };\n\n    playerInstance.getDimensionFromNonLinear = (tag) => {\n        const result = {'width': null, 'height': null};\n        const nonLinear = tag.getElementsByTagName('NonLinear');\n\n        if (nonLinear.length) {\n            if (typeof nonLinear[0].getAttribute('width') !== 'undefined') {\n                result.width = nonLinear[0].getAttribute('width');\n            }\n            if (typeof nonLinear[0].getAttribute('height') !== 'undefined') {\n                result.height = nonLinear[0].getAttribute('height');\n            }\n        }\n\n        return result;\n    };\n\n    playerInstance.getCreativeTypeFromStaticResources = (tag) => {\n        let result = '';\n        const nonLinears = tag.getElementsByTagName('NonLinear');\n\n        if (nonLinears.length && (typeof nonLinears[0].childNodes[0] !== 'undefined')) {//There should be exactly 1 StaticResource node\n            result = nonLinears[0].getElementsByTagName('StaticResource')[0].getAttribute('creativeType');\n        }\n\n        return result.toLowerCase();\n    };\n\n    playerInstance.getMediaFilesFromLinear = (linear) => {\n        const mediaFiles = linear.getElementsByTagName('MediaFiles');\n\n        if (mediaFiles.length) {//There should be exactly 1 MediaFiles node\n            return mediaFiles[0].getElementsByTagName('MediaFile');\n        }\n\n        return [];\n    };\n\n    playerInstance.getStaticResourcesFromNonLinear = (linear) => {\n        let result = [];\n        const nonLinears = linear.getElementsByTagName('NonLinear');\n\n        if (nonLinears.length) {//There should be exactly 1 StaticResource node\n            result = nonLinears[0].getElementsByTagName('StaticResource');\n        }\n\n        return result;\n    };\n\n    playerInstance.extractNodeData = (parentNode) => {\n        let contentAsString = \"\";\n        for (let n = 0; n < parentNode.childNodes.length; n++) {\n            const child = parentNode.childNodes[n];\n            if (child.nodeType === 8 || (child.nodeType === 3 && /^\\s*$/.test(child.nodeValue))) {\n                // Comments or text with no content\n            } else {\n                contentAsString += child.nodeValue;\n            }\n        }\n        return contentAsString.replace(/(^\\s+|\\s+$)/g, '');\n    };\n\n    playerInstance.getAdParametersFromLinear = (linear) => {\n        const adParameters = linear.getElementsByTagName('AdParameters');\n        let adParametersData = null;\n\n        if (adParameters.length) {\n            adParametersData = playerInstance.extractNodeData(adParameters[0]);\n        }\n\n        return adParametersData;\n    };\n\n    playerInstance.getMediaFileListFromLinear = (linear) => {\n        const mediaFileList = [];\n        const mediaFiles = playerInstance.getMediaFilesFromLinear(linear);\n\n        if (!mediaFiles.length) {\n            return mediaFileList;\n        }\n\n        for (let n = 0; n < mediaFiles.length; n++) {\n            let mediaType = mediaFiles[n].getAttribute('mediaType');\n\n            if (!mediaType) {\n                // if there is no mediaType attribute then the video is 2D\n                mediaType = '2D';\n            }\n\n            // get all the attributes of media file\n            mediaFileList.push({\n                'src': playerInstance.extractNodeData(mediaFiles[n]),\n                'type': mediaFiles[n].getAttribute('type'),\n                'apiFramework': mediaFiles[n].getAttribute('apiFramework'),\n                'codec': mediaFiles[n].getAttribute('codec'),\n                'id': mediaFiles[n].getAttribute('codec'),\n                'fileSize': mediaFiles[n].getAttribute('fileSize'),\n                'delivery': mediaFiles[n].getAttribute('delivery'),\n                'width': mediaFiles[n].getAttribute('width'),\n                'height': mediaFiles[n].getAttribute('height'),\n                'mediaType': mediaType.toLowerCase()\n            });\n\n        }\n\n        return mediaFileList;\n    };\n\n    playerInstance.getIconClickThroughFromLinear = (linear) => {\n        const iconClickThrough = linear.getElementsByTagName('IconClickThrough');\n\n        if (iconClickThrough.length) {\n            return playerInstance.extractNodeData(iconClickThrough[0]);\n        }\n\n        return '';\n    };\n\n    playerInstance.getStaticResourceFromNonLinear = (linear) => {\n        let fallbackStaticResource;\n        const staticResources = playerInstance.getStaticResourcesFromNonLinear(linear);\n\n        for (let i = 0; i < staticResources.length; i++) {\n            if (!staticResources[i].getAttribute('type')) {\n                fallbackStaticResource = playerInstance.extractNodeData(staticResources[i]);\n            }\n\n            if (staticResources[i].getAttribute('type') === playerInstance.displayOptions.staticResource) {\n                return playerInstance.extractNodeData(staticResources[i]);\n            }\n        }\n\n        return fallbackStaticResource;\n    };\n\n    playerInstance.registerTrackingEvents = (creativeLinear, tmpOptions) => {\n        const trackingEvents = playerInstance.getTrackingFromLinear(creativeLinear);\n        let eventType = '';\n        let oneEventOffset = 0;\n\n        for (let i = 0; i < trackingEvents.length; i++) {\n            eventType = trackingEvents[i].getAttribute('event');\n\n            switch (eventType) {\n                case 'start':\n                case 'firstQuartile':\n                case 'midpoint':\n                case 'thirdQuartile':\n                case 'complete':\n                    if (typeof tmpOptions.tracking[eventType] === 'undefined') {\n                        tmpOptions.tracking[eventType] = [];\n                    }\n\n                    if (typeof tmpOptions.stopTracking[eventType] === 'undefined') {\n                        tmpOptions.stopTracking[eventType] = [];\n                    }\n                    tmpOptions.tracking[eventType].push(trackingEvents[i].childNodes[0].nodeValue);\n                    tmpOptions.stopTracking[eventType] = false;\n\n                    break;\n\n                case 'progress':\n                    if (typeof tmpOptions.tracking[eventType] === 'undefined') {\n                        tmpOptions.tracking[eventType] = [];\n                    }\n\n                    oneEventOffset = playerInstance.convertTimeStringToSeconds(trackingEvents[i].getAttribute('offset'));\n\n                    if (typeof tmpOptions.tracking[eventType][oneEventOffset] === 'undefined') {\n                        tmpOptions.tracking[eventType][oneEventOffset] = {\n                            elements: [],\n                            stopTracking: false\n                        };\n                    }\n\n                    tmpOptions.tracking[eventType][oneEventOffset].elements.push(trackingEvents[i].childNodes[0].nodeValue);\n\n                    break;\n\n                default:\n                    break;\n            }\n        }\n    };\n\n    playerInstance.registerClickTracking = (clickTrackingTag, tmpOptions) => {\n        if (!clickTrackingTag || !clickTrackingTag.length) {\n            return;\n        }\n\n        for (let i = 0; i < clickTrackingTag.length; i++) {\n            if (clickTrackingTag[i] === '') {\n                continue;\n            }\n\n            tmpOptions.clicktracking.push(clickTrackingTag[i]);\n        }\n\n    };\n\n    playerInstance.registerImpressionEvents = (impressionTags, tmpOptions) => {\n        if (!impressionTags.length) {\n            return;\n        }\n\n        for (let i = 0; i < impressionTags.length; i++) {\n            const impressionEvent = playerInstance.extractNodeData(impressionTags[i]);\n            tmpOptions.impression.push(impressionEvent);\n        }\n    };\n\n    playerInstance.registerErrorEvents = (errorTags, tmpOptions) => {\n        if ((typeof errorTags !== 'undefined') &&\n            (errorTags !== null) &&\n            (errorTags.length === 1) && //Only 1 Error tag is expected\n            (errorTags[0].childNodes.length === 1)) {\n            tmpOptions.errorUrl = errorTags[0].childNodes[0].nodeValue;\n        }\n    };\n\n    playerInstance.announceError = (code) => {\n        if (typeof playerInstance.vastOptions.errorUrl === 'undefined' || !playerInstance.vastOptions.errorUrl) {\n            return;\n        }\n\n        const parsedCode = typeof code !== 'undefined' ? parseInt(code) : 900;\n        const errorUrl = playerInstance.vastOptions.errorUrl.replace('[ERRORCODE]', parsedCode);\n\n        //Send the error request\n        playerInstance.callUris([errorUrl]);\n    };\n\n    playerInstance.getClickTrackingEvents = (linear) => {\n        const result = [];\n\n        const videoClicks = linear.getElementsByTagName('VideoClicks');\n\n        //There should be exactly 1 node\n        if (!videoClicks.length) {\n            return;\n        }\n\n        const clickTracking = videoClicks[0].getElementsByTagName('ClickTracking');\n\n        if (!clickTracking.length) {\n            return;\n        }\n\n        for (let i = 0; i < clickTracking.length; i++) {\n            const clickTrackingEvent = playerInstance.extractNodeData(clickTracking[i]);\n            result.push(clickTrackingEvent);\n        }\n\n        return result;\n    };\n\n    playerInstance.getNonLinearClickTrackingEvents = (nonLinear) => {\n        const result = [];\n        const nonLinears = nonLinear.getElementsByTagName('NonLinear');\n\n        if (!nonLinears.length) {\n            return;\n        }\n\n        const clickTracking = nonLinear.getElementsByTagName('NonLinearClickTracking');\n\n        if (!clickTracking.length) {\n            return;\n        }\n\n        for (let i = 0; i < clickTracking.length; i++) {\n            const NonLinearClickTracking = playerInstance.extractNodeData(clickTracking[i]);\n            result.push(NonLinearClickTracking);\n        }\n\n        return result;\n    };\n\n    // TODO: ???\n    playerInstance.callUris = (uris) => {\n        for (let i = 0; i < uris.length; i++) {\n            new Image().src = uris[i];\n        }\n    };\n\n    playerInstance.recalculateAdDimensions = () => {\n        const videoPlayer = document.getElementById(playerInstance.videoPlayerId);\n        const divClickThrough = document.getElementById('vast_clickthrough_layer_' + playerInstance.videoPlayerId);\n\n        if (divClickThrough) {\n            divClickThrough.style.width = videoPlayer.offsetWidth + 'px';\n            divClickThrough.style.height = videoPlayer.offsetHeight + 'px';\n        }\n\n        const requestFullscreenFunctionNames = playerInstance.checkFullscreenSupport('fluid_video_wrapper_' + playerInstance.videoPlayerId);\n        const fullscreenButton = document.getElementById(playerInstance.videoPlayerId + '_fluid_control_fullscreen');\n        const menuOptionFullscreen = document.getElementById(playerInstance.videoPlayerId + 'context_option_fullscreen');\n\n        if (requestFullscreenFunctionNames) {\n            // this will go other way around because we already exited full screen\n            if (document[requestFullscreenFunctionNames.isFullscreen] === null) {\n                // Exit fullscreen\n                playerInstance.fullscreenOff(fullscreenButton, menuOptionFullscreen);\n            } else {\n                // Go fullscreen\n                playerInstance.fullscreenOn(fullscreenButton, menuOptionFullscreen);\n            }\n        } else {\n            // TODO: I am fairly certain this fallback does not work...\n            //The browser does not support the Fullscreen API, so a pseudo-fullscreen implementation is used\n            const fullscreenTag = document.getElementById('fluid_video_wrapper_' + playerInstance.videoPlayerId);\n\n            if (fullscreenTag.className.search(/\\bpseudo_fullscreen\\b/g) !== -1) {\n                fullscreenTag.className += ' pseudo_fullscreen';\n                playerInstance.fullscreenOn(fullscreenButton, menuOptionFullscreen);\n            } else {\n                fullscreenTag.className = fullscreenTag.className.replace(/\\bpseudo_fullscreen\\b/g, '');\n                playerInstance.fullscreenOff(fullscreenButton, menuOptionFullscreen);\n            }\n        }\n    };\n\n    playerInstance.prepareVast = (roll) => {\n        let list = playerInstance.findRoll(roll);\n\n        for (let i = 0; i < list.length; i++) {\n            const adListId = list[i];\n\n            if (!(playerInstance.adList[adListId].vastLoaded !== true && playerInstance.adList[adListId].error !== true)) {\n                continue;\n            }\n\n            playerInstance.processVastWithRetries(playerInstance.adList[adListId]);\n            playerInstance.domRef.player.addEventListener('adId_' + adListId, playerInstance[roll]);\n        }\n    };\n\n\n    playerInstance.playMainVideoWhenVastFails = (errorCode) => {\n        playerInstance.debugMessage('playMainVideoWhenVastFails called');\n        playerInstance.domRef.player.removeEventListener('loadedmetadata', playerInstance.switchPlayerToVastMode);\n        playerInstance.domRef.player.pause();\n        playerInstance.toggleLoader(false);\n        playerInstance.displayOptions.vastOptions.vastAdvanced.noVastVideoCallback();\n\n        if (!playerInstance.vastOptions || typeof playerInstance.vastOptions.errorUrl === 'undefined') {\n            playerInstance.announceLocalError(errorCode);\n        } else {\n            playerInstance.announceError(errorCode);\n        }\n\n        playerInstance.switchToMainVideo();\n    };\n\n    // TODO: ???\n    playerInstance.switchPlayerToVastMode = () => {\n    };\n\n    /**\n     * Process the XML response\n     *\n     * @param xmlResponse\n     * @param tmpOptions\n     * @param callBack\n     */\n    playerInstance.processVastXml = (xmlResponse, tmpOptions, callBack) => {\n        let clickTracks;\n\n        if (!xmlResponse) {\n            callBack(false);\n            return;\n        }\n\n        //Get impression tag\n        const impression = xmlResponse.getElementsByTagName('Impression');\n        if (impression !== null) {\n            playerInstance.registerImpressionEvents(impression, tmpOptions);\n        }\n\n        //Get the error tag, if any\n        const errorTags = xmlResponse.getElementsByTagName('Error');\n        if (errorTags !== null) {\n            playerInstance.registerErrorEvents(errorTags, tmpOptions);\n        }\n\n        //Get Creative\n        const creative = xmlResponse.getElementsByTagName('Creative');\n\n        //Currently only 1 creative and 1 linear is supported\n        if ((typeof creative !== 'undefined') && creative.length) {\n            const arrayCreativeLinears = creative[0].getElementsByTagName('Linear');\n\n            if ((typeof arrayCreativeLinears !== 'undefined') && (arrayCreativeLinears !== null) && arrayCreativeLinears.length) {\n\n                const creativeLinear = arrayCreativeLinears[0];\n                playerInstance.registerTrackingEvents(creativeLinear, tmpOptions);\n\n                clickTracks = playerInstance.getClickTrackingEvents(creativeLinear);\n                playerInstance.registerClickTracking(clickTracks, tmpOptions);\n\n                //Extract the Ad data if it is actually the Ad (!wrapper)\n                if (!playerInstance.hasVastAdTagUri(xmlResponse) && playerInstance.hasInLine(xmlResponse)) {\n\n                    //Set initial values\n                    tmpOptions.adFinished = false;\n                    tmpOptions.adType = 'linear';\n                    tmpOptions.vpaid = false;\n\n                    //Extract the necessary data from the Linear node\n                    tmpOptions.skipoffset = playerInstance.convertTimeStringToSeconds(creativeLinear.getAttribute('skipoffset'));\n                    tmpOptions.clickthroughUrl = playerInstance.getClickThroughUrlFromLinear(creativeLinear);\n                    tmpOptions.duration = playerInstance.getDurationFromLinear(creativeLinear);\n                    tmpOptions.mediaFileList = playerInstance.getMediaFileListFromLinear(creativeLinear);\n                    tmpOptions.adParameters = playerInstance.getAdParametersFromLinear(creativeLinear);\n                    tmpOptions.iconClick = playerInstance.getIconClickThroughFromLinear(creativeLinear);\n\n                    if (tmpOptions.adParameters) {\n                        tmpOptions.vpaid = true;\n                    }\n                }\n            }\n\n            const arrayCreativeNonLinears = creative[0].getElementsByTagName('NonLinearAds');\n\n            if ((typeof arrayCreativeNonLinears !== 'undefined') && (arrayCreativeNonLinears !== null) && arrayCreativeNonLinears.length) {\n\n                const creativeNonLinear = arrayCreativeNonLinears[0];\n                playerInstance.registerTrackingEvents(creativeNonLinear, tmpOptions);\n\n                clickTracks = playerInstance.getNonLinearClickTrackingEvents(creativeNonLinear);\n                playerInstance.registerClickTracking(clickTracks, tmpOptions);\n\n                //Extract the Ad data if it is actually the Ad (!wrapper)\n                if (!playerInstance.hasVastAdTagUri(xmlResponse) && playerInstance.hasInLine(xmlResponse)) {\n\n                    //Set initial values\n                    tmpOptions.adType = 'nonLinear';\n                    tmpOptions.vpaid = false;\n\n                    //Extract the necessary data from the NonLinear node\n                    tmpOptions.clickthroughUrl = playerInstance.getClickThroughUrlFromNonLinear(creativeNonLinear);\n                    tmpOptions.duration = playerInstance.getDurationFromNonLinear(creativeNonLinear); // VAST version < 4.0\n                    tmpOptions.dimension = playerInstance.getDimensionFromNonLinear(creativeNonLinear); // VAST version < 4.0\n                    tmpOptions.staticResource = playerInstance.getStaticResourceFromNonLinear(creativeNonLinear);\n                    tmpOptions.creativeType = playerInstance.getCreativeTypeFromStaticResources(creativeNonLinear);\n                    tmpOptions.adParameters = playerInstance.getAdParametersFromLinear(creativeNonLinear);\n\n                    if (tmpOptions.adParameters) {\n                        tmpOptions.vpaid = true;\n                    }\n\n                }\n            }\n\n            //Extract the Ad data if it is actually the Ad (!wrapper)\n            if (!playerInstance.hasVastAdTagUri(xmlResponse) && playerInstance.hasInLine(xmlResponse)) {\n                if (typeof tmpOptions.mediaFileList !== 'undefined' || typeof tmpOptions.staticResource !== 'undefined') {\n                    callBack(true, tmpOptions);\n                } else {\n                    callBack(false);\n                }\n            }\n        } else {\n            callBack(false);\n        }\n    };\n\n    /**\n     * Parse the VAST Tag\n     *\n     * @param vastTag\n     * @param adListId\n     */\n\n    playerInstance.processVastWithRetries = (vastObj) => {\n        let vastTag = vastObj.vastTag;\n        const adListId = vastObj.id;\n\n        const handleVastResult = function (pass, tmpOptions) {\n            if (pass && typeof tmpOptions !== 'undefined' && tmpOptions.vpaid && !playerInstance.displayOptions.vastOptions.allowVPAID) {\n                pass = false;\n                playerInstance.announceLocalError('103', 'VPAID not allowed, so skipping this VAST tag.')\n            }\n\n            if (pass) {\n                // ok\n                if (tmpOptions.adType === 'linear') {\n\n                    if ((typeof tmpOptions.iconClick !== 'undefined') && (tmpOptions.iconClick !== null) && tmpOptions.iconClick.length) {\n                        playerInstance.adList[adListId].landingPage = tmpOptions.iconClick;\n                    }\n\n                    const selectedMediaFile = playerInstance.getSupportedMediaFileObject(tmpOptions.mediaFileList);\n                    if (selectedMediaFile) {\n                        playerInstance.adList[adListId].mediaType = selectedMediaFile.mediaType;\n                    }\n\n                }\n\n                playerInstance.adList[adListId].adType = tmpOptions.adType ? tmpOptions.adType : 'unknown';\n                playerInstance.adList[adListId].vastLoaded = true;\n                playerInstance.adPool[adListId] = Object.assign({}, tmpOptions);\n\n                const event = document.createEvent('Event');\n\n                event.initEvent('adId_' + adListId, false, true);\n                playerInstance.domRef.player.dispatchEvent(event);\n                playerInstance.displayOptions.vastOptions.vastAdvanced.vastLoadedCallback();\n\n                if (playerInstance.hasTitle()) {\n                    const title = document.getElementById(playerInstance.videoPlayerId + '_title');\n                    title.style.display = 'none';\n                }\n\n            } else {\n                // when vast failed\n                playerInstance.announceLocalError('101');\n\n                if (vastObj.hasOwnProperty('fallbackVastTags') && vastObj.fallbackVastTags.length > 0) {\n                    vastTag = vastObj.fallbackVastTags.shift();\n                    playerInstance.processUrl(vastTag, handleVastResult);\n                } else {\n                    if (vastObj.roll === 'preRoll') {\n                        playerInstance.preRollFail(vastObj);\n                    }\n                    playerInstance.adList[adListId].error = true;\n                }\n            }\n        };\n\n        playerInstance.processUrl(vastTag, handleVastResult);\n    };\n\n\n    playerInstance.processUrl = (vastTag, callBack) => {\n        const numberOfRedirects = 0;\n\n        const tmpOptions = {\n            tracking: [],\n            stopTracking: [],\n            impression: [],\n            clicktracking: [],\n            vastLoaded: false\n        };\n\n        playerInstance.resolveVastTag(\n            vastTag,\n            numberOfRedirects,\n            tmpOptions,\n            callBack\n        );\n    };\n\n    playerInstance.resolveVastTag = (vastTag, numberOfRedirects, tmpOptions, callBack) => {\n        if (!vastTag || vastTag === '') {\n            callBack(false);\n            return;\n        }\n\n        const handleXmlHttpReq = function () {\n            const xmlHttpReq = this;\n            let xmlResponse = false;\n\n            if (xmlHttpReq.readyState === 4 && xmlHttpReq.status === 404) {\n                callBack(false);\n                return;\n            }\n\n            if (xmlHttpReq.readyState === 4 && xmlHttpReq.status === 0) {\n                callBack(false); //Most likely that Ad Blocker exists\n                return;\n            }\n\n            if (!((xmlHttpReq.readyState === 4) && (xmlHttpReq.status === 200))) {\n                return;\n            }\n\n            if ((xmlHttpReq.readyState === 4) && (xmlHttpReq.status !== 200)) {\n                callBack(false);\n                return;\n            }\n\n            try {\n                xmlResponse = xmlHttpReq.responseXML;\n            } catch (e) {\n                callBack(false);\n                return;\n            }\n\n            if (!xmlResponse) {\n                callBack(false);\n                return;\n            }\n\n            playerInstance.inLineFound = playerInstance.hasInLine(xmlResponse);\n\n            if (!playerInstance.inLineFound && playerInstance.hasVastAdTagUri(xmlResponse)) {\n\n                const vastAdTagUri = playerInstance.getVastAdTagUriFromWrapper(xmlResponse);\n                if (vastAdTagUri) {\n                    playerInstance.resolveVastTag(vastAdTagUri, numberOfRedirects, tmpOptions, callBack);\n                } else {\n                    callBack(false);\n                    return;\n                }\n            }\n\n            if (numberOfRedirects > playerInstance.displayOptions.vastOptions.maxAllowedVastTagRedirects && !playerInstance.inLineFound) {\n                callBack(false);\n                return;\n            }\n\n            playerInstance.processVastXml(xmlResponse, tmpOptions, callBack);\n        };\n\n        if (numberOfRedirects <= playerInstance.displayOptions.vastOptions.maxAllowedVastTagRedirects) {\n\n            playerInstance.sendRequest(\n                vastTag,\n                true,\n                playerInstance.displayOptions.vastOptions.vastTimeout,\n                handleXmlHttpReq\n            );\n        }\n\n        numberOfRedirects++;\n    };\n\n    playerInstance.setVastList = () => {\n        const ads = {};\n        const adGroupedByRolls = {preRoll: [], postRoll: [], midRoll: [], onPauseRoll: []};\n        const def = {\n            id: null,\n            roll: null,\n            played: false,\n            vastLoaded: false,\n            error: false,\n            adText: null,\n            adTextPosition: null\n        };\n        let idPart = 0;\n\n        const validateVastList = function (item) {\n            let hasError = false;\n\n            if (item.roll === 'midRoll') {\n                if (typeof item.timer === 'undefined') {\n                    hasError = true;\n                }\n            }\n\n            return hasError;\n        };\n\n        const validateRequiredParams = function (item) {\n            let hasError = false;\n\n            if (!item.vastTag) {\n                playerInstance.announceLocalError(102, '\"vastTag\" property is missing from adList.');\n                hasError = true;\n            }\n\n            if (!item.roll) {\n                playerInstance.announceLocalError(102, '\"roll\" is missing from adList.');\n                hasError = true;\n            }\n\n            if (playerInstance.availableRolls.indexOf(item.roll) === -1) {\n                playerInstance.announceLocalError(102, 'Only ' + playerInstance.availableRolls.join(',') + ' rolls are supported.');\n                hasError = true;\n            }\n\n            if (item.size && playerInstance.supportedNonLinearAd.indexOf(item.size) === -1) {\n                playerInstance.announceLocalError(102, 'Only ' + playerInstance.supportedNonLinearAd.join(',') + ' size are supported.');\n                hasError = true;\n            }\n\n            return hasError;\n        };\n\n        if (playerInstance.displayOptions.vastOptions.hasOwnProperty('adList')) {\n\n            for (let key in playerInstance.displayOptions.vastOptions.adList) {\n\n                let adItem = playerInstance.displayOptions.vastOptions.adList[key];\n\n                if (validateRequiredParams(adItem)) {\n                    playerInstance.announceLocalError(102, 'Wrong adList parameters.');\n                    continue;\n                }\n                const id = 'ID' + idPart;\n\n                ads[id] = Object.assign({}, def);\n                ads[id] = Object.assign(ads[id], playerInstance.displayOptions.vastOptions.adList[key]);\n                if (adItem.roll == 'midRoll') {\n                    ads[id].error = validateVastList('midRoll', adItem);\n                }\n                ads[id].id = id;\n                idPart++;\n\n            }\n        }\n\n        // group the ads by roll\n        // pushing object references and forming json\n        Object.keys(ads).map(function (e) {\n            if (ads[e].roll.toLowerCase() === 'preRoll'.toLowerCase()) {\n                adGroupedByRolls.preRoll.push(ads[e]);\n            } else if (ads[e].roll.toLowerCase() === 'midRoll'.toLowerCase()) {\n                adGroupedByRolls.midRoll.push(ads[e]);\n            } else if (ads[e].roll.toLowerCase() === 'postRoll'.toLowerCase()) {\n                adGroupedByRolls.postRoll.push(ads[e]);\n            } else if (ads[e].roll.toLowerCase() === 'onPauseRoll'.toLowerCase()) {\n                adGroupedByRolls.onPauseRoll.push(ads[e]);\n            }\n        });\n\n        playerInstance.adGroupedByRolls = adGroupedByRolls;\n        playerInstance.adList = ads;\n    };\n\n    playerInstance.onVastAdEnded = (event) => {\n        if (event) {\n            event.stopImmediatePropagation();\n        }\n        //\"this\" is the HTML5 video tag, because it disptches the \"ended\" event\n        playerInstance.deleteVastAdElements();\n        playerInstance.checkForNextAd();\n    };\n\n    playerInstance.vastLogoBehaviour = (vastPlaying) => {\n        if (!playerInstance.displayOptions.layoutControls.logo.showOverAds) {\n            const logoHolder = document.getElementById(playerInstance.videoPlayerId + '_logo');\n            const logoImage = document.getElementById(playerInstance.videoPlayerId + '_logo_image');\n\n            if (!logoHolder || !logoImage) {\n                return;\n            }\n\n            logoHolder.style.display = vastPlaying ? 'none' : 'inline';\n        }\n    };\n\n    playerInstance.deleteVastAdElements = () => {\n        playerInstance.removeClickthrough();\n        playerInstance.removeSkipButton();\n        playerInstance.removeAdCountdown();\n        playerInstance.removeAdPlayingText();\n        playerInstance.removeCTAButton();\n        playerInstance.vastLogoBehaviour(false);\n    };\n}\n","'use strict';\nexport default function (playerInstance, options) {\n    playerInstance.createCardboardJoystickButton = (identity) => {\n        const vrJoystickPanel = document.getElementById(playerInstance.videoPlayerId + '_fluid_vr_joystick_panel');\n        const joystickButton = document.createElement('div');\n\n        joystickButton.id = playerInstance.videoPlayerId + '_fluid_vr_joystick_' + identity;\n        joystickButton.className = 'fluid_vr_button fluid_vr_joystick_' + identity;\n        vrJoystickPanel.appendChild(joystickButton);\n\n        return joystickButton;\n    };\n\n    playerInstance.cardboardRotateLeftRight = (param /* 0 - right, 1 - left */) => {\n        const go = playerInstance.vrROTATION_POSITION;\n        const back = -playerInstance.vrROTATION_POSITION;\n        const pos = param < 1 ? go : back;\n        const easing = {val: pos};\n        const tween = new TWEEN.Tween(easing)\n            .to({val: 0}, playerInstance.vrROTATION_SPEED)\n            .easing(TWEEN.Easing.Quadratic.InOut)\n            .onUpdate(function () {\n                playerInstance.vrViewer.OrbitControls.rotateLeft(easing.val)\n            }).start();\n    };\n\n    playerInstance.cardboardRotateUpDown = (param /* 0 - down, 1- up */) => {\n        const go = playerInstance.vrROTATION_POSITION;\n        const back = -playerInstance.vrROTATION_POSITION;\n        const pos = param < 1 ? go : back;\n        const easing = {val: pos};\n        const tween = new TWEEN.Tween(easing)\n            .to({val: 0}, playerInstance.vrROTATION_SPEED)\n            .easing(TWEEN.Easing.Quadratic.InOut)\n            .onUpdate(function () {\n                playerInstance.vrViewer.OrbitControls.rotateUp(easing.val)\n            }).start();\n    };\n\n    playerInstance.createCardboardJoystick = () => {\n        const vrContainer = document.getElementById(playerInstance.videoPlayerId + '_fluid_vr_container');\n\n        // Create a JoyStick and append to VR container\n        const vrJoystickPanel = document.createElement('div');\n        vrJoystickPanel.id = playerInstance.videoPlayerId + '_fluid_vr_joystick_panel';\n        vrJoystickPanel.className = 'fluid_vr_joystick_panel';\n        vrContainer.appendChild(vrJoystickPanel);\n\n        // Create Joystick buttons\n        const upButton = playerInstance.createCardboardJoystickButton('up');\n        const leftButton = playerInstance.createCardboardJoystickButton('left');\n        const rightButton = playerInstance.createCardboardJoystickButton('right');\n        const downButton = playerInstance.createCardboardJoystickButton('down');\n        const zoomDefaultButton = playerInstance.createCardboardJoystickButton('zoomdefault');\n        const zoomInButton = playerInstance.createCardboardJoystickButton('zoomin');\n        const zoomOutButton = playerInstance.createCardboardJoystickButton('zoomout');\n\n        // Camera movement buttons\n        upButton.addEventListener('click', function () {\n            //player.vrViewer.OrbitControls.rotateUp(-0.1);\n            playerInstance.cardboardRotateUpDown(1);\n        });\n\n        downButton.addEventListener('click', function () {\n            //player.vrViewer.OrbitControls.rotateUp(0.1);\n            playerInstance.cardboardRotateUpDown(0);\n        });\n\n        rightButton.addEventListener('click', function () {\n            //player.vrViewer.OrbitControls.rotateLeft(0.1);\n            playerInstance.cardboardRotateLeftRight(0);\n        });\n\n        leftButton.addEventListener('click', function () {\n            //player.vrViewer.OrbitControls.rotateLeft(-0.1);\n            playerInstance.cardboardRotateLeftRight(1);\n        });\n\n        zoomDefaultButton.addEventListener('click', function () {\n            playerInstance.vrViewer.camera.fov = 60;\n            playerInstance.vrViewer.camera.updateProjectionMatrix();\n        });\n\n        // Camera Zoom buttons\n        zoomOutButton.addEventListener('click', function () {\n            playerInstance.vrViewer.camera.fov *= 1.1;\n            playerInstance.vrViewer.camera.updateProjectionMatrix();\n        });\n\n        zoomInButton.addEventListener('click', function () {\n            playerInstance.vrViewer.camera.fov *= 0.9;\n            playerInstance.vrViewer.camera.updateProjectionMatrix();\n        });\n\n    };\n\n    playerInstance.cardBoardResize = () => {\n        playerInstance.domRef.player.addEventListener('theatreModeOn', function () {\n            playerInstance.vrViewer.onWindowResize();\n        });\n\n        playerInstance.domRef.player.addEventListener('theatreModeOff', function () {\n            playerInstance.vrViewer.onWindowResize();\n        });\n    };\n\n    playerInstance.cardBoardSwitchToNormal = () => {\n        const vrJoystickPanel = document.getElementById(playerInstance.videoPlayerId + '_fluid_vr_joystick_panel');\n        const controlBar = document.getElementById(playerInstance.videoPlayerId + '_fluid_controls_container');\n        const videoPlayerTag = playerInstance.domRef.player;\n\n        playerInstance.vrViewer.enableEffect(PANOLENS.MODES.NORMAL);\n        playerInstance.vrViewer.onWindowResize();\n        playerInstance.vrMode = false;\n\n        // remove dual control bar\n        const newControlBar = videoPlayerTag.parentNode.getElementsByClassName('fluid_vr2_controls_container')[0];\n        videoPlayerTag.parentNode.removeChild(newControlBar);\n\n        if (playerInstance.displayOptions.layoutControls.showCardBoardJoystick && vrJoystickPanel) {\n            vrJoystickPanel.style.display = \"block\";\n        }\n        controlBar.classList.remove(\"fluid_vr_controls_container\");\n\n        // show volume control bar\n        const volumeContainer = document.getElementById(playerInstance.videoPlayerId + '_fluid_control_volume_container');\n        volumeContainer.style.display = \"block\";\n\n        // show all ads overlays if any\n        const adCountDownTimerText = document.getElementById('ad_countdown' + playerInstance.videoPlayerId);\n        const ctaButton = document.getElementById(playerInstance.videoPlayerId + '_fluid_cta');\n        const addAdPlayingTextOverlay = document.getElementById(playerInstance.videoPlayerId + '_fluid_ad_playing');\n        const skipBtn = document.getElementById('skip_button_' + playerInstance.videoPlayerId);\n\n        if (adCountDownTimerText) {\n            adCountDownTimerText.style.display = 'block';\n        }\n\n        if (ctaButton) {\n            ctaButton.style.display = 'block';\n        }\n\n        if (addAdPlayingTextOverlay) {\n            addAdPlayingTextOverlay.style.display = 'block';\n        }\n\n        if (skipBtn) {\n            skipBtn.style.display = 'block';\n        }\n    };\n\n    playerInstance.cardBoardHideDefaultControls = () => {\n        const vrJoystickPanel = document.getElementById(playerInstance.videoPlayerId + '_fluid_vr_joystick_panel');\n        const initialPlay = document.getElementById(playerInstance.videoPlayerId + '_fluid_initial_play');\n        const volumeContainer = document.getElementById(playerInstance.videoPlayerId + '_fluid_control_volume_container');\n\n        // hide the joystick in VR mode\n        if (playerInstance.displayOptions.layoutControls.showCardBoardJoystick && vrJoystickPanel) {\n            vrJoystickPanel.style.display = \"none\";\n        }\n\n        // hide big play icon\n        if (initialPlay) {\n            document.getElementById(playerInstance.videoPlayerId + '_fluid_initial_play').style.display = \"none\";\n            document.getElementById(playerInstance.videoPlayerId + '_fluid_initial_play_button').style.opacity = \"1\";\n        }\n\n        // hide volume control bar\n        volumeContainer.style.display = \"none\";\n\n    };\n\n    playerInstance.cardBoardCreateVRControls = () => {\n        const controlBar = document.getElementById(playerInstance.videoPlayerId + '_fluid_controls_container');\n\n        // create and append dual control bar\n        const newControlBar = controlBar.cloneNode(true);\n        newControlBar.removeAttribute('id');\n        newControlBar.querySelectorAll('*').forEach(function (node) {\n            node.removeAttribute('id');\n        });\n\n        newControlBar.classList.add(\"fluid_vr2_controls_container\");\n        playerInstance.domRef.player.parentNode.insertBefore(newControlBar, playerInstance.domRef.player.nextSibling);\n        playerInstance.copyEvents(newControlBar);\n    };\n\n    playerInstance.cardBoardSwitchToVR = () => {\n        const controlBar = document.getElementById(playerInstance.videoPlayerId + '_fluid_controls_container');\n\n        playerInstance.vrViewer.enableEffect(PANOLENS.MODES.CARDBOARD);\n\n        playerInstance.vrViewer.onWindowResize();\n        playerInstance.vrViewer.disableReticleControl();\n\n        playerInstance.vrMode = true;\n\n        controlBar.classList.add(\"fluid_vr_controls_container\");\n\n        playerInstance.cardBoardHideDefaultControls();\n        playerInstance.cardBoardCreateVRControls();\n\n        // hide all ads overlays\n        const adCountDownTimerText = document.getElementById('ad_countdown' + playerInstance.videoPlayerId);\n        const ctaButton = document.getElementById(playerInstance.videoPlayerId + '_fluid_cta');\n        const addAdPlayingTextOverlay = document.getElementById(playerInstance.videoPlayerId + '_fluid_ad_playing');\n        const skipBtn = document.getElementById('skip_button_' + playerInstance.videoPlayerId);\n\n        if (adCountDownTimerText) {\n            adCountDownTimerText.style.display = 'none';\n        }\n\n        if (ctaButton) {\n            ctaButton.style.display = 'none';\n        }\n\n        if (addAdPlayingTextOverlay) {\n            addAdPlayingTextOverlay.style.display = 'none';\n        }\n\n        if (skipBtn) {\n            skipBtn.style.display = 'none';\n        }\n\n    };\n\n    playerInstance.cardBoardMoveTimeInfo = () => {\n        const timePlaceholder = document.getElementById(playerInstance.videoPlayerId + '_fluid_control_duration');\n        const controlBar = document.getElementById(playerInstance.videoPlayerId + '_fluid_controls_container');\n\n        timePlaceholder.classList.add(\"cardboard_time\");\n        controlBar.appendChild(timePlaceholder);\n\n        // override the time display function for this instance\n        playerInstance.controlDurationUpdate = function () {\n\n            const currentPlayTime = playerInstance.formatTime(playerInstance.domRef.player.currentTime);\n            const totalTime = playerInstance.formatTime(playerInstance.currentVideoDuration);\n            const timePlaceholder = playerInstance.domRef.player.parentNode.getElementsByClassName('fluid_control_duration');\n\n            let durationText = '';\n\n            if (playerInstance.isCurrentlyPlayingAd) {\n                durationText = \"<span class='ad_timer_prefix'>AD : </span>\" + currentPlayTime + ' / ' + totalTime;\n\n                for (let i = 0; i < timePlaceholder.length; i++) {\n                    timePlaceholder[i].classList.add(\"ad_timer_prefix\");\n                }\n\n            } else {\n                durationText = currentPlayTime + ' / ' + totalTime;\n\n                for (let i = 0; i < timePlaceholder.length; i++) {\n                    timePlaceholder[i].classList.remove(\"ad_timer_prefix\");\n                }\n            }\n\n            for (let i = 0; i < timePlaceholder.length; i++) {\n                timePlaceholder[i].innerHTML = durationText;\n            }\n        }\n    };\n\n    playerInstance.cardBoardAlterDefaultControls = () => {\n        playerInstance.cardBoardMoveTimeInfo();\n    };\n\n    playerInstance.createCardboardView = () => {\n        // Create a container for 360degree\n        const vrContainer = document.createElement('div');\n        vrContainer.id = playerInstance.videoPlayerId + '_fluid_vr_container';\n        vrContainer.className = 'fluid_vr_container';\n        playerInstance.domRef.player.parentNode.insertBefore(vrContainer, playerInstance.domRef.player.nextSibling);\n\n        // OverRide some conflicting functions from panolens\n        PANOLENS.VideoPanorama.prototype.pauseVideo = function () {\n        };\n        PANOLENS.VideoPanorama.prototype.playVideo = function () {\n        };\n\n        playerInstance.vrPanorama = new PANOLENS.VideoPanorama('', {\n            videoElement: playerInstance.domRef.player,\n            autoplay: playerInstance.displayOptions.layoutControls.autoPlay,\n            loop: !!playerInstance.displayOptions.layoutControls.loop\n        });\n\n        playerInstance.vrViewer = new PANOLENS.Viewer({\n            container: vrContainer,\n            controlBar: true,\n            controlButtons: [],\n            enableReticle: false\n        });\n        playerInstance.vrViewer.add(playerInstance.vrPanorama);\n\n        playerInstance.vrViewer.enableEffect(PANOLENS.MODES.NORMAL);\n        playerInstance.vrViewer.onWindowResize();\n\n        // if Mobile device then enable controls using gyroscope\n        if (playerInstance.getMobileOs().userOs === 'Android' || playerInstance.getMobileOs().userOs === 'iOS') {\n            playerInstance.vrViewer.enableControl(1);\n        }\n\n        // Make Changes for default skin\n        playerInstance.cardBoardAlterDefaultControls();\n\n        // resize on toggle theater mode\n        playerInstance.cardBoardResize();\n\n        // Store initial camera position\n        playerInstance.vrViewer.initialCameraPosition = JSON.parse(JSON.stringify(playerInstance.vrViewer.camera.position));\n\n        if (playerInstance.displayOptions.layoutControls.showCardBoardJoystick) {\n            if (!(playerInstance.getMobileOs().userOs === 'Android' || playerInstance.getMobileOs().userOs === 'iOS')) {\n                playerInstance.createCardboardJoystick();\n            }\n            // Disable zoom if showing joystick\n            playerInstance.vrViewer.OrbitControls.noZoom = true;\n        }\n\n        playerInstance.trackEvent(playerInstance.domRef.player.parentNode, 'click', '.fluid_control_cardboard', function () {\n            if (playerInstance.vrMode) {\n                playerInstance.cardBoardSwitchToNormal();\n            } else {\n                playerInstance.cardBoardSwitchToVR();\n            }\n        });\n    };\n\n    playerInstance.createCardboard = () => {\n        if (!playerInstance.displayOptions.layoutControls.showCardBoardView) {\n            return;\n        }\n\n        document\n            .getElementById(playerInstance.videoPlayerId + '_fluid_control_cardboard')\n            .style\n            .display = 'inline-block';\n\n        if (!window.PANOLENS) {\n            import(/* webpackChunkName: \"panolens\" */ 'panolens').then((it) => {\n                window.PANOLENS = it;\n                playerInstance.createCardboardView();\n            });\n        } else {\n            playerInstance.createCardboardView();\n        }\n    };\n}\n","'use strict';\nexport default function (playerInstance, options) {\n    playerInstance.subtitleFetchParse = (subtitleItem) => {\n        playerInstance.sendRequest(\n            subtitleItem.url,\n            true,\n            playerInstance.displayOptions.vastOptions.vastTimeout,\n            function () {\n                const convertVttRawData = function (vttRawData) {\n                    if (!(\n                        (typeof vttRawData.cues !== 'undefined') &&\n                        (vttRawData.cues.length)\n                    )) {\n                        return [];\n                    }\n\n                    const result = [];\n\n                    for (let i = 0; i < vttRawData.cues.length; i++) {\n                        let tempThumbnailData = vttRawData.cues[i].text.split('#');\n\n                        result.push({\n                            startTime: vttRawData.cues[i].startTime,\n                            endTime: vttRawData.cues[i].endTime,\n                            text: vttRawData.cues[i].text,\n                            cue: vttRawData.cues[i]\n                        })\n                    }\n\n                    return result;\n                };\n\n                const xmlHttpReq = this;\n\n                if ((xmlHttpReq.readyState === 4) && (xmlHttpReq.status !== 200)) {\n                    //The response returned an error.\n                    return;\n                }\n\n                if (!((xmlHttpReq.readyState === 4) && (xmlHttpReq.status === 200))) {\n                    return;\n                }\n\n                const textResponse = xmlHttpReq.responseText;\n\n                const parser = new WebVTT.Parser(window, WebVTT.StringDecoder());\n                const cues = [];\n                const regions = []; // TODO: unused?\n                parser.oncue = function (cue) {\n                    cues.push(cue);\n                };\n                parser.onregion = function (region) {\n                    regions.push(region);\n                };\n                parser.parse(textResponse);\n                parser.flush();\n                playerInstance.subtitlesData = cues;\n\n            }\n        );\n    };\n\n    playerInstance.createSubtitlesSwitch = () => {\n        const subtitlesOff = 'OFF';\n        playerInstance.subtitlesData = [];\n\n        if (!playerInstance.displayOptions.layoutControls.subtitlesEnabled) {\n            // No other video subtitles\n            document.getElementById(playerInstance.videoPlayerId + '_fluid_control_subtitles').style.display = 'none';\n            return;\n        }\n\n        const tracks = [];\n        tracks.push({'label': subtitlesOff, 'url': 'na', 'lang': subtitlesOff});\n\n        const tracksList = playerInstance.domRef.player.querySelectorAll('track');\n\n        [].forEach.call(tracksList, function (track) {\n            if (track.kind === 'metadata' && track.src) {\n                tracks.push({'label': track.label, 'url': track.src, 'lang': track.srclang});\n            }\n        });\n\n        playerInstance.subtitlesTracks = tracks;\n        const subtitlesChangeButton = document.getElementById(playerInstance.videoPlayerId + '_fluid_control_subtitles');\n        subtitlesChangeButton.style.display = 'inline-block';\n        let appendSubtitleChange = false;\n\n        const subtitlesChangeList = document.createElement('div');\n        subtitlesChangeList.id = playerInstance.videoPlayerId + '_fluid_control_subtitles_list';\n        subtitlesChangeList.className = 'fluid_subtitles_list';\n        subtitlesChangeList.style.display = 'none';\n\n        let firstSubtitle = true;\n        playerInstance.subtitlesTracks.forEach(function (subtitle) {\n\n            const subtitleSelected = (firstSubtitle) ? \"subtitle_selected\" : \"\";\n            firstSubtitle = false;\n            const subtitlesChangeDiv = document.createElement('div');\n            subtitlesChangeDiv.id = 'subtitle_' + playerInstance.videoPlayerId + '_' + subtitle.label;\n            subtitlesChangeDiv.className = 'fluid_subtitle_list_item';\n            subtitlesChangeDiv.innerHTML = '<span class=\"subtitle_button_icon ' + subtitleSelected + '\"></span>' + subtitle.label;\n\n            subtitlesChangeDiv.addEventListener('click', function (event) {\n                event.stopPropagation();\n                const subtitleChangedTo = this;\n                const subtitleIcons = document.getElementsByClassName('subtitle_button_icon');\n\n                for (let i = 0; i < subtitleIcons.length; i++) {\n                    subtitleIcons[i].className = subtitleIcons[i].className.replace(\"subtitle_selected\", \"\");\n                }\n\n                subtitleChangedTo.firstChild.className += ' subtitle_selected';\n\n                playerInstance.subtitlesTracks.forEach(function (subtitle) {\n                    if (subtitle.label === subtitleChangedTo.innerText.replace(/(\\r\\n\\t|\\n|\\r\\t)/gm, \"\")) {\n                        if (subtitle.label === subtitlesOff) {\n                            playerInstance.subtitlesData = [];\n                        } else {\n                            playerInstance.subtitleFetchParse(subtitle);\n                        }\n                    }\n                });\n                playerInstance.openCloseSubtitlesSwitch();\n\n            });\n\n            subtitlesChangeList.appendChild(subtitlesChangeDiv);\n            appendSubtitleChange = true;\n\n        });\n\n        if (appendSubtitleChange) {\n            subtitlesChangeButton.appendChild(subtitlesChangeList);\n            subtitlesChangeButton.addEventListener('click', function () {\n                playerInstance.openCloseSubtitlesSwitch();\n            });\n        } else {\n            // Didn't give any subtitle options\n            document.getElementById(playerInstance.videoPlayerId + '_fluid_control_subtitles').style.display = 'none';\n        }\n\n        //attach subtitles to show based on time\n        //this function is for rendering of subtitles when content is playing\n        const videoPlayerSubtitlesUpdate = function () {\n            playerInstance.renderSubtitles();\n        };\n\n        playerInstance.domRef.player.addEventListener('timeupdate', videoPlayerSubtitlesUpdate);\n    };\n\n    playerInstance.renderSubtitles = () => {\n        const videoPlayer = playerInstance.domRef.player;\n\n        //if content is playing then no subtitles\n        let currentTime = Math.floor(videoPlayer.currentTime);\n        let subtitlesAvailable = false;\n        let subtitlesContainer = document.getElementById(playerInstance.videoPlayerId + '_fluid_subtitles_container');\n\n        if (playerInstance.isCurrentlyPlayingAd) {\n            subtitlesContainer.innerHTML = '';\n            return;\n        }\n\n        for (let i = 0; i < playerInstance.subtitlesData.length; i++) {\n            if (currentTime >= (playerInstance.subtitlesData[i].startTime) && currentTime <= (playerInstance.subtitlesData[i].endTime)) {\n                subtitlesContainer.innerHTML = '';\n                subtitlesContainer.appendChild(WebVTT.convertCueToDOMTree(window, playerInstance.subtitlesData[i].text));\n                subtitlesAvailable = true;\n            }\n        }\n\n        if (!subtitlesAvailable) {\n            subtitlesContainer.innerHTML = '';\n        }\n    };\n\n    playerInstance.openCloseSubtitlesSwitch = () => {\n        const subtitleChangeList = document.getElementById(playerInstance.videoPlayerId + '_fluid_control_subtitles_list');\n\n        if (playerInstance.isCurrentlyPlayingAd) {\n            subtitleChangeList.style.display = 'none';\n            return;\n        }\n\n        if (subtitleChangeList.style.display === 'none') {\n            subtitleChangeList.style.display = 'block';\n            const mouseOut = function (event) {\n                subtitleChangeList.removeEventListener('mouseleave', mouseOut);\n                subtitleChangeList.style.display = 'none';\n            };\n            subtitleChangeList.addEventListener('mouseleave', mouseOut);\n        } else {\n            subtitleChangeList.style.display = 'none';\n        }\n    };\n\n    playerInstance.createSubtitles = () => {\n        const divSubtitlesContainer = document.createElement('div');\n        divSubtitlesContainer.id = playerInstance.videoPlayerId + '_fluid_subtitles_container';\n        divSubtitlesContainer.className = 'fluid_subtitles_container';\n        playerInstance.domRef.player.parentNode.insertBefore(divSubtitlesContainer, playerInstance.domRef.player.nextSibling);\n\n        if (!playerInstance.displayOptions.layoutControls.subtitlesEnabled) {\n            return;\n        }\n\n        import(/* webpackChunkName: \"vttjs\" */ 'videojs-vtt.js').then((it) => {\n            window.WebVTT = it.WebVTT;\n            playerInstance.createSubtitlesSwitch();\n        });\n    };\n}\n","'use strict';\nexport default function (playerInstance, options) {\n    playerInstance.setupThumbnailPreviewVtt = () => {\n        playerInstance.sendRequest(\n            playerInstance.displayOptions.layoutControls.timelinePreview.file,\n            true,\n            playerInstance.displayOptions.vastOptions.vastTimeout,\n            function () {\n                const convertVttRawData = function (vttRawData) {\n                    if (!(\n                        (typeof vttRawData.cues !== 'undefined') &&\n                        (vttRawData.cues.length)\n                    )) {\n                        return [];\n                    }\n\n                    const result = [];\n                    let tempThumbnailData = null;\n                    let tempThumbnailCoordinates = null;\n\n                    for (let i = 0; i < vttRawData.cues.length; i++) {\n                        tempThumbnailData = vttRawData.cues[i].text.split('#');\n                        let xCoords = 0, yCoords = 0, wCoords = 122.5, hCoords = 69;\n\n                        // .vtt file contains sprite corrdinates\n                        if (\n                            (tempThumbnailData.length === 2) &&\n                            (tempThumbnailData[1].indexOf('xywh=') === 0)\n                        ) {\n                            tempThumbnailCoordinates = tempThumbnailData[1].substring(5);\n                            tempThumbnailCoordinates = tempThumbnailCoordinates.split(',');\n\n                            if (tempThumbnailCoordinates.length === 4) {\n                                playerInstance.displayOptions.layoutControls.timelinePreview.spriteImage = true;\n                                xCoords = parseInt(tempThumbnailCoordinates[0]);\n                                yCoords = parseInt(tempThumbnailCoordinates[1]);\n                                wCoords = parseInt(tempThumbnailCoordinates[2]);\n                                hCoords = parseInt(tempThumbnailCoordinates[3]);\n                            }\n                        }\n\n                        let imageUrl;\n                        if (playerInstance.displayOptions.layoutControls.timelinePreview.spriteRelativePath\n                            && playerInstance.displayOptions.layoutControls.timelinePreview.file.indexOf('/') !== -1\n                            && (typeof playerInstance.displayOptions.layoutControls.timelinePreview.sprite === 'undefined' || playerInstance.displayOptions.layoutControls.timelinePreview.sprite === '')\n                        ) {\n                            imageUrl = playerInstance.displayOptions.layoutControls.timelinePreview.file.substring(0, playerInstance.displayOptions.layoutControls.timelinePreview.file.lastIndexOf('/'));\n                            imageUrl += '/' + tempThumbnailData[0];\n                        } else {\n                            imageUrl = (playerInstance.displayOptions.layoutControls.timelinePreview.sprite ? playerInstance.displayOptions.layoutControls.timelinePreview.sprite : tempThumbnailData[0]);\n                        }\n\n                        result.push({\n                            startTime: vttRawData.cues[i].startTime,\n                            endTime: vttRawData.cues[i].endTime,\n                            image: imageUrl,\n                            x: xCoords,\n                            y: yCoords,\n                            w: wCoords,\n                            h: hCoords\n                        });\n                    }\n\n                    return result;\n                };\n\n                const xmlHttpReq = this;\n\n                if ((xmlHttpReq.readyState === 4) && (xmlHttpReq.status !== 200)) {\n                    //The response returned an error.\n                    return;\n                }\n\n                if (!((xmlHttpReq.readyState === 4) && (xmlHttpReq.status === 200))) {\n                    return;\n                }\n\n                const textResponse = xmlHttpReq.responseText;\n\n                const webVttParser = new window.WebVTTParser();\n                const vttRawData = webVttParser.parse(textResponse);\n\n                playerInstance.timelinePreviewData = convertVttRawData(vttRawData);\n            }\n        );\n    };\n\n    playerInstance.generateTimelinePreviewTags = () => {\n        const progressContainer = document.getElementById(playerInstance.videoPlayerId + '_fluid_controls_progress_container');\n        const previewContainer = document.createElement('div');\n\n        previewContainer.id = playerInstance.videoPlayerId + '_fluid_timeline_preview_container';\n        previewContainer.className = 'fluid_timeline_preview_container';\n        previewContainer.style.display = 'none';\n        previewContainer.style.position = 'absolute';\n\n        progressContainer.appendChild(previewContainer);\n\n        //Shadow is needed to not trigger mouseleave event, that stops showing thumbnails, in case one scrubs a bit too fast and leaves current thumb before new one drawn.\n        const previewContainerShadow = document.createElement('div');\n        previewContainerShadow.id = playerInstance.videoPlayerId + '_fluid_timeline_preview_container_shadow';\n        previewContainerShadow.className = 'fluid_timeline_preview_container_shadow';\n        previewContainerShadow.style.position = 'absolute';\n        previewContainerShadow.style.display = 'none';\n        previewContainerShadow.style.opacity = 1;\n        progressContainer.appendChild(previewContainerShadow);\n    };\n\n    playerInstance.getThumbnailCoordinates = (second) => {\n        if (playerInstance.timelinePreviewData.length) {\n            for (let i = 0; i < playerInstance.timelinePreviewData.length; i++) {\n                if ((second >= playerInstance.timelinePreviewData[i].startTime) && (second <= playerInstance.timelinePreviewData[i].endTime)) {\n                    return playerInstance.timelinePreviewData[i];\n                }\n            }\n        }\n\n        return false;\n    };\n\n    playerInstance.drawTimelinePreview = (event) => {\n        const timelinePreviewTag = document.getElementById(playerInstance.videoPlayerId + '_fluid_timeline_preview_container');\n        const timelinePreviewShadow = document.getElementById(playerInstance.videoPlayerId + '_fluid_timeline_preview_container_shadow');\n        const progressContainer = document.getElementById(playerInstance.videoPlayerId + '_fluid_controls_progress_container');\n        const totalWidth = progressContainer.clientWidth;\n\n        if (playerInstance.isCurrentlyPlayingAd) {\n            if (timelinePreviewTag.style.display !== 'none') {\n                timelinePreviewTag.style.display = 'none';\n            }\n\n            return;\n        }\n\n        //get the hover position\n        const hoverX = playerInstance.getEventOffsetX(event, progressContainer);\n        let hoverSecond = null;\n\n        if (totalWidth) {\n            hoverSecond = playerInstance.currentVideoDuration * hoverX / totalWidth;\n\n            //get the corresponding thumbnail coordinates\n            const thumbnailCoordinates = playerInstance.getThumbnailCoordinates(hoverSecond);\n            timelinePreviewShadow.style.width = totalWidth + 'px';\n            timelinePreviewShadow.style.display = 'block';\n\n            if (thumbnailCoordinates !== false) {\n                timelinePreviewTag.style.width = thumbnailCoordinates.w + 'px';\n                timelinePreviewTag.style.height = thumbnailCoordinates.h + 'px';\n                timelinePreviewShadow.style.height = thumbnailCoordinates.h + 'px';\n                timelinePreviewTag.style.background =\n                    'url(' + thumbnailCoordinates.image + ') no-repeat scroll -' + thumbnailCoordinates.x + 'px -' + thumbnailCoordinates.y + 'px';\n                timelinePreviewTag.style.left = hoverX - (thumbnailCoordinates.w / 2) + 'px';\n                timelinePreviewTag.style.display = 'block';\n                if (!playerInstance.displayOptions.layoutControls.timelinePreview.spriteImage) {\n                    timelinePreviewTag.style.backgroundSize = 'contain';\n                }\n\n            } else {\n                timelinePreviewTag.style.display = 'none';\n            }\n        }\n    };\n\n    playerInstance.setupThumbnailPreview = () => {\n        let timelinePreview = playerInstance.displayOptions.layoutControls.timelinePreview;\n        if (!timelinePreview || !timelinePreview.type) {\n            return;\n        }\n\n        let eventOn = 'mousemove';\n        let eventOff = 'mouseleave';\n        if (playerInstance.mobileInfo.userOs) {\n            eventOn = 'touchmove';\n            eventOff = 'touchend';\n        }\n        document.getElementById(playerInstance.videoPlayerId + '_fluid_controls_progress_container')\n            .addEventListener(eventOn, playerInstance.drawTimelinePreview.bind(playerInstance), false);\n        document.getElementById(playerInstance.videoPlayerId + '_fluid_controls_progress_container')\n            .addEventListener(eventOff, function (event) {\n                const progress = document.getElementById(playerInstance.videoPlayerId + '_fluid_controls_progress_container');\n                if (typeof event.clientX !== 'undefined' && progress.contains(document.elementFromPoint(event.clientX, event.clientY))) {\n                    //False positive (Chrome bug when fast click causes leave event)\n                    return;\n                }\n                document.getElementById(playerInstance.videoPlayerId + '_fluid_timeline_preview_container').style.display = 'none';\n                document.getElementById(playerInstance.videoPlayerId + '_fluid_timeline_preview_container_shadow').style.display = 'none';\n            }, false);\n        playerInstance.generateTimelinePreviewTags();\n\n        if ('VTT' === timelinePreview.type && typeof timelinePreview.file === 'string') {\n            import(/* webpackChunkName: \"webvtt\" */ '../../vendor/webvtt').then((it) => {\n                window.WebVTTParser = it.default;\n                playerInstance.setupThumbnailPreviewVtt();\n            });\n        } else if ('static' === timelinePreview.type && typeof timelinePreview.frames === 'object') {\n            timelinePreview.spriteImage = true;\n            playerInstance.timelinePreviewData = timelinePreview.frames;\n        } else {\n            throw 'Invalid thumbnail-preview - type must be VTT or static';\n        }\n\n        playerInstance.showTimeOnHover = false;\n    };\n}\n","'use strict';\nexport default function (playerInstance, options) {\n    const VPAID_VERSION = '2.0';\n\n    playerInstance.renderLinearAd = (adListId, backupTheVideoTime) => {\n        playerInstance.toggleLoader(true);\n\n        //get the proper ad\n        playerInstance.vastOptions = playerInstance.adPool[adListId];\n\n        if (backupTheVideoTime) {\n            playerInstance.backupMainVideoContentTime(adListId);\n        }\n\n        const playVideoPlayer = adListId => {\n            playerInstance.switchPlayerToVpaidMode = adListId => {\n                playerInstance.debugMessage('starting function switchPlayerToVpaidMode');\n                const vpaidIframe = playerInstance.videoPlayerId + \"_\" + adListId + \"_fluid_vpaid_iframe\";\n                const creativeData = {};\n                creativeData.AdParameters = playerInstance.adPool[adListId].adParameters;\n                const slotElement = document.createElement('div');\n                slotElement.id = playerInstance.videoPlayerId + \"_fluid_vpaid_slot\";\n                slotElement.className = 'fluid_vpaid_slot';\n                slotElement.setAttribute('adListId', adListId);\n\n                playerInstance.domRef.player.parentNode.insertBefore(slotElement, vpaidIframe.nextSibling);\n\n                const environmentVars = {\n                    slot: slotElement,\n                    videoSlot: playerInstance.domRef.player,\n                    videoSlotCanAutoPlay: true\n                };\n\n                // calls this functions after ad unit is loaded in iframe\n                const ver = playerInstance.vpaidAdUnit.handshakeVersion(VPAID_VERSION);\n                const compare = playerInstance.compareVersion(VPAID_VERSION, ver);\n                if (compare === 1) {\n                    //VPAID version of ad is lower than we need\n                    playerInstance.adList[adListId].error = true;\n                    playerInstance.playMainVideoWhenVpaidFails(403);\n                    return false;\n                }\n\n                if (playerInstance.vastOptions.skipoffset !== false) {\n                    playerInstance.addSkipButton();\n                }\n\n                playerInstance.domRef.player.loop = false;\n                playerInstance.domRef.player.removeAttribute('controls'); //Remove the default Controls\n\n                playerInstance.vpaidCallbackListenersAttach();\n                const mode = (playerInstance.fullscreenMode ? 'fullscreen' : 'normal');\n                const adWidth = playerInstance.domRef.player.offsetWidth;\n                const adHeight = playerInstance.domRef.player.offsetHeight;\n                playerInstance.vpaidAdUnit.initAd(adWidth, adHeight, mode, 3000, creativeData, environmentVars);\n\n                const progressbarContainer = playerInstance.domRef.player.parentNode.getElementsByClassName('fluid_controls_currentprogress');\n                for (let i = 0; i < progressbarContainer.length; i++) {\n                    progressbarContainer[i].style.backgroundColor = playerInstance.displayOptions.layoutControls.adProgressColor;\n                }\n\n                playerInstance.toggleLoader(false);\n                playerInstance.adList[adListId].played = true;\n                playerInstance.adFinished = false;\n            };\n\n            playerInstance.switchPlayerToVastMode = () => {\n                //Get the actual duration from the video file if it is not present in the VAST XML\n                if (!playerInstance.vastOptions.duration) {\n                    playerInstance.vastOptions.duration = playerInstance.domRef.player.duration;\n                }\n\n                if (playerInstance.displayOptions.layoutControls.showCardBoardView) {\n\n                    if (!playerInstance.adList[adListId].landingPage) {\n                        playerInstance.addCTAButton(playerInstance.adPool[adListId].clickthroughUrl);\n                    } else {\n                        playerInstance.addCTAButton(playerInstance.adList[adListId].landingPage);\n                    }\n\n                } else {\n\n                    const addClickthroughLayer = (typeof playerInstance.adList[adListId].adClickable != \"undefined\") ? playerInstance.adList[adListId].adClickable : playerInstance.displayOptions.vastOptions.adClickable;\n\n                    if (addClickthroughLayer) {\n                        playerInstance.addClickthroughLayer(playerInstance.videoPlayerId);\n                    }\n\n                    playerInstance.addCTAButton(playerInstance.adList[adListId].landingPage);\n\n                }\n\n                if (playerInstance.vastOptions.skipoffset !== false) {\n                    playerInstance.addSkipButton();\n                }\n\n                playerInstance.domRef.player.loop = false;\n\n                playerInstance.addAdCountdown();\n\n                playerInstance.domRef.player.removeAttribute('controls'); //Remove the default Controls\n\n                playerInstance.vastLogoBehaviour(true);\n\n                const progressbarContainer = playerInstance.domRef.player.parentNode.getElementsByClassName('fluid_controls_currentprogress');\n                for (let i = 0; i < progressbarContainer.length; i++) {\n                    progressbarContainer[i].style.backgroundColor = playerInstance.displayOptions.layoutControls.adProgressColor;\n                }\n\n                if (playerInstance.displayOptions.vastOptions.adText || playerInstance.adList[adListId].adText) {\n                    const adTextToShow = (playerInstance.adList[adListId].adText !== null) ? playerInstance.adList[adListId].adText : playerInstance.displayOptions.vastOptions.adText;\n                    playerInstance.addAdPlayingText(adTextToShow);\n                }\n\n                playerInstance.positionTextElements(playerInstance.adList[adListId]);\n\n                playerInstance.toggleLoader(false);\n                playerInstance.adList[adListId].played = true;\n                playerInstance.adFinished = false;\n                playerInstance.domRef.player.play();\n\n                //Announce the impressions\n                playerInstance.trackSingleEvent('impression');\n\n                playerInstance.domRef.player.removeEventListener('loadedmetadata', playerInstance.switchPlayerToVastMode);\n\n                // if in vr mode then do not show\n                if (playerInstance.vrMode) {\n                    const adCountDownTimerText = document.getElementById('ad_countdown' + playerInstance.videoPlayerId);\n                    const ctaButton = document.getElementById(playerInstance.videoPlayerId + '_fluid_cta');\n                    const addAdPlayingTextOverlay = document.getElementById(playerInstance.videoPlayerId + '_fluid_ad_playing');\n                    const skipBtn = document.getElementById('skip_button_' + playerInstance.videoPlayerId);\n\n                    if (adCountDownTimerText) {\n                        adCountDownTimerText.style.display = 'none';\n                    }\n\n                    if (ctaButton) {\n                        ctaButton.style.display = 'none';\n                    }\n\n                    if (addAdPlayingTextOverlay) {\n                        addAdPlayingTextOverlay.style.display = 'none';\n                    }\n\n                    if (skipBtn) {\n                        skipBtn.style.display = 'none';\n                    }\n                }\n            };\n\n            playerInstance.domRef.player.pause();\n\n            // Remove the streaming objects to prevent errors on the VAST content\n            playerInstance.detachStreamers();\n\n            //Try to load multiple\n            const selectedMediaFile = playerInstance.getSupportedMediaFileObject(playerInstance.vastOptions.mediaFileList);\n\n            // if player in cardboard mode then, linear ads media type should be a '360' video\n            if (playerInstance.displayOptions.layoutControls.showCardBoardView && playerInstance.adList[adListId].mediaType !== '360') {\n                playerInstance.adList[adListId].error = true;\n                playerInstance.playMainVideoWhenVastFails(403);\n                return false;\n            }\n\n            const isVpaid = playerInstance.vastOptions.vpaid;\n\n            if (!isVpaid) {\n                if (selectedMediaFile.src === false) {\n                    // Couldn’t find MediaFile that is supported by this video player, based on the attributes of the MediaFile element.\n                    playerInstance.adList[adListId].error = true;\n                    playerInstance.playMainVideoWhenVastFails(403);\n                    return false;\n                }\n\n                playerInstance.domRef.player.addEventListener('loadedmetadata', playerInstance.switchPlayerToVastMode);\n\n                playerInstance.domRef.player.src = selectedMediaFile.src;\n                playerInstance.isCurrentlyPlayingAd = true;\n\n                if (playerInstance.displayOptions.vastOptions.showProgressbarMarkers) {\n                    playerInstance.hideAdMarkers();\n                }\n\n                playerInstance.domRef.player.load();\n\n                //Handle the ending of the Pre-Roll ad\n                playerInstance.domRef.player.addEventListener('ended', playerInstance.onVastAdEnded);\n\n            } else {\n                playerInstance.loadVpaid(adListId, selectedMediaFile.src);\n\n                if (playerInstance.displayOptions.vastOptions.showProgressbarMarkers) {\n                    playerInstance.hideAdMarkers();\n                }\n            }\n        };\n\n        /**\n         * Sends requests to the tracking URIs\n         */\n        const videoPlayerTimeUpdate = () => {\n            if (playerInstance.adFinished) {\n                playerInstance.domRef.player.removeEventListener('timeupdate', videoPlayerTimeUpdate);\n                return;\n            }\n\n            const currentTime = Math.floor(playerInstance.domRef.player.currentTime);\n            if (playerInstance.vastOptions.duration !== 0) {\n                playerInstance.scheduleTrackingEvent(currentTime, playerInstance.vastOptions.duration);\n            }\n\n            if (currentTime >= (playerInstance.vastOptions.duration - 1) && playerInstance.vastOptions.duration !== 0) {\n                playerInstance.domRef.player.removeEventListener('timeupdate', videoPlayerTimeUpdate);\n                playerInstance.adFinished = true;\n            }\n\n        };\n\n        playVideoPlayer(adListId);\n\n        playerInstance.domRef.player.addEventListener('timeupdate', videoPlayerTimeUpdate);\n\n    };\n\n    playerInstance.playRoll = (adListId) => {\n        // register all the ad pods\n        for (let i = 0; i < adListId.length; i++) {\n            if (!playerInstance.adPool.hasOwnProperty(adListId[i])) {\n                playerInstance.announceLocalError(101);\n                return;\n            }\n            playerInstance.temporaryAdPods.push(playerInstance.adList[adListId[i]]);\n        }\n\n        if (playerInstance.vastOptions !== null && playerInstance.vastOptions.adType.toLowerCase() === 'linear') {\n            return;\n        }\n\n        const adListIdToPlay = playerInstance.getNextAdPod();\n\n        if (adListIdToPlay !== null) {\n            playerInstance.renderLinearAd(adListIdToPlay, true);\n        }\n    };\n\n    playerInstance.backupMainVideoContentTime = (adListId) => {\n        const roll = playerInstance.adList[adListId].roll;\n\n        //spec configs by roll\n        switch (roll) {\n            case 'midRoll':\n                playerInstance.domRef.player.mainVideoCurrentTime = playerInstance.domRef.player.currentTime - 1;\n                break;\n\n            case 'postRoll':\n                playerInstance.domRef.player.mainVideoCurrentTime = playerInstance.mainVideoDuration;\n                playerInstance.autoplayAfterAd = false;\n                playerInstance.domRef.player.currentTime = playerInstance.mainVideoDuration;\n                break;\n\n            case 'preRoll':\n                if (playerInstance.domRef.player.currentTime > 0) {\n                    playerInstance.domRef.player.mainVideoCurrentTime = playerInstance.domRef.player.currentTime - 1;\n                }\n                break;\n        }\n    };\n\n    playerInstance.getSupportedMediaFileObject = (mediaFiles) => {\n        let selectedMediaFile = null;\n        let adSupportedType = false;\n        if (mediaFiles.length) {\n            for (let i = 0; i < mediaFiles.length; i++) {\n\n                if (mediaFiles[i].apiFramework !== 'VPAID') {\n                    const supportLevel = playerInstance.getMediaFileTypeSupportLevel(mediaFiles[i]['type']);\n\n                    if (supportLevel === 'maybe' || supportLevel === 'probably') {\n                        selectedMediaFile = mediaFiles[i];\n                        adSupportedType = true;\n                    }\n\n                    //one of the best(s) option, no need to seek more\n                    if (supportLevel === 'probably') {\n                        break;\n                    }\n\n                } else {\n                    selectedMediaFile = mediaFiles[i];\n                    adSupportedType = true;\n                    break;\n                }\n            }\n        }\n\n        if (adSupportedType === false) {\n            return false;\n        }\n\n        return selectedMediaFile;\n    };\n\n    /**\n     * Reports how likely it is that the current browser will be able to play media of a given MIME type.\n     * @return string|null \"probably\", \"maybe\", \"no\" or null\n     */\n    playerInstance.getMediaFileTypeSupportLevel = (mediaType) => {\n        if (null === mediaType) {\n            return null;\n        }\n\n        const tmpVideo = document.createElement('video');\n        let response = tmpVideo.canPlayType(mediaType);\n\n        return !response ? \"no\" : response;\n    };\n\n    playerInstance.scheduleTrackingEvent = (currentTime, duration) => {\n        if (currentTime === 0) {\n            playerInstance.trackSingleEvent('start');\n        }\n\n        if ((typeof playerInstance.vastOptions.tracking['progress'] !== 'undefined') &&\n            (playerInstance.vastOptions.tracking['progress'].length) &&\n            (typeof playerInstance.vastOptions.tracking['progress'][currentTime] !== 'undefined')) {\n\n            playerInstance.trackSingleEvent('progress', currentTime);\n        }\n\n        if (currentTime === (Math.floor(duration / 4))) {\n            playerInstance.trackSingleEvent('firstQuartile');\n        }\n\n        if (currentTime === (Math.floor(duration / 2))) {\n            playerInstance.trackSingleEvent('midpoint');\n        }\n\n        if (currentTime === (Math.floor(duration * 3 / 4))) {\n            playerInstance.trackSingleEvent('thirdQuartile');\n        }\n\n        if (currentTime >= (duration - 1)) {\n            playerInstance.trackSingleEvent('complete');\n        }\n    };\n\n\n    // ADS\n    playerInstance.trackSingleEvent = (eventType, eventSubType) => {\n        if (typeof playerInstance.vastOptions === 'undefined' || playerInstance.vastOptions === null) {\n            return;\n        }\n\n        let trackingUris = [];\n        trackingUris.length = 0;\n\n        switch (eventType) {\n            case 'start':\n            case 'firstQuartile':\n            case 'midpoint':\n            case 'thirdQuartile':\n            case 'complete':\n                if (playerInstance.vastOptions.stopTracking[eventType] === false) {\n                    if (playerInstance.vastOptions.tracking[eventType] !== null) {\n                        trackingUris = playerInstance.vastOptions.tracking[eventType];\n                    }\n\n                    playerInstance.vastOptions.stopTracking[eventType] = true;\n                }\n                break;\n\n            case 'progress':\n                playerInstance.vastOptions.tracking['progress'][eventSubType].elements.forEach(function (currentValue, index) {\n                    if (\n                        (playerInstance.vastOptions.tracking['progress'][eventSubType].stopTracking === false) &&\n                        (playerInstance.vastOptions.tracking['progress'][eventSubType].elements.length)\n                    ) {\n                        trackingUris = playerInstance.vastOptions.tracking['progress'][eventSubType].elements;\n                    }\n\n                    playerInstance.vastOptions.tracking['progress'][eventSubType].stopTracking = true;\n                });\n                break;\n\n            case 'impression':\n                if (\n                    (typeof playerInstance.vastOptions.impression !== 'undefined') &&\n                    (playerInstance.vastOptions.impression !== null) &&\n                    (typeof playerInstance.vastOptions.impression.length !== 'undefined')\n                ) {\n                    trackingUris = playerInstance.vastOptions.impression;\n                }\n                break;\n\n            default:\n                break;\n        }\n\n        playerInstance.callUris(trackingUris);\n    };\n\n    // ADS\n    playerInstance.completeNonLinearStatic = (adListId) => {\n        playerInstance.closeNonLinear(adListId);\n        if (playerInstance.adFinished === false) {\n            playerInstance.adFinished = true;\n            playerInstance.trackSingleEvent('complete');\n        }\n        clearInterval(playerInstance.nonLinearTracking);\n    };\n\n    // ADS\n    /**\n     * Show up a nonLinear static creative\n     */\n    playerInstance.createNonLinearStatic = (adListId) => {\n        if (!playerInstance.adPool.hasOwnProperty(adListId) || playerInstance.adPool[adListId].error === true) {\n            playerInstance.announceLocalError(101);\n            return;\n        }\n\n        //get the proper ad\n        playerInstance.vastOptions = playerInstance.adPool[adListId];\n        playerInstance.createBoard(adListId);\n        if (playerInstance.adList[adListId].error === true) {\n            return;\n        }\n        playerInstance.adFinished = false;\n        let duration;\n        if (!playerInstance.vastOptions.vpaid) {\n            playerInstance.trackSingleEvent('start');\n            duration = (playerInstance.adList[adListId].nonLinearDuration) ? playerInstance.adList[adListId].nonLinearDuration : playerInstance.vastOptions.duration;\n\n            playerInstance.nonLinearTracking = setInterval(function () {\n                if (playerInstance.adFinished === true) {\n                    return;\n                }\n\n                const currentTime = Math.floor(playerInstance.domRef.player.currentTime);\n                playerInstance.scheduleTrackingEvent(currentTime, duration);\n                if (currentTime >= (duration - 1)) {\n                    playerInstance.adFinished = true;\n                }\n            }, 400);\n        }\n\n        const time = parseInt(playerInstance.getCurrentTime()) + parseInt(duration);\n        playerInstance.scheduleTask({time: time, closeStaticAd: adListId});\n    };\n\n    // ADS\n    playerInstance.createVpaidNonLinearBoard = (adListId) => {\n        // create iframe\n        // pass the js\n\n        const vastSettings = playerInstance.adPool[adListId];\n\n        playerInstance.loadVpaidNonlinearAssets = function (adListId) {\n\n            playerInstance.debugMessage('starting function switchPlayerToVpaidMode');\n\n            const vAlign = (playerInstance.adList[adListId].vAlign) ? playerInstance.adList[adListId].vAlign : playerInstance.nonLinearVerticalAlign;\n            const showCloseButton = (playerInstance.adList[adListId].vpaidNonLinearCloseButton) ? playerInstance.adList[adListId].vpaidNonLinearCloseButton : playerInstance.vpaidNonLinearCloseButton;\n            const vpaidIframe = playerInstance.videoPlayerId + \"_\" + adListId + \"_fluid_vpaid_iframe\";\n            const creativeData = {};\n            creativeData.AdParameters = playerInstance.adPool[adListId].adParameters;\n            const slotWrapper = document.createElement('div');\n            slotWrapper.id = 'fluid_vpaidNonLinear_' + adListId;\n            slotWrapper.className = 'fluid_vpaidNonLinear_' + vAlign;\n            slotWrapper.className += ' fluid_vpaidNonLinear_ad';\n            slotWrapper.setAttribute('adListId', adListId);\n\n            // Default values in case nothing defined in VAST data or ad settings\n            let adWidth = Math.min(468, playerInstance.domRef.player.offsetWidth);\n            let adHeight = Math.min(60, Math.floor(playerInstance.domRef.player.offsetHeight / 4));\n\n            if (typeof playerInstance.adList[adListId].size !== 'undefined') {\n                const dimensions = playerInstance.adList[adListId].size.split('x');\n                adWidth = dimensions[0];\n                adHeight = dimensions[1];\n            } else if (vastSettings.dimension.width && vastSettings.dimension.height) {\n                adWidth = vastSettings.dimension.width;\n                adHeight = vastSettings.dimension.height;\n            }\n\n            slotWrapper.style.width = '100%';\n            slotWrapper.style.height = adHeight + 'px';\n\n            let slotFrame;\n            if (showCloseButton) {\n                const slotFrame = document.createElement('div');\n                slotFrame.className = 'fluid_vpaidNonLinear_frame';\n                slotFrame.style.width = adWidth + 'px';\n                slotFrame.style.height = adHeight + 'px';\n                slotWrapper.appendChild(slotFrame);\n\n                const closeBtn = document.createElement('div');\n                closeBtn.id = 'close_button_' + playerInstance.videoPlayerId;\n                closeBtn.className = 'close_button';\n                closeBtn.innerHTML = '';\n                closeBtn.title = playerInstance.displayOptions.layoutControls.closeButtonCaption;\n                const tempadListId = adListId;\n                closeBtn.onclick = function (event) {\n\n                    playerInstance.hardStopVpaidAd('');\n\n                    if (typeof event.stopImmediatePropagation !== 'undefined') {\n                        event.stopImmediatePropagation();\n                    }\n                    playerInstance.adFinished = true;\n\n                    //if any other onPauseRoll then render it\n                    if (playerInstance.adList[tempadListId].roll === 'onPauseRoll' && playerInstance.onPauseRollAdPods[0]) {\n                        const getNextOnPauseRollAd = playerInstance.onPauseRollAdPods[0];\n                        playerInstance.createBoard(getNextOnPauseRollAd);\n                        playerInstance.currentOnPauseRollAd = playerInstance.onPauseRollAdPods[0];\n                        delete playerInstance.onPauseRollAdPods[0];\n                    }\n\n                    return false;\n                };\n\n                slotFrame.appendChild(closeBtn);\n\n            }\n\n            const slotIframe = document.createElement('iframe');\n            slotIframe.id = playerInstance.videoPlayerId + \"non_linear_vapid_slot_iframe\";\n            slotIframe.className = 'fluid_vpaid_nonlinear_slot_iframe';\n            slotIframe.setAttribute('width', adWidth + 'px');\n            slotIframe.setAttribute('height', adHeight + 'px');\n            slotIframe.setAttribute('sandbox', 'allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts');\n            slotIframe.setAttribute('frameborder', '0');\n            slotIframe.setAttribute('scrolling', 'no');\n            slotIframe.setAttribute('marginwidth', '0');\n            slotIframe.setAttribute('marginheight', '0');\n            slotWrapper.appendChild(slotIframe);\n\n            playerInstance.domRef.player.parentNode.insertBefore(slotWrapper, vpaidIframe.nextSibling);\n\n            const slotElement = slotIframe.contentWindow.document.createElement('div');\n\n            slotIframe.contentWindow.document.body.appendChild(slotElement);\n\n            playerInstance.vastOptions.slotIframe = slotIframe;\n            playerInstance.vastOptions.slotFrame = slotFrame;\n\n            const environmentVars = {\n                slot: slotElement,\n                videoSlot: playerInstance.domRef.player,\n                videoSlotCanAutoPlay: true\n            };\n\n            playerInstance.debugMessage(playerInstance.adList[adListId]);\n\n            // calls this functions after ad unit is loaded in iframe\n            const ver = playerInstance.vpaidAdUnit.handshakeVersion(VPAID_VERSION);\n            const compare = playerInstance.compareVersion(VPAID_VERSION, ver);\n            if (compare === 1) {\n                //VPAID version of ad is lower than we need\n                playerInstance.adList[adListId].error = true;\n                playerInstance.playMainVideoWhenVpaidFails(403);\n                return false;\n            }\n\n            playerInstance.domRef.player.loop = false;\n            playerInstance.domRef.player.removeAttribute('controls'); //Remove the default Controls\n\n            playerInstance.vpaidCallbackListenersAttach();\n            const mode = (playerInstance.fullscreenMode ? 'fullscreen' : 'normal');\n            playerInstance.vpaidAdUnit.initAd(adWidth, adHeight, mode, 3000, creativeData, environmentVars);\n\n            playerInstance.toggleLoader(false);\n            playerInstance.adList[adListId].played = true;\n            playerInstance.adFinished = false;\n        };\n\n        playerInstance.loadVpaid(adListId, vastSettings.staticResource);\n\n        playerInstance.debugMessage('create non linear vpaid');\n    };\n\n    // ADS\n    playerInstance.createNonLinearBoard = (adListId) => {\n        const vastSettings = playerInstance.adPool[adListId];\n\n        playerInstance.adList[adListId].played = true;\n        const playerWidth = playerInstance.domRef.player.clientWidth;\n        const playerHeight = playerInstance.domRef.player.clientHeight;\n        const board = document.createElement('div');\n        const vAlign = (playerInstance.adList[adListId].vAlign) ? playerInstance.adList[adListId].vAlign : playerInstance.nonLinearVerticalAlign;\n\n        const creative = new Image();\n        creative.src = vastSettings.staticResource;\n        creative.id = 'fluid_nonLinear_imgCreative_' + adListId + '_' + playerInstance.videoPlayerId;\n\n        creative.onerror = function () {\n            playerInstance.adList[adListId].error = true;\n            playerInstance.announceError(500);\n        };\n\n        creative.onload = function () {\n            let origWidth;\n            let origHeight;\n            let newBannerWidth;\n            let newBannerHeight;\n\n            //Set banner size based on the below priority\n            // 1. adList -> roll -> size\n            // 2. VAST XML width/height attriubute (VAST 3.)\n            // 3. VAST XML static resource dimension\n            if (typeof playerInstance.adList[adListId].size !== 'undefined') {\n                origWidth = playerInstance.adList[adListId].size.split('x')[0];\n                origHeight = playerInstance.adList[adListId].size.split('x')[1];\n            } else if (vastSettings.dimension.width && vastSettings.dimension.height) {\n                origWidth = vastSettings.dimension.width;\n                origHeight = vastSettings.dimension.height;\n            } else {\n                origWidth = creative.width;\n                origHeight = creative.height;\n            }\n\n            if (origWidth > playerWidth) {\n                newBannerWidth = playerWidth - 5;\n                newBannerHeight = origHeight * newBannerWidth / origWidth;\n            } else {\n                newBannerWidth = origWidth;\n                newBannerHeight = origHeight;\n            }\n\n            if (playerInstance.adList[adListId].roll !== 'onPauseRoll') {\n                //Show the board only if media loaded\n                document.getElementById('fluid_nonLinear_' + adListId).style.display = '';\n            }\n\n            const img = document.getElementById(creative.id);\n            img.width = newBannerWidth;\n            img.height = newBannerHeight;\n\n            playerInstance.trackSingleEvent('impression');\n        };\n\n        board.id = 'fluid_nonLinear_' + adListId;\n        board.className = 'fluid_nonLinear_' + vAlign;\n        board.className += ' fluid_nonLinear_ad';\n        board.innerHTML = creative.outerHTML;\n        board.style.display = 'none';\n\n        //Bind the Onclick event\n        board.onclick = function () {\n            if (typeof vastSettings.clickthroughUrl !== 'undefined') {\n                window.open(vastSettings.clickthroughUrl);\n            }\n\n            //Tracking the NonLinearClickTracking events\n            if (typeof vastSettings.clicktracking !== 'undefined') {\n                playerInstance.callUris([vastSettings.clicktracking]);\n            }\n        };\n\n        if (typeof vastSettings.clickthroughUrl !== 'undefined') {\n            board.style.cursor = 'pointer';\n        }\n\n        const closeBtn = document.createElement('div');\n        closeBtn.id = 'close_button_' + playerInstance.videoPlayerId;\n        closeBtn.className = 'close_button';\n        closeBtn.innerHTML = '';\n        closeBtn.title = playerInstance.displayOptions.layoutControls.closeButtonCaption;\n        const tempadListId = adListId;\n        closeBtn.onclick = function (event) {\n            this.parentElement.remove();\n            if (typeof event.stopImmediatePropagation !== 'undefined') {\n                event.stopImmediatePropagation();\n            }\n            playerInstance.adFinished = true;\n            clearInterval(playerInstance.nonLinearTracking);\n\n            //if any other onPauseRoll then render it\n            if (playerInstance.adList[tempadListId].roll === 'onPauseRoll' && playerInstance.onPauseRollAdPods[0]) {\n                const getNextOnPauseRollAd = playerInstance.onPauseRollAdPods[0];\n                playerInstance.createBoard(getNextOnPauseRollAd);\n                playerInstance.currentOnPauseRollAd = playerInstance.onPauseRollAdPods[0];\n                delete playerInstance.onPauseRollAdPods[0];\n            }\n\n            return false;\n        };\n\n        board.appendChild(closeBtn);\n        playerInstance.domRef.player.parentNode.insertBefore(board, playerInstance.domRef.player.nextSibling);\n    };\n\n    // ADS\n    /**\n     * Adds a nonLinear static Image banner\n     *\n     * currently only image/gif, image/jpeg, image/png supported\n     */\n    playerInstance.createBoard = (adListId) => {\n        const vastSettings = playerInstance.adPool[adListId];\n\n        // create nonLinear Vpaid\n        // create nonLinear regular\n        if (vastSettings.vpaid) {\n            playerInstance.hardStopVpaidAd('');\n            playerInstance.createVpaidNonLinearBoard(adListId);\n\n        } else {\n\n            if (typeof vastSettings.staticResource === 'undefined'\n                || playerInstance.supportedStaticTypes.indexOf(vastSettings.creativeType) === -1) {\n                //Couldn’t find NonLinear resource with supported type.\n                playerInstance.adList[adListId].error = true;\n                if (!playerInstance.vastOptions || typeof playerInstance.vastOptions.errorUrl === 'undefined') {\n                    playerInstance.announceLocalError(503);\n                } else {\n                    playerInstance.announceError(503);\n                }\n                return;\n            }\n\n            playerInstance.createNonLinearBoard(adListId);\n\n        }\n\n    };\n\n    playerInstance.closeNonLinear = (adListId) => {\n        const element = document.getElementById('fluid_nonLinear_' + adListId);\n        if (element) {\n            element.remove();\n        }\n    };\n\n    playerInstance.rollGroupContainsLinear = (groupedRolls) => {\n        let found = false;\n        for (let i = 0; i < groupedRolls.length; i++) {\n            if (playerInstance.adList[groupedRolls[i].id].adType && playerInstance.adList[groupedRolls[i].id].adType === 'linear') {\n                found = true;\n                break;\n            }\n        }\n        return found;\n    };\n    playerInstance.rollGroupContainsNonlinear = (groupedRolls) => {\n        let found = false;\n        for (let i = 0; i < groupedRolls.length; i++) {\n            if (playerInstance.adList[groupedRolls[i].id].adType.toLowerCase() === 'nonlinear') {\n                found = true;\n                break;\n            }\n        }\n        return found;\n    };\n\n    playerInstance.preRollFail = () => {\n        const preRollsLength = playerInstance.preRollAdPodsLength;\n\n        playerInstance.preRollVastResolved++;\n\n        if (playerInstance.preRollVastResolved === preRollsLength) {\n            playerInstance.preRollAdsPlay();\n        }\n    };\n\n    playerInstance.preRollSuccess = () => {\n        const preRollsLength = playerInstance.preRollAdPodsLength;\n\n        playerInstance.preRollVastResolved++;\n\n        if (playerInstance.preRollVastResolved === preRollsLength) {\n            playerInstance.preRollAdsPlay();\n        }\n    };\n\n    playerInstance.preRollAdsPlay = () => {\n        const time = 0;\n        const adListIds = playerInstance.preRollAdPods;\n        const adsByType = {\n            linear: [],\n            nonLinear: []\n        };\n\n        playerInstance.firstPlayLaunched = true;\n\n        for (let index = 0; index < adListIds.length; index++) {\n\n            if (playerInstance.adList[adListIds[index]].played === true) {\n                return\n            }\n\n            if (playerInstance.adList[adListIds[index]].adType === 'linear') {\n                adsByType.linear.push(adListIds[index]);\n            }\n\n            if (playerInstance.adList[adListIds[index]].adType === 'nonLinear') {\n                adsByType.nonLinear.push(adListIds[index]);\n                playerInstance.scheduleTask({time: time, playRoll: 'midRoll', adListId: adsByType.nonLinear.shift()});\n            }\n        }\n\n        if (adsByType.linear.length > 0) {\n            playerInstance.toggleLoader(true);\n            playerInstance.playRoll(adsByType.linear);\n        } else {\n            playerInstance.playMainVideoWhenVastFails(900);\n        }\n\n    };\n\n    playerInstance.preRoll = (event) => {\n        const vastObj = event.vastObj;\n        playerInstance.domRef.player.removeEventListener(event.type, playerInstance.preRoll);\n\n        const adListId = [];\n        adListId[0] = event.type.replace('adId_', '');\n        const time = 0;\n\n        if (playerInstance.adList[adListId[0]].played === true) {\n            return;\n        }\n\n        playerInstance.preRollAdPods.push(adListId[0]);\n\n        playerInstance.preRollSuccess(vastObj);\n    };\n\n    playerInstance.createAdMarker = (adListId, time) => {\n        const markersHolder = document.getElementById(playerInstance.videoPlayerId + '_ad_markers_holder');\n        const adMarker = document.createElement('div');\n        adMarker.id = 'ad_marker_' + playerInstance.videoPlayerId + \"_\" + adListId;\n        adMarker.className = 'fluid_controls_ad_marker';\n        adMarker.style.left = (time / playerInstance.mainVideoDuration * 100) + '%';\n        if (playerInstance.isCurrentlyPlayingAd) {\n            adMarker.style.display = 'none';\n        }\n        markersHolder.appendChild(adMarker);\n    };\n\n    playerInstance.hideAdMarker = (adListId) => {\n        const element = document.getElementById('ad_marker_' + playerInstance.videoPlayerId + \"_\" + adListId);\n        if (element) {\n            element.style.display = 'none';\n        }\n    };\n\n    playerInstance.showAdMarkers = () => {\n        const markersHolder = document.getElementById(playerInstance.videoPlayerId + '_ad_markers_holder');\n        const adMarkers = markersHolder.getElementsByClassName('fluid_controls_ad_marker');\n        const idPrefix = 'ad_marker_' + playerInstance.videoPlayerId + \"_\";\n        for (let i = 0; i < adMarkers.length; ++i) {\n            const item = adMarkers[i];\n            const adListId = item.id.replace(idPrefix, '');\n            if (playerInstance.adList[adListId].played === false) {\n                item.style.display = '';\n            }\n        }\n    };\n\n    playerInstance.hideAdMarkers = () => {\n        const markersHolder = document.getElementById(playerInstance.videoPlayerId + '_ad_markers_holder');\n        const adMarkers = markersHolder.getElementsByClassName('fluid_controls_ad_marker');\n        for (let i = 0; i < adMarkers.length; ++i) {\n            const item = adMarkers[i];\n            item.style.display = 'none';\n        }\n    };\n\n    playerInstance.midRoll = (event) => {\n        playerInstance.domRef.player.removeEventListener(event.type, playerInstance.midRoll);\n\n        const adListId = event.type.replace('adId_', '');\n        if (playerInstance.adList[adListId].played === true) {\n            return;\n        }\n\n        let time = playerInstance.adList[adListId].timer;\n\n        if (typeof time == 'string' && time.indexOf(\"%\") !== -1) {\n            time = time.replace('%', '');\n            time = Math.floor(playerInstance.mainVideoDuration / 100 * time);\n        }\n\n        if (playerInstance.displayOptions.vastOptions.showProgressbarMarkers &&\n            playerInstance.adList[adListId].adType === \"nonLinear\") {\n            playerInstance.createAdMarker(adListId, time);\n        }\n\n        playerInstance.scheduleTask({time: time, playRoll: 'midRoll', adListId: adListId});\n    };\n\n    playerInstance.postRoll = (event) => {\n        playerInstance.domRef.player.removeEventListener(event.type, playerInstance.postRoll);\n        const adListId = event.type.replace('adId_', '');\n        playerInstance.scheduleTask({\n            time: Math.floor(playerInstance.mainVideoDuration),\n            playRoll: 'postRoll',\n            adListId: adListId\n        });\n    };\n\n    playerInstance.onPauseRoll = (event) => {\n        playerInstance.domRef.player.removeEventListener(event.type, playerInstance.onPauseRoll);\n        const adListId = event.type.replace('adId_', '');\n\n        if (playerInstance.adList[adListId].adType === 'nonLinear') {\n            if (!playerInstance.adPool.hasOwnProperty(adListId) || playerInstance.adPool[adListId].error === true) {\n                playerInstance.announceLocalError(101);\n                return;\n            }\n\n            //var playerWrapper = document.getElementById('fluid_video_wrapper_' + playerInstance.videoPlayerId);\n            const nonLinearAdExists = document.getElementsByClassName('fluid_nonLinear_ad')[0];\n            if (!nonLinearAdExists) {\n                playerInstance.createBoard(adListId);\n                playerInstance.currentOnPauseRollAd = adListId;\n                let onPauseAd = document.getElementById('fluid_nonLinear_' + adListId);\n                if (onPauseAd) {\n                    onPauseAd.style.display = 'none';\n                }\n            } else {\n                playerInstance.onPauseRollAdPods.push(adListId);\n            }\n\n        }\n    };\n\n    /**\n     * Check if player has a valid nonLinear onPause Ad\n     */\n    playerInstance.hasValidOnPauseAd = () => {\n        // TODO should be only one. Add validator to allow only one onPause roll\n        const onPauseAd = playerInstance.findRoll('onPauseRoll');\n\n        return (onPauseAd.length !== 0 && playerInstance.adList[onPauseAd[0]] && playerInstance.adList[onPauseAd[0]].error === false);\n    };\n\n    /**\n     * Hide/show nonLinear onPause Ad\n     */\n    playerInstance.toggleOnPauseAd = () => {\n        if (playerInstance.hasValidOnPauseAd() && !playerInstance.isCurrentlyPlayingAd) {\n            const onPauseRoll = playerInstance.findRoll('onPauseRoll');\n            let adListId;\n            if (playerInstance.currentOnPauseRollAd !== '') {\n                adListId = playerInstance.currentOnPauseRollAd;\n            } else {\n                adListId = onPauseRoll[0];\n            }\n\n            playerInstance.vastOptions = playerInstance.adPool[adListId];\n            const onPauseAd = document.getElementById('fluid_nonLinear_' + adListId);\n\n            if (onPauseAd && playerInstance.domRef.player.paused) {\n                setTimeout(function () {\n                    onPauseAd.style.display = 'flex';\n                    playerInstance.adList[adListId].played = false;\n                    playerInstance.trackingOnPauseNonLinearAd(adListId, 'start');\n                }, 500);\n            } else if (onPauseAd && !playerInstance.domRef.player.paused) {\n                onPauseAd.style.display = 'none';\n                playerInstance.adFinished = true;\n                playerInstance.trackingOnPauseNonLinearAd(adListId, 'complete');\n            }\n        }\n    };\n\n    /**\n     * Helper function for tracking onPause Ads\n     */\n    playerInstance.trackingOnPauseNonLinearAd = (adListId, status) => {\n        if (!playerInstance.adPool.hasOwnProperty(adListId) || playerInstance.adPool[adListId].error === true) {\n            playerInstance.announceLocalError(101);\n            return;\n        }\n\n        playerInstance.vastOptions = playerInstance.adPool[adListId];\n        playerInstance.trackSingleEvent(status);\n    };\n\n    playerInstance.getLinearAdsFromKeyTime = (keyTimeLinearObj) => {\n        const adListIds = [];\n\n        for (let i = 0; i < keyTimeLinearObj.length; i++) {\n            if (playerInstance.adList[keyTimeLinearObj[i].adListId].played === false) {\n                adListIds.push(keyTimeLinearObj[i].adListId);\n            }\n        }\n\n        return adListIds;\n    };\n\n    playerInstance.adKeytimePlay = (keyTime) => {\n        if (!playerInstance.timerPool[keyTime] || playerInstance.isCurrentlyPlayingAd) {\n            return;\n        }\n\n        const timerPoolKeytimeCloseStaticAdsLength = playerInstance.timerPool[keyTime]['closeStaticAd'].length;\n        const timerPoolKeytimeLinearAdsLength = playerInstance.timerPool[keyTime]['linear'].length;\n        const timerPoolKeytimeNonlinearAdsLength = playerInstance.timerPool[keyTime]['nonLinear'].length;\n\n        // remove the item from keytime if no ads to play\n        if (timerPoolKeytimeCloseStaticAdsLength === 0 && timerPoolKeytimeLinearAdsLength === 0 && timerPoolKeytimeNonlinearAdsLength === 0) {\n            delete playerInstance.timerPool[keyTime];\n            return;\n        }\n\n        // Task: close nonLinear ads\n        if (timerPoolKeytimeCloseStaticAdsLength > 0) {\n            for (let index = 0; index < timerPoolKeytimeCloseStaticAdsLength; index++) {\n                const adListId = playerInstance.timerPool[keyTime]['closeStaticAd'][index].closeStaticAd;\n                if (playerInstance.adList[adListId].played === true) {\n                    playerInstance.completeNonLinearStatic(adListId);\n                }\n            }\n\n            // empty closeStaticAd from the timerpool after closing\n            playerInstance.timerPool[keyTime]['closeStaticAd'] = [];\n        }\n\n        // Task: play linear ads\n        if (timerPoolKeytimeLinearAdsLength > 0) {\n            const adListIds = playerInstance.getLinearAdsFromKeyTime(playerInstance.timerPool[keyTime]['linear']);\n            if (adListIds.length > 0) {\n                playerInstance.playRoll(adListIds);\n\n                // empty the linear ads from the timerpool after played\n                playerInstance.timerPool[keyTime]['linear'] = [];\n\n                // return after starting video ad, so non-linear will not overlap\n                return;\n            }\n        }\n\n        // Task: play nonLinear ads\n        if (timerPoolKeytimeNonlinearAdsLength > 0) {\n            for (let index = 0; index < timerPoolKeytimeNonlinearAdsLength; index++) {\n                const adListId = playerInstance.timerPool[keyTime]['nonLinear'][index].adListId;\n                const vastOptions = playerInstance.adPool[adListId];\n\n                // we are not supporting nonLinear ads in cardBoard mode\n                if (playerInstance.adList[adListId].played === false && !playerInstance.displayOptions.layoutControls.showCardBoardView) {\n                    playerInstance.createNonLinearStatic(adListId);\n                    if (playerInstance.displayOptions.vastOptions.showProgressbarMarkers) {\n                        playerInstance.hideAdMarker(adListId);\n                    }\n\n                    // delete nonLinear after playing\n                    playerInstance.timerPool[keyTime]['nonLinear'].splice(index, 1);\n\n                    // return after starting non-linear ad, so multiple non-linear will not overlap\n                    // unplayed non-linear will appear if user seeks back to the time :)\n                    return;\n                }\n            }\n        }\n\n    };\n\n    playerInstance.adTimer = () => {\n        if (!!playerInstance.isTimer) {\n            return;\n        }\n\n        playerInstance.isTimer = !playerInstance.isTimer;\n\n        playerInstance.timer = setInterval(\n            function () {\n                const keyTime = Math.floor(playerInstance.getCurrentTime());\n                playerInstance.adKeytimePlay(keyTime)\n            }, 800);\n    };\n\n    // ADS\n    playerInstance.scheduleTask = (task) => {\n        if (!playerInstance.timerPool.hasOwnProperty(task.time)) {\n            playerInstance.timerPool[task.time] = {linear: [], nonLinear: [], closeStaticAd: []};\n        }\n\n        if (task.hasOwnProperty('playRoll') && playerInstance.adList[task.adListId].adType === 'linear') {\n            playerInstance.timerPool[task.time]['linear'].push(task);\n        } else if (task.hasOwnProperty('playRoll') && playerInstance.adList[task.adListId].adType === 'nonLinear') {\n            playerInstance.timerPool[task.time]['nonLinear'].push(task);\n        } else if (task.hasOwnProperty('closeStaticAd')) {\n            playerInstance.timerPool[task.time]['closeStaticAd'].push(task);\n        }\n\n    };\n\n    // ADS\n    playerInstance.switchToMainVideo = () => {\n        playerInstance.debugMessage('starting main video');\n\n        playerInstance.domRef.player.src = playerInstance.originalSrc;\n\n        playerInstance.initialiseStreamers();\n\n        const newCurrentTime = (typeof playerInstance.domRef.player.mainVideoCurrentTime !== 'undefined')\n            ? playerInstance.domRef.player.mainVideoCurrentTime : 0;\n\n        if (playerInstance.domRef.player.hasOwnProperty('currentTime')) {\n            playerInstance.domRef.player.currentTime = newCurrentTime;\n        }\n\n        if (playerInstance.displayOptions.layoutControls.loop) {\n            playerInstance.domRef.player.loop = true;\n        }\n\n        playerInstance.setCurrentTimeAndPlay(newCurrentTime, playerInstance.autoplayAfterAd);\n\n        playerInstance.isCurrentlyPlayingAd = false;\n\n        playerInstance.deleteVastAdElements();\n\n        playerInstance.adFinished = true;\n        playerInstance.displayOptions.vastOptions.vastAdvanced.vastVideoEndedCallback();\n        playerInstance.vastOptions = null;\n\n        playerInstance.setBuffering();\n        const progressbarContainer = document.getElementById(playerInstance.videoPlayerId + '_fluid_controls_progress_container');\n\n        if (progressbarContainer !== null) {\n            const backgroundColor = (playerInstance.displayOptions.layoutControls.primaryColor) ? playerInstance.displayOptions.layoutControls.primaryColor : \"white\";\n\n            const currentProgressBar = playerInstance.domRef.player.parentNode.getElementsByClassName('fluid_controls_currentprogress');\n\n            for (let i = 0; i < currentProgressBar.length; i++) {\n                currentProgressBar[i].style.backgroundColor = backgroundColor;\n            }\n        }\n\n        playerInstance.domRef.player.removeEventListener('ended', playerInstance.onVastAdEnded);\n\n        if (playerInstance.displayOptions.vastOptions.showProgressbarMarkers) {\n            playerInstance.showAdMarkers();\n        }\n\n        if (playerInstance.hasTitle()) {\n            const title = document.getElementById(playerInstance.videoPlayerId + '_title');\n            title.style.display = 'inline';\n        }\n    };\n\n    // ADS\n    playerInstance.getNextAdPod = () => {\n        const getFirstUnPlayedAd = false;\n        let adListId = null;\n\n        // if temporaryAdPods is not empty\n        if (playerInstance.temporaryAdPods.length > 0) {\n            const temporaryAdPods = playerInstance.temporaryAdPods.shift();\n            adListId = temporaryAdPods.id;\n        }\n\n        return adListId;\n    };\n\n    // ADS\n    playerInstance.checkForNextAd = () => {\n        const availableNextAdID = playerInstance.getNextAdPod();\n        if (availableNextAdID === null) {\n            playerInstance.switchToMainVideo();\n            playerInstance.vastOptions = null;\n            playerInstance.adFinished = true;\n        } else {\n            playerInstance.domRef.player.removeEventListener('ended', playerInstance.onVastAdEnded);\n            playerInstance.isCurrentlyPlayingAd = false;\n            playerInstance.vastOptions = null;\n            playerInstance.adFinished = true;\n            playerInstance.renderLinearAd(availableNextAdID, false); // passing false so it doesn't backup the Ad playbacktime as video playback time\n        }\n    };\n\n\n    /**\n     * Adds a Skip Button\n     */\n    playerInstance.addSkipButton = () => {\n        // TODO: ahh yes, the DIVbutton...\n        const divSkipButton = document.createElement('div');\n        divSkipButton.id = 'skip_button_' + playerInstance.videoPlayerId;\n        divSkipButton.className = 'skip_button skip_button_disabled';\n        divSkipButton.innerHTML = playerInstance.displayOptions.vastOptions.skipButtonCaption.replace('[seconds]', playerInstance.vastOptions.skipoffset);\n\n        document.getElementById('fluid_video_wrapper_' + playerInstance.videoPlayerId).appendChild(divSkipButton);\n\n        playerInstance.domRef.player.addEventListener('timeupdate', playerInstance.decreaseSkipOffset, false);\n    };\n\n    /**\n     * Ad Countdown\n     */\n    playerInstance.addAdCountdown = () => {\n        const videoWrapper = document.getElementById('fluid_video_wrapper_' + playerInstance.videoPlayerId);\n        const divAdCountdown = document.createElement('div');\n\n        // Create element\n        const adCountdown = playerInstance.pad(parseInt(playerInstance.currentVideoDuration / 60)) + ':' + playerInstance.pad(parseInt(playerInstance.currentVideoDuration % 60));\n        const durationText = parseInt(adCountdown);\n        divAdCountdown.id = 'ad_countdown' + playerInstance.videoPlayerId;\n        divAdCountdown.className = 'ad_countdown';\n        divAdCountdown.innerHTML = \"<span class='ad_timer_prefix'>Ad - </span>\" + durationText;\n\n        videoWrapper.appendChild(divAdCountdown);\n\n        playerInstance.domRef.player.addEventListener('timeupdate', playerInstance.decreaseAdCountdown, false);\n        videoWrapper.addEventListener('mouseover', function () {\n            divAdCountdown.style.display = 'none';\n        }, false);\n    };\n\n    playerInstance.decreaseAdCountdown = function decreaseAdCountdown() {\n        const sec = parseInt(playerInstance.currentVideoDuration) - parseInt(playerInstance.domRef.player.currentTime);\n        const btn = document.getElementById('ad_countdown' + playerInstance.videoPlayerId);\n\n        if (btn) {\n            btn.innerHTML = \"<span class='ad_timer_prefix'>Ad - </span> \" + playerInstance.pad(parseInt(sec / 60)) + ':' + playerInstance.pad(parseInt(sec % 60));\n        } else {\n            playerInstance.domRef.player.removeEventListener('timeupdate', playerInstance.decreaseAdCountdown);\n        }\n    };\n\n    playerInstance.removeAdCountdown = () => {\n        const btn = document.getElementById('ad_countdown' + playerInstance.videoPlayerId);\n        if (btn) {\n            btn.parentElement.removeChild(btn);\n        }\n    };\n\n    playerInstance.toggleAdCountdown = (showing) => {\n        const btn = document.getElementById('ad_countdown' + playerInstance.videoPlayerId);\n        if (btn) {\n            if (showing) {\n                btn.style.display = 'inline-block';\n            } else {\n                btn.style.display = 'none';\n            }\n        }\n    };\n\n    playerInstance.addAdPlayingText = (textToShow) => {\n        const adPlayingDiv = document.createElement('div');\n        adPlayingDiv.id = playerInstance.videoPlayerId + '_fluid_ad_playing';\n\n        if (playerInstance.displayOptions.layoutControls.primaryColor) {\n            adPlayingDiv.style.backgroundColor = playerInstance.displayOptions.layoutControls.primaryColor;\n            adPlayingDiv.style.opacity = 1;\n        }\n\n        adPlayingDiv.className = 'fluid_ad_playing';\n        adPlayingDiv.innerText = textToShow;\n\n        document.getElementById('fluid_video_wrapper_' + playerInstance.videoPlayerId).appendChild(adPlayingDiv);\n    };\n\n    playerInstance.positionTextElements = (adListData) => {\n        const allowedPosition = ['top left', 'top right', 'bottom left', 'bottom right'];\n\n        const skipButton = document.getElementById('skip_button_' + playerInstance.videoPlayerId);\n        const adPlayingDiv = document.getElementById(playerInstance.videoPlayerId + '_fluid_ad_playing');\n        const ctaButton = document.getElementById(playerInstance.videoPlayerId + '_fluid_cta');\n\n        let ctaButtonHeightWithSpacing = 0;\n        let adPlayingDivHeightWithSpacing = 0;\n        const pixelSpacing = 8;\n        let isBottom = false;\n        let skipButtonHeightWithSpacing = 0;\n        let positionsCTA = [];\n\n        const defaultPositions = {\n            top: {\n                left: {h: 34, v: 34},\n                right: {h: 0, v: 34}\n            },\n            bottom: {\n                left: {h: 34, v: 50},\n                right: {h: 0, v: 50}\n            }\n        };\n\n        if (skipButton !== null) {\n            skipButtonHeightWithSpacing = skipButton.offsetHeight + pixelSpacing;\n\n            const wrapperElement = playerInstance.domRef.wrapper;\n\n            if (wrapperElement.classList.contains('mobile')) {\n                defaultPositions.bottom.left.v = 75;\n                defaultPositions.bottom.right.v = 75;\n            }\n        }\n\n        let CTATextPosition;\n        if (ctaButton !== null) {\n            CTATextPosition = playerInstance.displayOptions.vastOptions.adCTATextPosition.toLowerCase();\n\n            if (allowedPosition.indexOf(CTATextPosition) === -1) {\n                console.log('[FP Error] Invalid position for CTAText. Reverting to \"bottom right\"');\n                CTATextPosition = 'bottom right';\n            }\n\n            positionsCTA = CTATextPosition.split(' ');\n\n            isBottom = positionsCTA[0] === 'bottom';\n\n            ctaButton.style[positionsCTA[0]] = defaultPositions[positionsCTA[0]][positionsCTA[1]].v + 'px';\n            ctaButton.style[positionsCTA[1]] = defaultPositions[positionsCTA[0]][positionsCTA[1]].h + 'px';\n\n            if (isBottom && positionsCTA[1] === 'right') {\n                ctaButton.style[positionsCTA[0]] = defaultPositions[positionsCTA[0]][positionsCTA[1]].v + skipButtonHeightWithSpacing + 'px';\n            }\n\n            ctaButtonHeightWithSpacing = ctaButton.offsetHeight + pixelSpacing + 'px';\n        }\n\n        let adPlayingDivPosition;\n        let positionsAdText;\n        if (adPlayingDiv !== null) {\n            adPlayingDivPosition = (adListData.adTextPosition !== null) ? adListData.adTextPosition.toLowerCase() : playerInstance.displayOptions.vastOptions.adTextPosition.toLowerCase();\n\n            if (allowedPosition.indexOf(adPlayingDivPosition) === -1) {\n                console.log('[FP Error] Invalid position for adText. Reverting to \"top left\"');\n                adPlayingDivPosition = 'top left';\n            }\n\n            positionsAdText = adPlayingDivPosition.split(' ');\n            adPlayingDiv.style[positionsAdText[0]] = defaultPositions[positionsAdText[0]][positionsAdText[1]].v + 'px';\n            adPlayingDiv.style[positionsAdText[1]] = defaultPositions[positionsAdText[0]][positionsAdText[1]].h + 'px';\n            adPlayingDivHeightWithSpacing = adPlayingDiv.offsetHeight + pixelSpacing + 'px';\n        }\n\n        if (ctaButtonHeightWithSpacing > 0 && adPlayingDivHeightWithSpacing > 0 && CTATextPosition === adPlayingDivPosition) {\n            if (isBottom) {\n                if (positionsCTA[1] === 'right') {\n                    adPlayingDiv.style.bottom = defaultPositions[positionsAdText[0]][positionsAdText[1]].v + skipButtonHeightWithSpacing + ctaButtonHeightWithSpacing + 'px';\n                } else {\n                    adPlayingDiv.style.bottom = defaultPositions[positionsAdText[0]][positionsAdText[1]].v + ctaButtonHeightWithSpacing + 'px';\n                }\n            } else {\n                ctaButton.style.top = defaultPositions[positionsCTA[0]][positionsCTA[1]].v + adPlayingDivHeightWithSpacing + 'px';\n            }\n        }\n    };\n\n    playerInstance.removeAdPlayingText = () => {\n        const div = document.getElementById(playerInstance.videoPlayerId + '_fluid_ad_playing');\n        if (!div) {\n            return;\n        }\n        div.parentElement.removeChild(div);\n    };\n\n    playerInstance.addCTAButton = (landingPage) => {\n        if (!landingPage) {\n            return;\n        }\n\n        const ctaButton = document.createElement('div');\n        ctaButton.id = playerInstance.videoPlayerId + '_fluid_cta';\n        ctaButton.className = 'fluid_ad_cta';\n\n        const link = document.createElement('span');\n        link.innerHTML = playerInstance.displayOptions.vastOptions.adCTAText + \"<br/><span class=\\\"add_icon_clickthrough\\\">\" + landingPage + \"</span>\";\n\n        ctaButton.addEventListener('click', () => {\n            if (!playerInstance.domRef.player.paused) {\n                playerInstance.domRef.player.pause();\n            }\n\n            const win = window.open(playerInstance.vastOptions.clickthroughUrl, '_blank');\n            win.focus();\n            return true;\n        }, false);\n\n        ctaButton.appendChild(link);\n\n        document.getElementById('fluid_video_wrapper_' + playerInstance.videoPlayerId).appendChild(ctaButton);\n    };\n\n    playerInstance.removeCTAButton = () => {\n        const btn = document.getElementById(playerInstance.videoPlayerId + '_fluid_cta');\n        if (!btn) {\n            return;\n        }\n\n        btn.parentElement.removeChild(btn);\n    };\n\n    playerInstance.decreaseSkipOffset = () => {\n        let sec = playerInstance.vastOptions.skipoffset - Math.floor(playerInstance.domRef.player.currentTime);\n        const btn = document.getElementById('skip_button_' + playerInstance.videoPlayerId);\n\n        if (!btn) {\n            playerInstance.domRef.player.removeEventListener('timeupdate', playerInstance.decreaseSkipOffset);\n            return;\n        }\n\n        if (sec >= 1) {\n            //set the button label with the remaining seconds\n            btn.innerHTML = playerInstance.displayOptions.vastOptions.skipButtonCaption.replace('[seconds]', sec);\n            return;\n        }\n\n        // TODO: refactored, but this is still terrible - remove all this and just make the button clickable...\n        const skipLink = document.createElement('a');\n        skipLink.href = '#';\n        skipLink.id = 'skipHref_' + playerInstance.videoPlayerId;\n        skipLink.innerHTML = playerInstance.displayOptions.vastOptions.skipButtonClickCaption;\n        skipLink.onclick = (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            playerInstance.pressSkipButton();\n        };\n\n        btn.innerHTML = '';\n        btn.appendChild(skipLink);\n\n        //removes the CSS class for a disabled button\n        btn.className = btn.className.replace(/\\bskip_button_disabled\\b/, '');\n\n        playerInstance.domRef.player.removeEventListener('timeupdate', playerInstance.decreaseSkipOffset);\n    };\n\n    playerInstance.pressSkipButton = () => {\n        playerInstance.removeSkipButton();\n        playerInstance.removeAdPlayingText();\n        playerInstance.removeCTAButton();\n\n        if (playerInstance.vastOptions.vpaid) {\n            // skip the linear vpaid ad\n            playerInstance.skipVpaidAd();\n            return;\n        }\n\n        // skip the regular linear vast\n        playerInstance.displayOptions.vastOptions.vastAdvanced.vastVideoSkippedCallback();\n        const event = document.createEvent('Event');\n        event.initEvent('ended', false, true);\n        playerInstance.domRef.player.dispatchEvent(event);\n    };\n\n    playerInstance.removeSkipButton = () => {\n        const btn = document.getElementById('skip_button_' + playerInstance.videoPlayerId);\n        if (btn) {\n            btn.parentElement.removeChild(btn);\n        }\n    };\n\n    /**\n     * Makes the player open the ad URL on clicking\n     */\n    playerInstance.addClickthroughLayer = () => {\n        const divWrapper = playerInstance.domRef.wrapper;\n\n        const divClickThrough = document.createElement('div');\n        divClickThrough.className = 'vast_clickthrough_layer';\n        divClickThrough.id = 'vast_clickthrough_layer_' + playerInstance.videoPlayerId;\n        divClickThrough.setAttribute(\n            'style',\n            'position: absolute; cursor: pointer; top: 0; left: 0; width: ' +\n            playerInstance.domRef.player.offsetWidth + 'px; height: ' +\n            (playerInstance.domRef.player.offsetHeight) + 'px;'\n        );\n\n        divWrapper.appendChild(divClickThrough);\n\n        //Bind the Onclick event\n        const openClickthrough = function () {\n            window.open(playerInstance.vastOptions.clickthroughUrl);\n\n            //Tracking the Clickthorugh events\n            if (typeof playerInstance.vastOptions.clicktracking !== 'undefined') {\n                playerInstance.callUris(playerInstance.vastOptions.clicktracking);\n            }\n        };\n\n        const clickthroughLayer = document.getElementById('vast_clickthrough_layer_' + playerInstance.videoPlayerId);\n        const isIos9orLower = (playerInstance.mobileInfo.device === 'iPhone') && (playerInstance.mobileInfo.userOsMajor !== false) && (playerInstance.mobileInfo.userOsMajor <= 9);\n\n        clickthroughLayer.onclick = () => {\n            if (playerInstance.domRef.player.paused) {\n                //On Mobile Safari on iPhones with iOS 9 or lower open the clickthrough only once\n                if (isIos9orLower && !playerInstance.suppressClickthrough) {\n                    openClickthrough();\n                    playerInstance.suppressClickthrough = true;\n\n                } else {\n                    playerInstance.domRef.player.play();\n                }\n\n            } else {\n                openClickthrough();\n                playerInstance.domRef.player.pause();\n            }\n        };\n    };\n\n    /**\n     * Remove the Clickthrough layer\n     */\n    playerInstance.removeClickthrough = () => {\n        const clickthroughLayer = document.getElementById('vast_clickthrough_layer_' + playerInstance.videoPlayerId);\n\n        if (clickthroughLayer) {\n            clickthroughLayer.parentNode.removeChild(clickthroughLayer);\n        }\n    };\n}\n","'use strict';\n\n// Prevent DASH.js from automatically attaching to video sources by default.\n// Whoever thought this is a good idea?!\nif (typeof window !== 'undefined' && !window.dashjs) {\n    window.dashjs = {\n        skipAutoCreate: true,\n        isDefaultSubject: true\n    };\n}\n\nexport default function (playerInstance, options) {\n    playerInstance.initialiseStreamers = () => {\n        playerInstance.detachStreamers();\n        switch (playerInstance.displayOptions.layoutControls.mediaType) {\n            case 'application/dash+xml': // MPEG-DASH\n                if (!playerInstance.dashScriptLoaded && (!window.dashjs || window.dashjs.isDefaultSubject)) {\n                    playerInstance.dashScriptLoaded = true;\n                    import(/* webpackChunkName: \"dashjs\" */ 'dashjs').then((it) => {\n                        window.dashjs = it.default;\n                        playerInstance.initialiseDash();\n                    });\n                } else {\n                    playerInstance.initialiseDash();\n                }\n                break;\n            case 'application/x-mpegurl': // HLS\n                if (!playerInstance.hlsScriptLoaded && !window.Hls) {\n                    playerInstance.hlsScriptLoaded = true;\n                    import(/* webpackChunkName: \"hlsjs\" */ 'hls.js').then((it) => {\n                        window.Hls = it.default;\n                        playerInstance.initialiseHls();\n                    });\n                } else {\n                    playerInstance.initialiseHls();\n                }\n                break;\n        }\n    };\n\n    playerInstance.initialiseDash = () => {\n        if (typeof (window.MediaSource || window.WebKitMediaSource) === 'function') {\n            // If false we want to override the autoPlay, as it comes from postRoll\n            const playVideo = !playerInstance.autoplayAfterAd\n                ? playerInstance.autoplayAfterAd\n                : playerInstance.displayOptions.layoutControls.autoPlay;\n\n            const defaultOptions = {\n                'debug': {\n                    'logLevel': typeof FP_DEBUG !== 'undefined' && FP_DEBUG === true\n                        ? dashjs.Debug.LOG_LEVEL_DEBUG\n                        : dashjs.Debug.LOG_LEVEL_FATAL\n                }\n            };\n\n            const dashPlayer = dashjs.MediaPlayer().create();\n            const options = playerInstance.displayOptions.modules.configureDash(defaultOptions);\n\n            dashPlayer.updateSettings(options);\n\n            playerInstance.displayOptions.modules.onBeforeInitDash(dashPlayer);\n\n            dashPlayer.initialize(playerInstance.domRef.player, playerInstance.originalSrc, playVideo);\n\n            dashPlayer.on('streamInitializing', () => {\n                playerInstance.toggleLoader(true);\n            });\n\n            dashPlayer.on('canPlay', () => {\n                playerInstance.toggleLoader(false);\n            });\n\n            dashPlayer.on('playbackPlaying', () => {\n                playerInstance.toggleLoader(false);\n            });\n\n            playerInstance.displayOptions.modules.onAfterInitDash(dashPlayer);\n\n            playerInstance.dashPlayer = dashPlayer;\n        } else {\n            playerInstance.nextSource();\n            console.log('[FP_WARNING] Media type not supported by this browser using DASH.js. (application/dash+xml)');\n        }\n    };\n\n    playerInstance.initialiseHls = () => {\n        if (Hls.isSupported()) {\n\n            const defaultOptions = {\n                debug: typeof FP_DEBUG !== 'undefined' && FP_DEBUG === true,\n                p2pConfig: {\n                    logLevel: false,\n                },\n                enableWebVTT: false,\n                enableCEA708Captions: false,\n            };\n\n            const options = playerInstance.displayOptions.modules.configureHls(defaultOptions);\n            const hls = new Hls(options);\n            playerInstance.displayOptions.modules.onBeforeInitHls(hls);\n\n            hls.attachMedia(playerInstance.domRef.player);\n            hls.loadSource(playerInstance.originalSrc);\n\n            playerInstance.displayOptions.modules.onAfterInitHls(hls);\n\n            playerInstance.hlsPlayer = hls;\n\n            if (!playerInstance.firstPlayLaunched && playerInstance.displayOptions.layoutControls.autoPlay) {\n                playerInstance.domRef.player.play();\n            }\n        } else {\n            playerInstance.nextSource();\n            console.log('[FP_WARNING] Media type not supported by this browser using HLS.js. (application/x-mpegURL)');\n        }\n    };\n\n    playerInstance.detachStreamers = () => {\n        if (playerInstance.dashPlayer) {\n            playerInstance.dashPlayer.reset();\n            playerInstance.dashPlayer = false;\n        } else if (playerInstance.hlsPlayer) {\n            playerInstance.hlsPlayer.detachMedia();\n            playerInstance.hlsPlayer = false;\n        }\n    };\n}\n","'use strict';\nexport default function (playerInstance, options) {\n    playerInstance.isTouchDevice = () => {\n        return !!('ontouchstart' in window        // works on most browsers\n            || navigator.maxTouchPoints);       // works on IE10/11 and Surface\n    };\n\n    /**\n     * Distinguishes iOS from Android devices and the OS version.\n     *\n     * This should be avoided in favor of capability detection.\n     *\n     * @deprecated deprecated as of v3.0\n     * @returns object\n     */\n    playerInstance.getMobileOs = () => {\n        const ua = navigator.userAgent || '';\n        const result = {device: false, userOs: false, userOsVer: false, userOsMajor: false};\n\n        let versionIndex;\n        // determine OS\n        if (ua.match(/Android/i)) {\n            result.userOs = 'Android';\n            versionIndex = ua.indexOf('Android ');\n        } else if (ua.match(/iPhone/i)) {\n            result.device = 'iPhone';\n            result.userOs = 'iOS';\n            versionIndex = ua.indexOf('OS ');\n        } else if (ua.match(/iPad/i)) {\n            result.device = 'iPad';\n            result.userOs = 'iOS';\n            versionIndex = ua.indexOf('OS ');\n        } else {\n            result.userOs = false;\n        }\n\n        // determine version\n        if ('iOS' === result.userOs && versionIndex > -1) {\n            const userOsTemp = ua.substr(versionIndex + 3);\n            const indexOfEndOfVersion = userOsTemp.indexOf(' ');\n\n            if (indexOfEndOfVersion !== -1) {\n                result.userOsVer = userOsTemp.substring(0, userOsTemp.indexOf(' ')).replace(/_/g, '.');\n                result.userOsMajor = parseInt(result.userOsVer);\n            }\n        } else if ('Android' === result.userOs && versionIndex > -1) {\n            result.userOsVer = ua.substr(versionIndex + 8, 3);\n        } else {\n            result.userOsVer = false;\n        }\n\n        return result;\n    };\n\n    /**\n     * Browser detection.\n     * This should be avoided in favor of capability detection.\n     *\n     * @deprecated deprecated as of v3.0\n     *\n     * @returns object\n     */\n    playerInstance.getBrowserVersion = () => {\n        const ua = navigator.userAgent || '';\n        const result = {browserName: false, fullVersion: false, majorVersion: false, userOsMajor: false};\n\n        let idx, uaindex;\n\n        try {\n            result.browserName = navigator.appName;\n\n            if ((idx = ua.indexOf('OPR/')) !== -1) {\n                result.browserName = 'Opera';\n                result.fullVersion = ua.substring(idx + 4);\n            } else if ((idx = ua.indexOf('Opera')) !== -1) {\n                result.browserName = 'Opera';\n                result.fullVersion = ua.substring(idx + 6);\n                if ((idx = ua.indexOf('Version')) !== -1)\n                    result.fullVersion = ua.substring(idx + 8);\n            } else if ((idx = ua.indexOf('MSIE')) !== -1) {\n                result.browserName = 'Microsoft Internet Explorer';\n                result.fullVersion = ua.substring(idx + 5);\n            } else if ((idx = ua.indexOf('Chrome')) !== -1) {\n                result.browserName = 'Google Chrome';\n                result.fullVersion = ua.substring(idx + 7);\n            } else if ((idx = ua.indexOf('Safari')) !== -1) {\n                result.browserName = 'Safari';\n                result.fullVersion = ua.substring(idx + 7);\n                if ((idx = ua.indexOf('Version')) !== -1)\n                    result.fullVersion = ua.substring(idx + 8);\n            } else if ((idx = ua.indexOf('Firefox')) !== -1) {\n                result.browserName = 'Mozilla Firefox';\n                result.fullVersion = ua.substring(idx + 8);\n            }\n\n            // Others \"name/version\" is at the end of userAgent\n            else if ((uaindex = ua.lastIndexOf(' ') + 1) < (idx = ua.lastIndexOf('/'))) {\n                result.browserName = ua.substring(uaindex, idx);\n                result.fullVersion = ua.substring(idx + 1);\n                if (result.browserName.toLowerCase() === result.browserName.toUpperCase()) {\n                    result.browserName = navigator.appName;\n                }\n            }\n\n            // trim the fullVersion string at semicolon/space if present\n            if ((uaindex = result.fullVersion.indexOf(';')) !== -1) {\n                result.fullVersion = result.fullVersion.substring(0, uaindex);\n            }\n            if ((uaindex = result.fullVersion.indexOf(' ')) !== -1) {\n                result.fullVersion = result.fullVersion.substring(0, uaindex);\n            }\n\n            result.majorVersion = parseInt('' + result.fullVersion, 10);\n\n            if (isNaN(result.majorVersion)) {\n                result.fullVersion = '' + parseFloat(navigator.appVersion);\n                result.majorVersion = parseInt(navigator.appVersion, 10);\n            }\n        } catch (e) {\n            //Return default obj.\n        }\n\n        return result;\n    };\n\n    playerInstance.compareVersion = (v1, v2) => {\n        if (typeof v1 !== 'string') return false;\n        if (typeof v2 !== 'string') return false;\n        v1 = v1.split('.');\n        v2 = v2.split('.');\n        const k = Math.min(v1.length, v2.length);\n        for (let i = 0; i < k; ++i) {\n            v1[i] = parseInt(v1[i], 10);\n            v2[i] = parseInt(v2[i], 10);\n            if (v1[i] > v2[i]) return 1;\n            if (v1[i] < v2[i]) return -1;\n        }\n        return v1.length === v2.length ? 0 : (v1.length < v2.length ? -1 : 1);\n    };\n\n    playerInstance.convertTimeStringToSeconds = (str) => {\n        if (!(str && str.match(/^(\\d){2}(:[0-5][0-9]){2}(.(\\d){1,3})?$/))) {\n            return false;\n        }\n\n        const timeParts = str.split(':');\n        return ((parseInt(timeParts[0], 10)) * 3600) + ((parseInt(timeParts[1], 10)) * 60) + (parseInt(timeParts[2], 10));\n    };\n\n    // Format time to hh:mm:ss\n    playerInstance.formatTime = (duration) => {\n        const formatDateObj = new Date(duration * 1000);\n        const formatHours = playerInstance.pad(formatDateObj.getUTCHours());\n        const formatMinutes = playerInstance.pad(formatDateObj.getUTCMinutes());\n        const formatSeconds = playerInstance.pad(formatDateObj.getSeconds());\n\n        return formatHours >= 1\n            ? formatHours + ':' + formatMinutes + ':' + formatSeconds\n            : formatMinutes + ':' + formatSeconds;\n    };\n\n    playerInstance.pad = (value) => {\n        if (value < 10) {\n            return '0' + value;\n        }\n        return value;\n    };\n}\n","'use strict';\n\n// Player modules\nimport VPAIDModule from './modules/vpaid';\nimport VASTModule from './modules/vast';\nimport CardboardModule from './modules/cardboard';\nimport SubtitleModule from './modules/subtitles';\nimport TimelineModule from './modules/timeline';\nimport AdSupportModule from './modules/adsupport';\nimport StreamingModule from './modules/streaming';\nimport UtilsModule from './modules/utils'\n\nconst FP_MODULES = [\n    VPAIDModule,\n    VASTModule,\n    CardboardModule,\n    SubtitleModule,\n    TimelineModule,\n    AdSupportModule,\n    StreamingModule,\n    UtilsModule\n];\n\n// Determine build mode\n// noinspection JSUnresolvedVariable\nconst FP_DEVELOPMENT_MODE = typeof FP_ENV !== 'undefined' && FP_ENV === 'development';\n\n// Are we running in debug mode?\n// noinspection JSUnresolvedVariable\nconst FP_RUNTIME_DEBUG = typeof FP_DEBUG !== 'undefined' && FP_DEBUG === true;\n\nlet playerInstances = 0;\n\nconst fluidPlayerClass = function () {\n    // \"self\" always points to current instance of the player within the scope of the instance\n    // This should help readability and context awareness slightly...\n    const self = this;\n\n    self.domRef = {\n        player: null\n    };\n\n    // noinspection JSUnresolvedVariable\n    self.version = typeof FP_BUILD_VERSION !== 'undefined' ? FP_BUILD_VERSION : '';\n    // noinspection JSUnresolvedVariable\n    self.homepage = typeof FP_HOMEPAGE !== 'undefined'\n        ? FP_HOMEPAGE + '/?utm_source=player&utm_medium=context_menu&utm_campaign=organic'\n        : '';\n    self.destructors = [];\n\n    self.init = (playerTarget, options) => {\n        // Install player modules and features\n        const moduleOptions = {\n            development: FP_DEVELOPMENT_MODE,\n            debug: FP_RUNTIME_DEBUG,\n        };\n\n        for (const playerModule of FP_MODULES) {\n            playerModule(self, moduleOptions);\n        }\n\n        let playerNode;\n        if (playerTarget instanceof HTMLVideoElement) {\n            playerNode = playerTarget;\n\n            // Automatically assign ID if none exists\n            if (!playerTarget.id) {\n                playerTarget.id = 'fluid_player_instance_' + (playerInstances++).toString();\n            }\n        } else if (typeof playerTarget === 'string' || playerTarget instanceof String) {\n            playerNode = document.getElementById(playerTarget);\n        } else {\n            throw 'Invalid initializer - player target must be HTMLVideoElement or ID';\n        }\n\n        if (!playerNode) {\n            throw 'Could not find a HTML node to attach to for target ' + playerTarget + '\"';\n        }\n\n        playerNode.setAttribute('playsinline', '');\n        playerNode.setAttribute('webkit-playsinline', '');\n\n        self.domRef.player = playerNode;\n        self.vrROTATION_POSITION = 0.1;\n        self.vrROTATION_SPEED = 80;\n        self.vrMode = false;\n        self.vrPanorama = null;\n        self.vrViewer = null;\n        self.vpaidTimer = null;\n        self.vpaidAdUnit = null;\n        self.vastOptions = null;\n        /**\n         * @deprecated Nothing should RELY on this. An internal ID generator\n         * should be used where absolutely necessary and DOM objects under FP control\n         * MUST be referenced in domRef.\n         */\n        self.videoPlayerId = playerNode.id;\n        self.originalSrc = self.getCurrentSrc();\n        self.isCurrentlyPlayingAd = false;\n        self.recentWaiting = false;\n        self.latestVolume = 1;\n        self.currentVideoDuration = 0;\n        self.firstPlayLaunched = false;\n        self.suppressClickthrough = false;\n        self.timelinePreviewData = [];\n        self.mainVideoCurrentTime = 0;\n        self.mainVideoDuration = 0;\n        self.isTimer = false;\n        self.timer = null;\n        self.timerPool = {};\n        self.adList = {};\n        self.adPool = {};\n        self.adGroupedByRolls = {};\n        self.onPauseRollAdPods = [];\n        self.currentOnPauseRollAd = '';\n        self.preRollAdsResolved = false;\n        self.preRollAdPods = [];\n        self.preRollAdPodsLength = 0;\n        self.preRollVastResolved = 0;\n        self.temporaryAdPods = [];\n        self.availableRolls = ['preRoll', 'midRoll', 'postRoll', 'onPauseRoll'];\n        self.supportedNonLinearAd = ['300x250', '468x60', '728x90'];\n        self.autoplayAfterAd = true;\n        self.nonLinearDuration = 15;\n        self.supportedStaticTypes = ['image/gif', 'image/jpeg', 'image/png'];\n        self.inactivityTimeout = null;\n        self.isUserActive = null;\n        self.nonLinearVerticalAlign = 'bottom';\n        self.vpaidNonLinearCloseButton = true;\n        self.showTimeOnHover = true;\n        self.initialAnimationSet = true;\n        self.theatreMode = false;\n        self.theatreModeAdvanced = false;\n        self.fullscreenMode = false;\n        self.originalWidth = playerNode.offsetWidth;\n        self.originalHeight = playerNode.offsetHeight;\n        self.dashPlayer = false;\n        self.hlsPlayer = false;\n        self.dashScriptLoaded = false;\n        self.hlsScriptLoaded = false;\n        self.isPlayingMedia = false;\n        self.isSwitchingSource = false;\n        self.isLoading = false;\n        self.isInIframe = self.inIframe();\n        self.mainVideoReadyState = false;\n        self.xmlCollection = [];\n        self.inLineFound = null;\n        self.fluidStorage = {};\n        self.fluidPseudoPause = false;\n        self.mobileInfo = self.getMobileOs();\n        self.events = {};\n\n        //Default options\n        self.displayOptions = {\n            layoutControls: {\n                mediaType: self.getCurrentSrcType(),\n                primaryColor: false,\n                posterImage: false,\n                posterImageSize: 'contain',\n                adProgressColor: '#f9d300',\n                playButtonShowing: true,\n                playPauseAnimation: true,\n                closeButtonCaption: 'Close', // Remove?\n                fillToContainer: false,\n                autoPlay: false,\n                preload: 'auto',\n                mute: false,\n                loop: null,\n                keyboardControl: true,\n                allowDownload: false,\n                playbackRateEnabled: false,\n                subtitlesEnabled: false,\n                showCardBoardView: false,\n                showCardBoardJoystick: false,\n                allowTheatre: true,\n                doubleclickFullscreen: true,\n                theatreSettings: {\n                    width: '100%',\n                    height: '60%',\n                    marginTop: 0,\n                    horizontalAlign: 'center',\n                    keepPosition: false\n                },\n                theatreAdvanced: false,\n                title: null,\n                logo: {\n                    imageUrl: null,\n                    position: 'top left',\n                    clickUrl: null,\n                    opacity: 1,\n                    mouseOverImageUrl: null,\n                    imageMargin: '2px',\n                    hideWithControls: false,\n                    showOverAds: false\n                },\n                controlBar: {\n                    autoHide: false,\n                    autoHideTimeout: 3,\n                    animated: true\n                },\n                timelinePreview: {\n                    spriteImage: false,\n                    spriteRelativePath: false\n                },\n                htmlOnPauseBlock: {\n                    html: null,\n                    height: null,\n                    width: null\n                },\n                layout: 'default', //options: 'default', '<custom>'\n                playerInitCallback: (function () {\n                }),\n                persistentSettings: {\n                    volume: true,\n                    quality: true,\n                    speed: true,\n                    theatre: true\n                },\n                controlForwardBackward: {\n                    show: false\n                },\n                contextMenu: {\n                    controls: true,\n                    links: []\n                },\n            },\n            vastOptions: {\n                adList: {},\n                skipButtonCaption: 'Skip ad in [seconds]',\n                skipButtonClickCaption: 'Skip Ad <span class=\"skip_button_icon\"></span>',\n                adText: null,\n                adTextPosition: 'top left',\n                adCTAText: 'Visit now!',\n                adCTATextPosition: 'bottom right',\n                adClickable: true,\n                vastTimeout: 5000,\n                showProgressbarMarkers: false,\n                allowVPAID: false,\n                showPlayButton: false,\n                maxAllowedVastTagRedirects: 3,\n                vpaidTimeout: 3000,\n\n                vastAdvanced: {\n                    vastLoadedCallback: (function () {\n                    }),\n                    noVastVideoCallback: (function () {\n                    }),\n                    vastVideoSkippedCallback: (function () {\n                    }),\n                    vastVideoEndedCallback: (function () {\n                    })\n                }\n            },\n            captions: {\n                play: 'Play',\n                pause: 'Pause',\n                mute: 'Mute',\n                unmute: 'Unmute',\n                fullscreen: 'Fullscreen',\n                subtitles: 'Subtitles',\n                exitFullscreen: 'Exit Fullscreen',\n            },\n            debug: FP_RUNTIME_DEBUG,\n            modules: {\n                configureHls: (options) => {\n                    return options;\n                },\n                onBeforeInitHls: (hls) => {\n                },\n                onAfterInitHls: (hls) => {\n                },\n                configureDash: (options) => {\n                    return options;\n                },\n                onBeforeInitDash: (dash) => {\n                },\n                onAfterInitDash: (dash) => {\n                }\n            },\n            onBeforeXMLHttpRequestOpen: (request) => {\n            },\n            onBeforeXMLHttpRequest: (request) => {\n                if (FP_RUNTIME_DEBUG || FP_DEVELOPMENT_MODE) {\n                    console.debug('[FP_DEBUG] Request made', request);\n                }\n            }\n        };\n\n        if (!!options.hlsjsConfig) {\n            console.error('[FP_ERROR] player option hlsjsConfig is removed and has no effect. ' +\n                'Use module callbacks instead!')\n        }\n\n        // Overriding the default options\n        for (let key in options) {\n            if (!options.hasOwnProperty(key)) {\n                continue;\n            }\n            if (typeof options[key] == \"object\") {\n                for (let subKey in options[key]) {\n                    if (!options[key].hasOwnProperty(subKey)) {\n                        continue;\n                    }\n                    self.displayOptions[key][subKey] = options[key][subKey];\n                }\n            } else {\n                self.displayOptions[key] = options[key];\n            }\n        }\n\n        self.domRef.wrapper = self.setupPlayerWrapper();\n\n        playerNode.addEventListener('webkitfullscreenchange', self.recalculateAdDimensions);\n        playerNode.addEventListener('fullscreenchange', self.recalculateAdDimensions);\n        playerNode.addEventListener('waiting', self.onRecentWaiting);\n        playerNode.addEventListener('pause', self.onFluidPlayerPause);\n        playerNode.addEventListener('loadedmetadata', self.mainVideoReady);\n        playerNode.addEventListener('error', self.onErrorDetection);\n        playerNode.addEventListener('ended', self.onMainVideoEnded);\n        playerNode.addEventListener('durationchange', () => {\n            self.currentVideoDuration = self.getCurrentVideoDuration();\n        });\n\n        if (self.displayOptions.layoutControls.showCardBoardView) {\n            // This fixes cross origin errors on three.js\n            playerNode.setAttribute('crossOrigin', 'anonymous');\n        }\n\n        //Manually load the video duration if the video was loaded before adding the event listener\n        self.currentVideoDuration = self.getCurrentVideoDuration();\n\n        if (isNaN(self.currentVideoDuration) || !isFinite(self.currentVideoDuration)) {\n            self.currentVideoDuration = 0;\n        }\n\n        self.setLayout();\n\n        //Set the volume control state\n        self.latestVolume = playerNode.volume;\n\n        // Set the default animation setting\n        self.initialAnimationSet = self.displayOptions.layoutControls.playPauseAnimation;\n\n        //Set the custom fullscreen behaviour\n        self.handleFullscreen();\n\n        self.initLogo();\n\n        self.initTitle();\n\n        self.initMute();\n\n        self.initLoop();\n\n        self.displayOptions.layoutControls.playerInitCallback();\n\n        self.createVideoSourceSwitch();\n\n        self.createSubtitles();\n\n        self.createCardboard();\n\n        self.userActivityChecker();\n\n        self.setVastList();\n\n        self.setPersistentSettings();\n\n        // DO NOT initialize streamers if there are pre-rolls. It will break the streamers!\n        // Streamers will re-initialize once ad has been shown.\n        const preRolls = self.findRoll('preRoll');\n        if (!preRolls || 0 === preRolls.length) {\n            self.initialiseStreamers();\n        }\n\n        const _play_videoPlayer = playerNode.play;\n\n        playerNode.play = function () {\n            let promise = null;\n\n            if (self.displayOptions.layoutControls.showCardBoardView) {\n                if (typeof DeviceOrientationEvent !== 'undefined' && typeof DeviceOrientationEvent.requestPermission === 'function') {\n                    DeviceOrientationEvent.requestPermission()\n                        .then(function (response) {\n                            if (response === 'granted') {\n                                self.debugMessage('DeviceOrientationEvent permission granted!');\n                            }\n                        })\n                        .catch(console.error);\n                }\n            }\n\n            try {\n                promise = _play_videoPlayer.apply(this, arguments);\n\n                if (promise !== undefined && promise !== null) {\n                    promise.then(() => {\n                        self.isPlayingMedia = true;\n                        clearTimeout(self.promiseTimeout);\n                    }).catch(error => {\n                        console.error('[FP_ERROR] Playback error', error);\n                        const isAbortError = (typeof error.name !== 'undefined' && error.name === 'AbortError');\n                        // Ignore abort errors which caused for example Safari or autoplay functions\n                        // (example: interrupted by a new load request)\n                        // (example: interrupted by a new load request)\n                        if (isAbortError) {\n                            // Ignore AbortError error reporting\n                        } else {\n                            self.announceLocalError(202, 'Failed to play video.');\n                        }\n\n                        clearTimeout(self.promiseTimeout);\n                    });\n\n                    self.promiseTimeout = setTimeout(function () {\n                        if (self.isPlayingMedia === false) {\n                            self.announceLocalError(204, '[FP_ERROR] Timeout error. Failed to play video?');\n                        }\n                    }, 5000);\n\n                }\n\n                return promise;\n            } catch (error) {\n                console.error('[FP_ERROR] Playback error', error);\n                self.announceLocalError(201, 'Failed to play video.');\n            }\n        };\n\n        const videoPauseOriginal = playerNode.pause;\n        playerNode.pause = function () {\n            if (self.isPlayingMedia === true) {\n                self.isPlayingMedia = false;\n                return videoPauseOriginal.apply(this, arguments);\n            }\n\n            // just in case\n            if (self.isCurrentlyPlayingVideo(self.domRef.player)) {\n                try {\n                    self.isPlayingMedia = false;\n                    return videoPauseOriginal.apply(this, arguments);\n                } catch (e) {\n                    self.announceLocalError(203, 'Failed to play video.');\n                }\n            }\n        };\n\n        if (!!self.displayOptions.layoutControls.autoPlay && !self.dashScriptLoaded && !self.hlsScriptLoaded) {\n            //There is known issue with Safari 11+, will prevent autoPlay, so we wont try\n            const browserVersion = self.getBrowserVersion();\n\n            if ('Safari' === browserVersion.browserName) {\n                return;\n            }\n\n            playerNode.play();\n        }\n\n        const videoWrapper = document.getElementById('fluid_video_wrapper_' + playerNode.id);\n\n        if (!self.mobileInfo.userOs) {\n            videoWrapper.addEventListener('mouseleave', self.handleMouseleave, false);\n            videoWrapper.addEventListener('mouseenter', self.showControlBar, false);\n            videoWrapper.addEventListener('mouseenter', self.showTitle, false);\n        } else {\n            //On mobile mouseleave behavior does not make sense, so it's better to keep controls, once the playback starts\n            //Autohide behavior on timer is a separate functionality\n            self.hideControlBar();\n            videoWrapper.addEventListener('touchstart', self.showControlBar, false);\n        }\n\n        //Keyboard Controls\n        if (self.displayOptions.layoutControls.keyboardControl) {\n            self.keyboardControl();\n        }\n\n        if (self.displayOptions.layoutControls.controlBar.autoHide) {\n            self.linkControlBarUserActivity();\n        }\n\n        // Hide the captions on init if user added subtitles track.\n        // We are taking captions track kind of as metadata\n        try {\n            if (!!self.domRef.player.textTracks) {\n                for (const textTrack of self.domRef.player.textTracks) {\n                    textTrack.mode = 'hidden';\n                }\n            }\n        } catch (_ignored) {\n        }\n    };\n\n    self.getCurrentVideoDuration = () => {\n        if (self.domRef.player) {\n            return self.domRef.player.duration;\n        }\n\n        return 0;\n    };\n\n    self.toggleLoader = (showLoader) => {\n        self.isLoading = !!showLoader;\n\n        const loaderDiv = document.getElementById('vast_video_loading_' + self.videoPlayerId);\n\n        loaderDiv.style.display = showLoader ? 'table' : 'none';\n    };\n\n    self.sendRequest = (url, withCredentials, timeout, functionReadyStateChange) => {\n        const xmlHttpReq = new XMLHttpRequest();\n\n        xmlHttpReq.onreadystatechange = functionReadyStateChange;\n\n        self.displayOptions.onBeforeXMLHttpRequestOpen(xmlHttpReq);\n\n        xmlHttpReq.open('GET', url, true);\n        xmlHttpReq.withCredentials = withCredentials;\n        xmlHttpReq.timeout = timeout;\n\n        self.displayOptions.onBeforeXMLHttpRequest(xmlHttpReq);\n\n        xmlHttpReq.send();\n    };\n\n    // TODO: rename\n    self.announceLocalError = (code, msg) => {\n        const parsedCode = typeof (code) !== 'undefined' ? parseInt(code) : 900;\n        let message = '[Error] (' + parsedCode + '): ';\n        message += !msg ? 'Failed to load Vast' : msg;\n        console.warn(message);\n    };\n\n    // TODO: move this somewhere else and refactor\n    self.debugMessage = (msg) => {\n        if (self.displayOptions.debug) {\n            console.log(msg);\n        }\n    };\n\n    self.onMainVideoEnded = (event) => {\n        self.debugMessage('onMainVideoEnded is called');\n\n        if (self.isCurrentlyPlayingAd && self.autoplayAfterAd) {  // It may be in-stream ending, and if it's not postroll then we don't execute anything\n            return;\n        }\n\n        //we can remove timer as no more ad will be shown\n        if (Math.floor(self.getCurrentTime()) >= Math.floor(self.mainVideoDuration)) {\n\n            // play pre-roll ad\n            // sometime pre-roll ad will be missed because we are clearing the timer\n            self.adKeytimePlay(Math.floor(self.mainVideoDuration));\n\n            clearInterval(self.timer);\n        }\n\n        if (!!self.displayOptions.layoutControls.loop) {\n            self.switchToMainVideo();\n            self.playPauseToggle();\n        }\n    };\n\n    self.getCurrentTime = () => {\n        return self.isCurrentlyPlayingAd\n            ? self.mainVideoCurrentTime\n            : self.domRef.player.currentTime;\n    };\n\n    /**\n     * Gets the src value of the first source element of the video tag.\n     *\n     * @returns string|null\n     */\n    self.getCurrentSrc = () => {\n        const sources = self.domRef.player.getElementsByTagName('source');\n\n        if (sources.length) {\n            return sources[0].getAttribute('src');\n        }\n\n        return null;\n    };\n\n    /**\n     * Src types required for streaming elements\n     */\n    self.getCurrentSrcType = () => {\n        const sources = self.domRef.player.getElementsByTagName('source');\n\n        if (!sources.length) {\n            return null;\n        }\n\n        for (let i = 0; i < sources.length; i++) {\n            if (sources[i].getAttribute('src') === self.originalSrc) {\n                return sources[i].getAttribute('type').toLowerCase();\n            }\n        }\n\n        return null;\n    };\n\n    self.onRecentWaiting = () => {\n        self.recentWaiting = true;\n\n        setTimeout(function () {\n            self.recentWaiting = false;\n        }, 1000);\n    };\n\n    /**\n     * Dispatches a custom pause event which is not present when seeking.\n     */\n    self.onFluidPlayerPause = () => {\n        setTimeout(function () {\n            if (self.recentWaiting) {\n                return;\n            }\n\n            const event = document.createEvent('CustomEvent');\n            event.initEvent('fluidplayerpause', false, true);\n            self.domRef.player.dispatchEvent(event);\n        }, 100);\n    };\n\n    self.checkShouldDisplayVolumeBar = () => {\n        return 'iOS' !== self.getMobileOs().userOs;\n    };\n\n    self.generateCustomControlTags = (options) => {\n        const controls = {};\n\n        // Loader\n        controls.loader = document.createElement('div');\n        controls.loader.className = 'vast_video_loading';\n        controls.loader.id = 'vast_video_loading_' + self.videoPlayerId;\n        controls.loader.style.display = 'none';\n\n        // Root element\n        controls.root = document.createElement('div');\n        controls.root.className = 'fluid_controls_container';\n        controls.root.id = self.videoPlayerId + '_fluid_controls_container';\n\n        if (!options.displayVolumeBar) {\n            controls.root.className = controls.root.className + ' no_volume_bar';\n        }\n\n        if (options.controlForwardBackward) {\n            controls.root.className = controls.root.className + ' skip_controls';\n        }\n\n        // Left container\n        controls.leftContainer = document.createElement('div');\n        controls.leftContainer.className = 'fluid_controls_left';\n        controls.root.appendChild(controls.leftContainer);\n\n        // Left container -> Play/Pause\n        controls.playPause = document.createElement('div');\n        controls.playPause.className = 'fluid_button fluid_button_play fluid_control_playpause';\n        controls.playPause.id = self.videoPlayerId + '_fluid_control_playpause';\n        controls.leftContainer.appendChild(controls.playPause);\n\n        if (options.controlForwardBackward) {\n            // Left container -> Skip backwards\n            controls.skipBack = document.createElement('div');\n            controls.skipBack.className = 'fluid_button fluid_button_skip_back';\n            controls.skipBack.id = self.videoPlayerId + '_fluid_control_skip_back';\n            controls.leftContainer.appendChild(controls.skipBack);\n\n            // Left container -> Skip forward\n            controls.skipForward = document.createElement('div');\n            controls.skipForward.className = 'fluid_button fluid_button_skip_forward';\n            controls.skipForward.id = self.videoPlayerId + '_fluid_control_skip_forward';\n            controls.leftContainer.appendChild(controls.skipForward);\n        }\n\n        // Progress container\n        controls.progressContainer = document.createElement('div');\n        controls.progressContainer.className = 'fluid_controls_progress_container fluid_slider';\n        controls.progressContainer.id = self.videoPlayerId + '_fluid_controls_progress_container';\n        controls.root.appendChild(controls.progressContainer);\n\n        // Progress container -> Progress wrapper\n        controls.progressWrapper = document.createElement('div');\n        controls.progressWrapper.className = 'fluid_controls_progress';\n        controls.progressContainer.appendChild(controls.progressWrapper);\n\n        // Progress container -> Progress wrapper -> Current progress\n        controls.progressCurrent = document.createElement('div');\n        controls.progressCurrent.className = 'fluid_controls_currentprogress';\n        controls.progressCurrent.id = self.videoPlayerId + '_vast_control_currentprogress';\n        controls.progressCurrent.style.backgroundColor = options.primaryColor;\n        controls.progressWrapper.appendChild(controls.progressCurrent);\n\n        // Progress container -> Progress wrapper -> Current progress -> Marker\n        controls.progress_current_marker = document.createElement('div');\n        controls.progress_current_marker.className = 'fluid_controls_currentpos';\n        controls.progress_current_marker.id = self.videoPlayerId + '_vast_control_currentpos';\n        controls.progressCurrent.appendChild(controls.progress_current_marker);\n\n        // Progress container -> Buffered indicator\n        controls.bufferedIndicator = document.createElement('div');\n        controls.bufferedIndicator.className = 'fluid_controls_buffered';\n        controls.bufferedIndicator.id = self.videoPlayerId + '_buffered_amount';\n        controls.progressContainer.appendChild(controls.bufferedIndicator);\n\n        // Progress container -> Ad markers\n        controls.adMarkers = document.createElement('div');\n        controls.adMarkers.className = 'fluid_controls_ad_markers_holder';\n        controls.adMarkers.id = self.videoPlayerId + '_ad_markers_holder';\n        controls.progressContainer.appendChild(controls.adMarkers);\n\n        // Right container\n        controls.rightContainer = document.createElement('div');\n        controls.rightContainer.className = 'fluid_controls_right';\n        controls.root.appendChild(controls.rightContainer);\n\n        // Right container -> Fullscreen\n        controls.fullscreen = document.createElement('div');\n        controls.fullscreen.id = self.videoPlayerId + '_fluid_control_fullscreen';\n        controls.fullscreen.className = 'fluid_button fluid_control_fullscreen fluid_button_fullscreen';\n        controls.rightContainer.appendChild(controls.fullscreen);\n\n        // Right container -> Theatre\n        controls.theatre = document.createElement('div');\n        controls.theatre.id = self.videoPlayerId + '_fluid_control_theatre';\n        controls.theatre.className = 'fluid_button fluid_control_theatre fluid_button_theatre';\n        controls.rightContainer.appendChild(controls.theatre);\n\n        // Right container -> Cardboard\n        controls.cardboard = document.createElement('div');\n        controls.cardboard.id = self.videoPlayerId + '_fluid_control_cardboard';\n        controls.cardboard.className = 'fluid_button fluid_control_cardboard fluid_button_cardboard';\n        controls.rightContainer.appendChild(controls.cardboard);\n\n        // Right container -> Subtitles\n        controls.subtitles = document.createElement('div');\n        controls.subtitles.id = self.videoPlayerId + '_fluid_control_subtitles';\n        controls.subtitles.className = 'fluid_button fluid_button_subtitles';\n        controls.rightContainer.appendChild(controls.subtitles);\n\n        // Right container -> Video source\n        controls.videoSource = document.createElement('div');\n        controls.videoSource.id = self.videoPlayerId + '_fluid_control_video_source';\n        controls.videoSource.className = 'fluid_button fluid_button_video_source';\n        controls.rightContainer.appendChild(controls.videoSource);\n\n        // Right container -> Playback rate\n        controls.playbackRate = document.createElement('div');\n        controls.playbackRate.id = self.videoPlayerId + '_fluid_control_playback_rate';\n        controls.playbackRate.className = 'fluid_button fluid_button_playback_rate';\n        controls.rightContainer.appendChild(controls.playbackRate);\n\n        // Right container -> Download\n        controls.download = document.createElement('div');\n        controls.download.id = self.videoPlayerId + '_fluid_control_download';\n        controls.download.className = 'fluid_button fluid_button_download';\n        controls.rightContainer.appendChild(controls.download);\n\n        // Right container -> Volume container\n        controls.volumeContainer = document.createElement('div');\n        controls.volumeContainer.id = self.videoPlayerId + '_fluid_control_volume_container';\n        controls.volumeContainer.className = 'fluid_control_volume_container fluid_slider';\n        controls.rightContainer.appendChild(controls.volumeContainer);\n\n        // Right container -> Volume container -> Volume\n        controls.volume = document.createElement('div');\n        controls.volume.id = self.videoPlayerId + '_fluid_control_volume';\n        controls.volume.className = 'fluid_control_volume';\n        controls.volumeContainer.appendChild(controls.volume);\n\n        // Right container -> Volume container -> Volume -> Current\n        controls.volumeCurrent = document.createElement('div');\n        controls.volumeCurrent.id = self.videoPlayerId + '_fluid_control_currentvolume';\n        controls.volumeCurrent.className = 'fluid_control_currentvolume';\n        controls.volume.appendChild(controls.volumeCurrent);\n\n        // Right container -> Volume container -> Volume -> Current -> position\n        controls.volumeCurrentPos = document.createElement('div');\n        controls.volumeCurrentPos.id = self.videoPlayerId + '_fluid_control_volume_currentpos';\n        controls.volumeCurrentPos.className = 'fluid_control_volume_currentpos';\n        controls.volumeCurrent.appendChild(controls.volumeCurrentPos);\n\n        // Right container -> Volume container\n        controls.mute = document.createElement('div');\n        controls.mute.id = self.videoPlayerId + '_fluid_control_mute';\n        controls.mute.className = 'fluid_button fluid_button_volume fluid_control_mute';\n        controls.rightContainer.appendChild(controls.mute);\n\n        // Right container -> Volume container\n        controls.duration = document.createElement('div');\n        controls.duration.id = self.videoPlayerId + '_fluid_control_duration';\n        controls.duration.className = 'fluid_control_duration fluid_fluid_control_duration';\n        controls.duration.innerText = '00:00 / 00:00';\n        controls.rightContainer.appendChild(controls.duration);\n\n        return controls;\n    };\n\n    self.controlPlayPauseToggle = () => {\n        const playPauseButton = self.domRef.player.parentNode.getElementsByClassName('fluid_control_playpause');\n        const menuOptionPlay = document.getElementById(self.videoPlayerId + 'context_option_play');\n        const controlsDisplay = self.domRef.player.parentNode.getElementsByClassName('fluid_controls_container');\n        const fpLogo = document.getElementById(self.videoPlayerId + '_logo');\n\n        const initialPlay = document.getElementById(self.videoPlayerId + '_fluid_initial_play');\n        if (initialPlay) {\n            document.getElementById(self.videoPlayerId + '_fluid_initial_play').style.display = \"none\";\n            document.getElementById(self.videoPlayerId + '_fluid_initial_play_button').style.opacity = \"1\";\n        }\n\n        if (!self.domRef.player.paused) {\n            for (let i = 0; i < playPauseButton.length; i++) {\n                playPauseButton[i].className = playPauseButton[i].className.replace(/\\bfluid_button_play\\b/g, 'fluid_button_pause');\n            }\n\n            for (let i = 0; i < controlsDisplay.length; i++) {\n                controlsDisplay[i].classList.remove('initial_controls_show');\n            }\n\n            if (fpLogo) {\n                fpLogo.classList.remove('initial_controls_show');\n            }\n\n            if (menuOptionPlay !== null) {\n                menuOptionPlay.innerHTML = self.displayOptions.captions.pause;\n            }\n\n            return;\n        }\n\n        for (let i = 0; i < playPauseButton.length; i++) {\n            playPauseButton[i].className = playPauseButton[i].className.replace(/\\bfluid_button_pause\\b/g, 'fluid_button_play');\n        }\n\n        for (let i = 0; i < controlsDisplay.length; i++) {\n            controlsDisplay[i].classList.add('initial_controls_show');\n        }\n\n        if (self.isCurrentlyPlayingAd && self.displayOptions.vastOptions.showPlayButton) {\n            document.getElementById(self.videoPlayerId + '_fluid_initial_play').style.display = \"block\";\n            document.getElementById(self.videoPlayerId + '_fluid_initial_play_button').style.opacity = \"1\";\n        }\n\n        if (fpLogo) {\n            fpLogo.classList.add('initial_controls_show');\n        }\n\n        if (menuOptionPlay !== null) {\n            menuOptionPlay.innerHTML = self.displayOptions.captions.play;\n        }\n    };\n\n    self.playPauseAnimationToggle = (play) => {\n        if (self.isCurrentlyPlayingAd || !self.displayOptions.layoutControls.playPauseAnimation || self.isSwitchingSource) {\n            return;\n        }\n\n        if (play) {\n            document.getElementById(self.videoPlayerId + '_fluid_state_button').classList.remove('fluid_initial_pause_button');\n            document.getElementById(self.videoPlayerId + '_fluid_state_button').classList.add('fluid_initial_play_button');\n        } else {\n            document.getElementById(self.videoPlayerId + '_fluid_state_button').classList.remove('fluid_initial_play_button');\n            document.getElementById(self.videoPlayerId + '_fluid_state_button').classList.add('fluid_initial_pause_button');\n        }\n\n        document.getElementById(self.videoPlayerId + '_fluid_initial_play').classList.add('transform-active');\n        setTimeout(\n            function () {\n                document.getElementById(self.videoPlayerId + '_fluid_initial_play').classList.remove('transform-active');\n            },\n            800\n        );\n    };\n\n    self.contolProgressbarUpdate = () => {\n        const currentProgressTag = self.domRef.player.parentNode.getElementsByClassName('fluid_controls_currentprogress');\n\n        for (let i = 0; i < currentProgressTag.length; i++) {\n            currentProgressTag[i].style.width = (self.domRef.player.currentTime / self.currentVideoDuration * 100) + '%';\n        }\n    };\n\n    self.controlDurationUpdate = () => {\n        const currentPlayTime = self.formatTime(self.domRef.player.currentTime);\n\n        let isLiveHls = false;\n        if (self.hlsPlayer) {\n            isLiveHls = self.hlsPlayer.levels &&\n                self.hlsPlayer.levels[self.hlsPlayer.currentLevel] &&\n                self.hlsPlayer.levels[self.hlsPlayer.currentLevel].details.live;\n        }\n\n        let durationText;\n        if (isNaN(self.currentVideoDuration) || !isFinite(self.currentVideoDuration) || isLiveHls) {\n            durationText = currentPlayTime;\n        } else {\n            const totalTime = self.formatTime(self.currentVideoDuration);\n            durationText = currentPlayTime + ' / ' + totalTime;\n        }\n\n        const timePlaceholder = self.domRef.player.parentNode.getElementsByClassName('fluid_control_duration');\n\n        for (let i = 0; i < timePlaceholder.length; i++) {\n            timePlaceholder[i].innerHTML = durationText;\n        }\n    };\n\n    self.contolVolumebarUpdate = () => {\n        const currentVolumeTag = document.getElementById(self.videoPlayerId + '_fluid_control_currentvolume');\n        const volumeposTag = document.getElementById(self.videoPlayerId + '_fluid_control_volume_currentpos');\n        const volumebarTotalWidth = document.getElementById(self.videoPlayerId + '_fluid_control_volume').clientWidth;\n        const volumeposTagWidth = volumeposTag.clientWidth;\n        const muteButtonTag = self.domRef.player.parentNode.getElementsByClassName('fluid_control_mute');\n        const menuOptionMute = document.getElementById(self.videoPlayerId + 'context_option_mute');\n\n        if (0 !== self.domRef.player.volume) {\n            self.latestVolume = self.domRef.player.volume;\n            self.fluidStorage.fluidMute = false;\n        } else {\n            self.fluidStorage.fluidMute = true;\n        }\n\n        if (self.domRef.player.volume && !self.domRef.player.muted) {\n            for (let i = 0; i < muteButtonTag.length; i++) {\n                muteButtonTag[i].className = muteButtonTag[i].className.replace(/\\bfluid_button_mute\\b/g, 'fluid_button_volume');\n            }\n\n            if (menuOptionMute !== null) {\n                menuOptionMute.innerHTML = self.displayOptions.captions.mute;\n            }\n\n        } else {\n            for (let i = 0; i < muteButtonTag.length; i++) {\n                muteButtonTag[i].className = muteButtonTag[i].className.replace(/\\bfluid_button_volume\\b/g, 'fluid_button_mute');\n            }\n\n            if (menuOptionMute !== null) {\n                menuOptionMute.innerHTML = self.displayOptions.captions.unmute;\n            }\n        }\n        currentVolumeTag.style.width = (self.domRef.player.volume * volumebarTotalWidth) + 'px';\n        volumeposTag.style.left = (self.domRef.player.volume * volumebarTotalWidth - (volumeposTagWidth / 2)) + 'px';\n    };\n\n    self.muteToggle = () => {\n        if (0 !== self.domRef.player.volume && !self.domRef.player.muted) {\n            self.domRef.player.volume = 0;\n            self.domRef.player.muted = true;\n        } else {\n            self.domRef.player.volume = self.latestVolume;\n            self.domRef.player.muted = false;\n        }\n\n        // Persistent settings\n        self.fluidStorage.fluidVolume = self.latestVolume;\n        self.fluidStorage.fluidMute = self.domRef.player.muted;\n    };\n\n    self.checkFullscreenSupport = (videoPlayerWrapperId) => {\n        const videoPlayerWrapper = document.getElementById(videoPlayerWrapperId);\n\n        if (videoPlayerWrapper.mozRequestFullScreen) {\n            return {\n                goFullscreen: 'mozRequestFullScreen',\n                exitFullscreen: 'mozCancelFullScreen',\n                isFullscreen: 'mozFullScreenElement'\n            };\n\n        } else if (videoPlayerWrapper.webkitRequestFullscreen) {\n            return {\n                goFullscreen: 'webkitRequestFullscreen',\n                exitFullscreen: 'webkitExitFullscreen',\n                isFullscreen: 'webkitFullscreenElement'\n            };\n\n        } else if (videoPlayerWrapper.msRequestFullscreen) {\n            return {\n                goFullscreen: 'msRequestFullscreen',\n                exitFullscreen: 'msExitFullscreen',\n                isFullscreen: 'msFullscreenElement'\n            };\n\n        } else if (videoPlayerWrapper.requestFullscreen) {\n            return {\n                goFullscreen: 'requestFullscreen',\n                exitFullscreen: 'exitFullscreen',\n                isFullscreen: 'fullscreenElement'\n            };\n\n        } else if (self.domRef.player.webkitSupportsFullscreen) {\n            return {\n                goFullscreen: 'webkitEnterFullscreen',\n                exitFullscreen: 'webkitExitFullscreen',\n                isFullscreen: 'webkitDisplayingFullscreen'\n            };\n        }\n\n        return false;\n    };\n\n    self.fullscreenOff = (fullscreenButton, menuOptionFullscreen) => {\n        for (let i = 0; i < fullscreenButton.length; i++) {\n            fullscreenButton[i].className = fullscreenButton[i].className.replace(/\\bfluid_button_fullscreen_exit\\b/g, 'fluid_button_fullscreen');\n        }\n        if (menuOptionFullscreen !== null) {\n            menuOptionFullscreen.innerHTML = 'Fullscreen';\n        }\n        self.fullscreenMode = false;\n    };\n\n    self.fullscreenOn = (fullscreenButton, menuOptionFullscreen) => {\n        for (let i = 0; i < fullscreenButton.length; i++) {\n            fullscreenButton[i].className = fullscreenButton[i].className.replace(/\\bfluid_button_fullscreen\\b/g, 'fluid_button_fullscreen_exit');\n        }\n\n        if (menuOptionFullscreen !== null) {\n            menuOptionFullscreen.innerHTML = self.displayOptions.captions.exitFullscreen;\n        }\n        self.fullscreenMode = true;\n    };\n\n    self.fullscreenToggle = () => {\n        const videoPlayerTag = self.domRef.player;\n        const fullscreenTag = document.getElementById('fluid_video_wrapper_' + self.videoPlayerId);\n        const requestFullscreenFunctionNames = self.checkFullscreenSupport('fluid_video_wrapper_' + self.videoPlayerId);\n        const fullscreenButton = videoPlayerTag.parentNode.getElementsByClassName('fluid_control_fullscreen');\n        const menuOptionFullscreen = document.getElementById(self.videoPlayerId + 'context_option_fullscreen');\n\n        // Disable Theatre mode if it's on while we toggle fullscreen\n        if (self.theatreMode) {\n            self.theatreToggle();\n        }\n\n        let functionNameToExecute;\n\n        if (requestFullscreenFunctionNames) {\n            // iOS fullscreen elements are different and so need to be treated separately\n            if (requestFullscreenFunctionNames.goFullscreen === 'webkitEnterFullscreen') {\n                if (!videoPlayerTag[requestFullscreenFunctionNames.isFullscreen]) {\n                    functionNameToExecute = 'videoPlayerTag.' + requestFullscreenFunctionNames.goFullscreen + '();';\n                    self.fullscreenOn(fullscreenButton, menuOptionFullscreen);\n                    new Function('videoPlayerTag', functionNameToExecute)(videoPlayerTag);\n                }\n            } else {\n                if (document[requestFullscreenFunctionNames.isFullscreen] === null) {\n                    //Go fullscreen\n                    functionNameToExecute = 'videoPlayerTag.' + requestFullscreenFunctionNames.goFullscreen + '();';\n                    self.fullscreenOn(fullscreenButton, menuOptionFullscreen);\n                } else {\n                    //Exit fullscreen\n                    functionNameToExecute = 'document.' + requestFullscreenFunctionNames.exitFullscreen + '();';\n                    self.fullscreenOff(fullscreenButton, menuOptionFullscreen);\n                }\n                new Function('videoPlayerTag', functionNameToExecute)(fullscreenTag);\n            }\n        } else {\n            //The browser does not support the Fullscreen API, so a pseudo-fullscreen implementation is used\n            if (fullscreenTag.className.search(/\\bpseudo_fullscreen\\b/g) !== -1) {\n                fullscreenTag.className = fullscreenTag.className.replace(/\\bpseudo_fullscreen\\b/g, '');\n                self.fullscreenOff(fullscreenButton, menuOptionFullscreen);\n            } else {\n                fullscreenTag.className += ' pseudo_fullscreen';\n                self.fullscreenOn(fullscreenButton, menuOptionFullscreen);\n            }\n        }\n\n        self.resizeVpaidAuto();\n\n    };\n\n    self.findClosestParent = (el, selector) => {\n        let matchesFn = null;\n\n        // find vendor prefix\n        ['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'].some(function (fn) {\n            if (typeof document.body[fn] == 'function') {\n                matchesFn = fn;\n                return true;\n            }\n            return false;\n        });\n\n        let parent;\n\n        // Check if the current element matches the selector\n        if (el[matchesFn](selector)) {\n            return el;\n        }\n\n        // traverse parents\n        while (el) {\n            parent = el.parentElement;\n            if (parent && parent[matchesFn](selector)) {\n                return parent;\n            }\n            el = parent;\n        }\n\n        return null;\n    };\n\n    self.getTranslateX = (el) => {\n        let coordinates = null;\n\n        try {\n            const results = el.style.transform.match(/translate3d\\((-?\\d+px,\\s?){2}-?\\d+px\\)/);\n\n            if (results && results.length) {\n                coordinates = results[0]\n                    .replace('translate3d(', '')\n                    .replace(')', '')\n                    .replace(/\\s/g, '')\n                    .replace(/px/g, '')\n                    .split(',')\n                ;\n            }\n        } catch (e) {\n            coordinates = null;\n        }\n\n        return (coordinates && (coordinates.length === 3)) ? parseInt(coordinates[0]) : 0;\n    };\n\n    self.getEventOffsetX = (evt, el) => {\n        let x = 0;\n        let translateX = 0;\n\n        while (el && !isNaN(el.offsetLeft)) {\n            translateX = self.getTranslateX(el);\n\n            if (el.tagName === 'BODY') {\n                x += el.offsetLeft + el.clientLeft + translateX - (el.scrollLeft || document.documentElement.scrollLeft);\n            } else {\n                x += el.offsetLeft + el.clientLeft + translateX - el.scrollLeft;\n            }\n\n            el = el.offsetParent;\n        }\n\n        let eventX;\n        if (typeof evt.touches !== 'undefined' && typeof evt.touches[0] !== 'undefined') {\n            eventX = evt.touches[0].clientX;\n        } else {\n            eventX = evt.clientX\n        }\n\n        return eventX - x;\n    };\n\n    self.getEventOffsetY = (evt, el) => {\n        let fullscreenMultiplier = 1;\n        const videoWrapper = self.findClosestParent(el, 'div[id^=\"fluid_video_wrapper_\"]');\n\n        if (videoWrapper) {\n            const videoPlayerId = videoWrapper.id.replace('fluid_video_wrapper_', '');\n\n            const requestFullscreenFunctionNames = self.checkFullscreenSupport('fluid_video_wrapper_' + videoPlayerId);\n            if (requestFullscreenFunctionNames && document[requestFullscreenFunctionNames.isFullscreen]) {\n                fullscreenMultiplier = 0;\n            }\n        }\n\n        let y = 0;\n\n        while (el && !isNaN(el.offsetTop)) {\n            if (el.tagName === 'BODY') {\n                y += el.offsetTop - ((el.scrollTop || document.documentElement.scrollTop) * fullscreenMultiplier);\n\n            } else {\n                y += el.offsetTop - (el.scrollTop * fullscreenMultiplier);\n            }\n\n            el = el.offsetParent;\n        }\n\n        return evt.clientY - y;\n    };\n\n    self.onProgressbarMouseDown = (event) => {\n        self.displayOptions.layoutControls.playPauseAnimation = false;\n        // we need an initial position for touchstart events, as mouse up has no offset x for iOS\n        let initialPosition;\n\n        if (self.displayOptions.layoutControls.showCardBoardView) {\n            initialPosition = self.getEventOffsetX(event, event.target.parentNode);\n        } else {\n            initialPosition = self.getEventOffsetX(event, document.getElementById(self.videoPlayerId + '_fluid_controls_progress_container'));\n        }\n\n        if (self.isCurrentlyPlayingAd) {\n            return;\n        }\n\n        self.fluidPseudoPause = true;\n\n        const initiallyPaused = self.domRef.player.paused;\n        if (!initiallyPaused) {\n            self.domRef.player.pause();\n        }\n\n        const shiftTime = timeBarX => {\n            const totalWidth = document.getElementById(self.videoPlayerId + '_fluid_controls_progress_container').clientWidth;\n            if (totalWidth) {\n                self.domRef.player.currentTime = self.currentVideoDuration * timeBarX / totalWidth;\n            }\n        };\n\n        const onProgressbarMouseMove = event => {\n            const currentX = self.getEventOffsetX(event, event.target.parentNode);\n            initialPosition = NaN; // mouse up will fire after the move, we don't want to trigger the initial position in the event of iOS\n            shiftTime(currentX);\n            self.contolProgressbarUpdate(self.videoPlayerId);\n            self.controlDurationUpdate(self.videoPlayerId);\n        };\n\n        const onProgressbarMouseUp = event => {\n            document.removeEventListener('mousemove', onProgressbarMouseMove);\n            document.removeEventListener('touchmove', onProgressbarMouseMove);\n            document.removeEventListener('mouseup', onProgressbarMouseUp);\n            document.removeEventListener('touchend', onProgressbarMouseUp);\n\n            let clickedX = self.getEventOffsetX(event, event.target.parentNode);\n\n            if (isNaN(clickedX) && !isNaN(initialPosition)) {\n                clickedX = initialPosition;\n            }\n\n            if (!isNaN(clickedX)) {\n                shiftTime(clickedX);\n            }\n\n            if (!initiallyPaused) {\n                self.play();\n            }\n\n            // Wait till video played then re-enable the animations\n            if (self.initialAnimationSet) {\n                setTimeout(() => {\n                    self.displayOptions.layoutControls.playPauseAnimation = self.initialAnimationSet;\n                }, 200);\n            }\n            self.fluidPseudoPause = false;\n        };\n\n        document.addEventListener('mouseup', onProgressbarMouseUp);\n        document.addEventListener('touchend', onProgressbarMouseUp);\n        document.addEventListener('mousemove', onProgressbarMouseMove);\n        document.addEventListener('touchmove', onProgressbarMouseMove);\n    };\n\n    self.onVolumeBarMouseDown = () => {\n        const shiftVolume = volumeBarX => {\n            const totalWidth = self.domRef.controls.volumeContainer.clientWidth;\n\n            if (totalWidth) {\n                let newVolume = volumeBarX / totalWidth;\n\n                if (newVolume < 0.05) {\n                    newVolume = 0;\n                    self.domRef.player.muted = true;\n                } else if (newVolume > 0.95) {\n                    newVolume = 1;\n                }\n\n                if (self.domRef.player.muted && newVolume > 0) {\n                    self.domRef.player.muted = false;\n                }\n\n                self.setVolume(newVolume);\n            }\n        }\n\n        const onVolumeBarMouseMove = event => {\n            const currentX = self.getEventOffsetX(event, self.domRef.controls.volumeContainer);\n            shiftVolume(currentX);\n        }\n\n        const onVolumeBarMouseUp = event => {\n            document.removeEventListener('mousemove', onVolumeBarMouseMove);\n            document.removeEventListener('touchmove', onVolumeBarMouseMove);\n            document.removeEventListener('mouseup', onVolumeBarMouseUp);\n            document.removeEventListener('touchend', onVolumeBarMouseUp);\n\n            const currentX = self.getEventOffsetX(event, self.domRef.controls.volumeContainer);\n\n            if (!isNaN(currentX)) {\n                shiftVolume(currentX);\n            }\n        }\n\n        document.addEventListener('mouseup', onVolumeBarMouseUp);\n        document.addEventListener('touchend', onVolumeBarMouseUp);\n        document.addEventListener('mousemove', onVolumeBarMouseMove);\n        document.addEventListener('touchmove', onVolumeBarMouseMove);\n    };\n\n    self.findRoll = (roll) => {\n        const ids = [];\n        ids.length = 0;\n\n        if (!roll || !self.hasOwnProperty('adList')) {\n            return;\n        }\n\n        for (let key in self.adList) {\n            if (!self.adList.hasOwnProperty(key)) {\n                continue;\n            }\n\n            if (self.adList[key].roll === roll) {\n                ids.push(key);\n            }\n        }\n\n        return ids;\n    };\n\n    self.onKeyboardVolumeChange = (direction) => {\n        let volume = self.domRef.player.volume;\n\n        if ('asc' === direction) {\n            volume += 0.05;\n        } else if ('desc' === direction) {\n            volume -= 0.05;\n        }\n\n        if (volume < 0.05) {\n            volume = 0;\n        } else if (volume > 0.95) {\n            volume = 1;\n        }\n\n        self.setVolume(volume);\n    };\n\n    self.onKeyboardSeekPosition = (keyCode) => {\n        if (self.isCurrentlyPlayingAd) {\n            return;\n        }\n\n        self.domRef.player.currentTime = self.getNewCurrentTimeValueByKeyCode(\n            keyCode,\n            self.domRef.player.currentTime,\n            self.domRef.player.duration\n        );\n    };\n\n    self.getNewCurrentTimeValueByKeyCode = (keyCode, currentTime, duration) => {\n        let newCurrentTime = currentTime;\n\n        switch (keyCode) {\n            case 37://left arrow\n                newCurrentTime -= 5;\n                newCurrentTime = (newCurrentTime < 5) ? 0 : newCurrentTime;\n                break;\n            case 39://right arrow\n                newCurrentTime += 5;\n                newCurrentTime = (newCurrentTime > duration - 5) ? duration : newCurrentTime;\n                break;\n            case 35://End\n                newCurrentTime = duration;\n                break;\n            case 36://Home\n                newCurrentTime = 0;\n                break;\n            case 48://0\n            case 49://1\n            case 50://2\n            case 51://3\n            case 52://4\n            case 53://5\n            case 54://6\n            case 55://7\n            case 56://8\n            case 57://9\n                if (keyCode < 58 && keyCode > 47) {\n                    const percent = (keyCode - 48) * 10;\n                    newCurrentTime = duration * percent / 100;\n                }\n                break;\n        }\n\n        return newCurrentTime;\n    };\n\n    self.handleMouseleave = (event) => {\n        if (typeof event.clientX !== 'undefined'\n            && self.domRef.wrapper.contains(document.elementFromPoint(event.clientX, event.clientY))) {\n            //false positive; we didn't actually leave the player\n            return;\n        }\n\n        self.hideControlBar();\n        self.hideTitle();\n    };\n\n    self.handleMouseenterForKeyboard = () => {\n        if (self.captureKey) {\n            return;\n        }\n\n        self.captureKey = event => {\n            event.stopPropagation();\n            const keyCode = event.keyCode;\n\n            switch (keyCode) {\n                case 70://f\n                    self.fullscreenToggle();\n                    event.preventDefault();\n                    break;\n                case 13://Enter\n                case 32://Space\n                    self.playPauseToggle();\n                    event.preventDefault();\n                    break;\n                case 77://m\n                    self.muteToggle();\n                    event.preventDefault();\n                    break;\n                case 38://up arrow\n                    self.onKeyboardVolumeChange('asc');\n                    event.preventDefault();\n                    break;\n                case 40://down arrow\n                    self.onKeyboardVolumeChange('desc');\n                    event.preventDefault();\n                    break;\n                case 37://left arrow\n                case 39://right arrow\n                case 35://End\n                case 36://Home\n                case 48://0\n                case 49://1\n                case 50://2\n                case 51://3\n                case 52://4\n                case 53://5\n                case 54://6\n                case 55://7\n                case 56://8\n                case 57://9\n                    self.onKeyboardSeekPosition(keyCode);\n                    event.preventDefault();\n                    break;\n            }\n\n            return false;\n\n        };\n\n        document.addEventListener('keydown', self.captureKey, true);\n    };\n\n    self.keyboardControl = () => {\n        self.domRef.wrapper.addEventListener('click', self.handleMouseenterForKeyboard, false);\n\n        // When we click outside player, we stop registering keyboard events\n        const clickHandler = self.handleWindowClick.bind(self);\n\n        self.destructors.push(() => {\n            window.removeEventListener('click', clickHandler);\n        });\n\n        window.addEventListener('click', clickHandler);\n    };\n\n    self.handleWindowClick = (e) => {\n        if (!self.domRef.wrapper) {\n            console.warn('Dangling click event listener should be collected for unknown wrapper ' + self.videoPlayerId\n                + '. Did you forget to call destroy on player instance?');\n            return;\n        }\n\n        const inScopeClick = self.domRef.wrapper.contains(e.target) || e.target.id === 'skipHref_' + self.videoPlayerId;\n\n        if (inScopeClick) {\n            return;\n        }\n\n        document.removeEventListener('keydown', self.captureKey, true);\n        delete self['captureKey'];\n\n        if (self.theatreMode && !self.theatreModeAdvanced) {\n            self.theatreToggle();\n        }\n    };\n\n    self.initialPlay = () => {\n        self.domRef.player.addEventListener('playing', () => {\n            self.toggleLoader(false);\n        });\n\n        self.domRef.player.addEventListener('timeupdate', () => {\n            // some places we are manually displaying toggleLoader\n            // user experience toggleLoader being displayed even when content is playing in background\n            self.toggleLoader(false);\n        });\n\n        self.domRef.player.addEventListener('waiting', () => {\n            self.toggleLoader(true);\n        });\n\n        if (!self.displayOptions.layoutControls.playButtonShowing) {\n            // Controls always showing until the video is first played\n            const initialControlsDisplay = document.getElementById(self.videoPlayerId + '_fluid_controls_container');\n            initialControlsDisplay.classList.remove('initial_controls_show');\n            // The logo shows before playing but may need to be removed\n            const fpPlayer = document.getElementById(self.videoPlayerId + '_logo');\n            if (fpPlayer) {\n                fpPlayer.classList.remove('initial_controls_show');\n            }\n        }\n\n        if (!self.firstPlayLaunched) {\n            self.playPauseToggle();\n            self.domRef.player.removeEventListener('play', self.initialPlay);\n        }\n    };\n\n    self.playPauseToggle = () => {\n        const isFirstStart = !self.firstPlayLaunched;\n        const preRolls = self.findRoll('preRoll');\n\n        if (!isFirstStart || preRolls.length === 0) {\n            if (isFirstStart && preRolls.length === 0) {\n                self.firstPlayLaunched = true;\n                self.displayOptions.vastOptions.vastAdvanced.noVastVideoCallback();\n            }\n\n            if (self.domRef.player.paused) {\n                if (self.isCurrentlyPlayingAd && self.vastOptions !== null && self.vastOptions.vpaid) {\n                    // resume the vpaid linear ad\n                    self.resumeVpaidAd();\n                } else {\n                    // resume the regular linear vast or content video player\n                    if (self.dashPlayer) {\n                        self.dashPlayer.play();\n                    } else {\n                        self.domRef.player.play();\n                    }\n                }\n\n                self.playPauseAnimationToggle(true);\n\n            } else if (!isFirstStart) {\n                if (self.isCurrentlyPlayingAd && self.vastOptions !== null && self.vastOptions.vpaid) {\n                    // pause the vpaid linear ad\n                    self.pauseVpaidAd();\n                } else {\n                    // pause the regular linear vast or content video player\n                    self.domRef.player.pause();\n                }\n\n                self.playPauseAnimationToggle(false);\n            }\n\n            self.toggleOnPauseAd();\n        } else {\n            self.isCurrentlyPlayingAd = true;\n\n            // Workaround for Safari or Mobile Chrome - otherwise it blocks the subsequent\n            // play() command, because it considers it not being triggered by the user.\n            // The URL is hardcoded here to cover widest possible use cases.\n            // If you know of an alternative workaround for this issue - let us know!\n            const browserVersion = self.getBrowserVersion();\n            const isChromeAndroid = self.mobileInfo.userOs !== false\n                && self.mobileInfo.userOs === 'Android'\n                && browserVersion.browserName === 'Google Chrome';\n\n            if ('Safari' === browserVersion.browserName || isChromeAndroid) {\n                self.domRef.player.src = 'https://cdn.fluidplayer.com/static/blank.mp4';\n                self.domRef.player.play();\n                self.playPauseAnimationToggle(true);\n            }\n\n            self.firstPlayLaunched = true;\n\n            //trigger the loading of the VAST Tag\n            self.prepareVast('preRoll');\n            self.preRollAdPodsLength = preRolls.length;\n        }\n\n        const prepareVastAdsThatKnowDuration = () => {\n            self.prepareVast('onPauseRoll');\n            self.prepareVast('postRoll');\n            self.prepareVast('midRoll');\n        };\n\n        if (isFirstStart) {\n            // Remove the div that was placed as a fix for poster image and DASH streaming, if it exists\n            const pseudoPoster = document.getElementById(self.videoPlayerId + '_fluid_pseudo_poster');\n            if (pseudoPoster) {\n                pseudoPoster.parentNode.removeChild(pseudoPoster);\n            }\n\n            if (self.mainVideoDuration > 0) {\n                prepareVastAdsThatKnowDuration();\n            } else {\n                self.domRef.player.addEventListener('mainVideoDurationSet', prepareVastAdsThatKnowDuration);\n            }\n        }\n\n        self.adTimer();\n\n        const blockOnPause = document.getElementById(self.videoPlayerId + '_fluid_html_on_pause');\n\n        if (blockOnPause && !self.isCurrentlyPlayingAd) {\n            if (self.domRef.player.paused) {\n                blockOnPause.style.display = 'flex';\n            } else {\n                blockOnPause.style.display = 'none';\n            }\n        }\n    };\n\n    self.setCustomControls = () => {\n        //Set the Play/Pause behaviour\n        self.trackEvent(self.domRef.player.parentNode, 'click', '.fluid_control_playpause', () => {\n            if (!self.firstPlayLaunched) {\n                self.domRef.player.removeEventListener('play', self.initialPlay);\n            }\n\n            self.playPauseToggle();\n        }, false);\n\n        self.domRef.player.addEventListener('play', () => {\n            self.controlPlayPauseToggle();\n            self.contolVolumebarUpdate();\n        }, false);\n\n        self.domRef.player.addEventListener('fluidplayerpause', () => {\n            self.controlPlayPauseToggle();\n        }, false);\n\n        //Set the progressbar\n        self.domRef.player.addEventListener('timeupdate', () => {\n            self.contolProgressbarUpdate();\n            self.controlDurationUpdate();\n        });\n\n        const isMobileChecks = self.getMobileOs();\n        const eventOn = (isMobileChecks.userOs) ? 'touchstart' : 'mousedown';\n\n        if (self.displayOptions.layoutControls.showCardBoardView) {\n            self.trackEvent(\n                self.domRef.player.parentNode,\n                eventOn,\n                '.fluid_controls_progress_container',\n                event => self.onProgressbarMouseDown(event),\n                false\n            );\n        } else {\n            document.getElementById(self.videoPlayerId + '_fluid_controls_progress_container')\n                .addEventListener(eventOn, event => self.onProgressbarMouseDown(event), false);\n        }\n\n        //Set the volume controls\n        document.getElementById(self.videoPlayerId + '_fluid_control_volume_container')\n            .addEventListener(eventOn, event => self.onVolumeBarMouseDown(), false);\n\n        self.domRef.player.addEventListener('volumechange', () => self.contolVolumebarUpdate());\n\n        self.trackEvent(self.domRef.player.parentNode, 'click', '.fluid_control_mute', () => self.muteToggle());\n\n        self.setBuffering();\n\n        //Set the fullscreen control\n        self.trackEvent(self.domRef.player.parentNode, 'click', '.fluid_control_fullscreen', () => self.fullscreenToggle());\n\n        // Theatre mode\n        if (self.displayOptions.layoutControls.allowTheatre && !self.isInIframe) {\n            document.getElementById(self.videoPlayerId + '_fluid_control_theatre').style.display = 'inline-block';\n            self.trackEvent(self.domRef.player.parentNode, 'click', '.fluid_control_theatre', () => self.theatreToggle());\n        } else {\n            document.getElementById(self.videoPlayerId + '_fluid_control_theatre').style.display = 'none';\n        }\n\n        self.domRef.player.addEventListener('ratechange', () => {\n            if (self.isCurrentlyPlayingAd) {\n                self.playbackRate = 1;\n            }\n        });\n    };\n\n    // Create the time position preview only if the vtt previews aren't enabled\n    self.createTimePositionPreview = () => {\n        if (!self.showTimeOnHover) {\n            return;\n        }\n\n        const progressContainer = document.getElementById(self.videoPlayerId + '_fluid_controls_progress_container');\n        const previewContainer = document.createElement('div');\n\n        previewContainer.id = self.videoPlayerId + '_fluid_timeline_preview';\n        previewContainer.className = 'fluid_timeline_preview';\n        previewContainer.style.display = 'none';\n        previewContainer.style.position = 'absolute';\n\n        progressContainer.appendChild(previewContainer);\n\n        // Set up hover for time position preview display\n        document.getElementById(self.videoPlayerId + '_fluid_controls_progress_container')\n            .addEventListener('mousemove', event => {\n                const progressContainer = document.getElementById(self.videoPlayerId + '_fluid_controls_progress_container');\n                const totalWidth = progressContainer.clientWidth;\n                const hoverTimeItem = document.getElementById(self.videoPlayerId + '_fluid_timeline_preview');\n                const hoverQ = self.getEventOffsetX(event, progressContainer);\n\n                const hoverSecondQ = self.currentVideoDuration * hoverQ / totalWidth;\n                hoverTimeItem.innerText = self.formatTime(hoverSecondQ);\n\n                hoverTimeItem.style.display = 'block';\n                hoverTimeItem.style.left = (hoverSecondQ / self.domRef.player.duration * 100) + \"%\";\n            }, false);\n\n        // Hide timeline preview on mouseout\n        document.getElementById(self.videoPlayerId + '_fluid_controls_progress_container')\n            .addEventListener('mouseout', () => {\n                const hoverTimeItem = document.getElementById(self.videoPlayerId + '_fluid_timeline_preview');\n                hoverTimeItem.style.display = 'none';\n            }, false);\n    };\n\n    self.setCustomContextMenu = () => {\n        const playerWrapper = self.domRef.wrapper;\n\n        const showDefaultControls = self.displayOptions.layoutControls.contextMenu.controls;\n        const extraLinks = self.displayOptions.layoutControls.contextMenu.links;\n\n        //Create own context menu\n        const divContextMenu = document.createElement('div');\n        divContextMenu.id = self.videoPlayerId + '_fluid_context_menu';\n        divContextMenu.className = 'fluid_context_menu';\n        divContextMenu.style.display = 'none';\n        divContextMenu.style.position = 'absolute';\n\n        const contextMenuList = document.createElement('ul');\n        divContextMenu.appendChild(contextMenuList);\n\n        if (!!extraLinks) {\n            for (const link of extraLinks) {\n                const linkItem = document.createElement('li');\n                linkItem.id = self.videoPlayerId + 'context_option_play';\n                linkItem.innerHTML = link.label;\n                linkItem.addEventListener('click', () => window.open(link.href, '_blank'), false);\n                contextMenuList.appendChild(linkItem);\n            }\n        }\n\n        if (showDefaultControls) {\n            const menuItemPlay = document.createElement('li');\n            menuItemPlay.id = self.videoPlayerId + 'context_option_play';\n            menuItemPlay.innerHTML = self.displayOptions.captions.play;\n            menuItemPlay.addEventListener('click', () => self.playPauseToggle(), false);\n            contextMenuList.appendChild(menuItemPlay);\n\n            const menuItemMute = document.createElement('li');\n            menuItemMute.id = self.videoPlayerId + 'context_option_mute';\n            menuItemMute.innerHTML = self.displayOptions.captions.mute;\n            menuItemMute.addEventListener('click', () => self.muteToggle(), false);\n            contextMenuList.appendChild(menuItemMute);\n\n            const menuItemFullscreen = document.createElement('li');\n            menuItemFullscreen.id = self.videoPlayerId + 'context_option_fullscreen';\n            menuItemFullscreen.innerHTML = self.displayOptions.captions.fullscreen;\n            menuItemFullscreen.addEventListener('click', () => self.fullscreenToggle(), false);\n            contextMenuList.appendChild(menuItemFullscreen);\n        }\n\n        const menuItemVersion = document.createElement('li');\n        menuItemVersion.id = self.videoPlayerId + 'context_option_homepage';\n        menuItemVersion.innerHTML = 'Fluid Player ' + self.version;\n        menuItemVersion.addEventListener('click', () => window.open(self.homepage, '_blank'), false)\n        contextMenuList.appendChild(menuItemVersion);\n\n        self.domRef.player.parentNode.insertBefore(divContextMenu, self.domRef.player.nextSibling);\n\n        //Disable the default context menu\n        playerWrapper.addEventListener('contextmenu', e => {\n            e.preventDefault();\n\n            divContextMenu.style.left = self.getEventOffsetX(e, self.domRef.player) + 'px';\n            divContextMenu.style.top = self.getEventOffsetY(e, self.domRef.player) + 'px';\n            divContextMenu.style.display = 'block';\n        }, false);\n\n        //Hide the context menu on clicking elsewhere\n        document.addEventListener('click', e => {\n            if ((e.target !== self.domRef.player) || e.button !== 2) {\n                divContextMenu.style.display = 'none';\n            }\n        }, false);\n    };\n\n    self.setDefaultLayout = () => {\n        self.domRef.wrapper.className += ' fluid_player_layout_' + self.displayOptions.layoutControls.layout;\n\n        self.setCustomContextMenu();\n\n        const controls = self.generateCustomControlTags({\n            displayVolumeBar: self.checkShouldDisplayVolumeBar(),\n            primaryColor: self.displayOptions.layoutControls.primaryColor\n                ? self.displayOptions.layoutControls.primaryColor\n                : 'red',\n            controlForwardBackward: !!self.displayOptions.layoutControls.controlForwardBackward.show\n        });\n\n        // Remove the default controls\n        self.domRef.player.removeAttribute('controls');\n\n        // Insert custom controls and append loader\n        self.domRef.player.parentNode.insertBefore(controls.root, self.domRef.player.nextSibling);\n        self.domRef.player.parentNode.insertBefore(controls.loader, self.domRef.player.nextSibling);\n\n        // Register controls locally\n        self.domRef.controls = controls;\n\n        /**\n         * Set the volumebar after its elements are properly rendered.\n         */\n        let remainingAttemptsToInitiateVolumeBar = 100;\n\n        const initiateVolumebar = function () {\n            if (!remainingAttemptsToInitiateVolumeBar) {\n                clearInterval(initiateVolumebarTimerId);\n            } else if (self.checkIfVolumebarIsRendered()) {\n                clearInterval(initiateVolumebarTimerId);\n                self.contolVolumebarUpdate(self.videoPlayerId);\n            } else {\n                remainingAttemptsToInitiateVolumeBar--;\n            }\n        };\n        let initiateVolumebarTimerId = setInterval(initiateVolumebar, 100);\n\n        if (self.displayOptions.layoutControls.doubleclickFullscreen) {\n            self.domRef.player.addEventListener('dblclick', self.fullscreenToggle);\n        }\n\n        self.initHtmlOnPauseBlock();\n\n        self.setCustomControls();\n\n        self.setupThumbnailPreview();\n\n        self.createTimePositionPreview();\n\n        self.posterImage();\n\n        self.initPlayButton();\n\n        self.setVideoPreload();\n\n        self.createPlaybackList();\n\n        self.createDownload();\n\n        if (!!self.displayOptions.layoutControls.controlForwardBackward.show) {\n            self.initSkipControls();\n        }\n    };\n\n    self.initSkipControls = () => {\n        const skipFunction = (period) => {\n            if (self.isCurrentlyPlayingAd) {\n                return;\n            }\n\n            let skipTo = self.domRef.player.currentTime + period;\n            if (skipTo < 0) {\n                skipTo = 0;\n            }\n            self.domRef.player.currentTime = skipTo;\n        };\n\n        self.domRef.controls.skipBack.addEventListener('click', skipFunction.bind(this, -10));\n        self.domRef.controls.skipForward.addEventListener('click', skipFunction.bind(this, 10));\n    };\n\n    /**\n     * Checks if the volumebar is rendered and the styling applied by comparing\n     * the width of 2 elements that should look different.\n     *\n     * @returns Boolean\n     */\n    self.checkIfVolumebarIsRendered = () => {\n        const volumeposTag = document.getElementById(self.videoPlayerId + '_fluid_control_volume_currentpos');\n        const volumebarTotalWidth = document.getElementById(self.videoPlayerId + '_fluid_control_volume').clientWidth;\n        const volumeposTagWidth = volumeposTag.clientWidth;\n\n        return volumeposTagWidth !== volumebarTotalWidth;\n    };\n\n    self.setLayout = () => {\n        //All other browsers\n        const listenTo = (self.isTouchDevice()) ? 'touchend' : 'click';\n        self.domRef.player.addEventListener(listenTo, () => self.playPauseToggle(), false);\n        //Mobile Safari - because it does not emit a click event on initial click of the video\n        self.domRef.player.addEventListener('play', self.initialPlay, false);\n        self.setDefaultLayout();\n    };\n\n    self.handleFullscreen = () => {\n        if (typeof document.vastFullsreenChangeEventListenersAdded !== 'undefined') {\n            return;\n        }\n\n        ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'msfullscreenchange'].forEach(eventType => {\n            if (typeof (document['on' + eventType]) === 'object') {\n                document.addEventListener(eventType, function (ev) {\n                    self.recalculateAdDimensions();\n                }, false);\n            }\n        });\n\n        document.vastFullsreenChangeEventListenersAdded = true;\n    };\n\n    self.setupPlayerWrapper = () => {\n        const wrapper = document.createElement('div');\n\n        wrapper.id = 'fluid_video_wrapper_' + self.videoPlayerId;\n        wrapper.className = self.isTouchDevice()\n            ? 'fluid_video_wrapper mobile'\n            : 'fluid_video_wrapper';\n\n        //Assign the height/width dimensions to the wrapper\n        if (self.displayOptions.layoutControls.fillToContainer) {\n            wrapper.style.width = '100%';\n            wrapper.style.height = '100%';\n        } else {\n            wrapper.style.height = self.domRef.player.clientHeight + 'px';\n            wrapper.style.width = self.domRef.player.clientWidth + 'px';\n        }\n\n        self.domRef.player.style.height = '100%';\n        self.domRef.player.style.width = '100%';\n\n        self.domRef.player.parentNode.insertBefore(wrapper, self.domRef.player);\n        wrapper.appendChild(self.domRef.player);\n\n        return wrapper;\n    };\n\n    self.onErrorDetection = () => {\n        if (self.domRef.player.networkState === self.domRef.player.NETWORK_NO_SOURCE && self.isCurrentlyPlayingAd) {\n            //Probably the video ad file was not loaded successfully\n            self.playMainVideoWhenVastFails(401);\n        }\n    };\n\n    self.createVideoSourceSwitch = () => {\n        const sources = [];\n        const sourcesList = self.domRef.player.querySelectorAll('source');\n        [].forEach.call(sourcesList, source => {\n            if (source.title && source.src) {\n                sources.push({\n                    'title': source.title,\n                    'url': source.src,\n                    'isHD': (source.getAttribute('data-fluid-hd') != null)\n                });\n            }\n        });\n\n        self.videoSources = sources;\n        if (self.videoSources.length <= 1) {\n            return;\n        }\n\n        const sourceChangeButton = document.getElementById(self.videoPlayerId + '_fluid_control_video_source');\n        sourceChangeButton.style.display = 'inline-block';\n\n        let appendSourceChange = false;\n\n        const sourceChangeList = document.createElement('div');\n        sourceChangeList.id = self.videoPlayerId + '_fluid_control_video_source_list';\n        sourceChangeList.className = 'fluid_video_sources_list';\n        sourceChangeList.style.display = 'none';\n\n        let firstSource = true;\n        for (const source of self.videoSources) {\n            // Fix for issues occurring on iOS with mkv files\n            const getTheType = source.url.split(\".\").pop();\n            if (self.mobileInfo.userOs === 'iOS' && getTheType === 'mkv') {\n                continue;\n            }\n\n            const sourceSelected = (firstSource) ? \"source_selected\" : \"\";\n            const hdElement = (source.isHD) ? '<sup style=\"color:' + self.displayOptions.layoutControls.primaryColor + '\" class=\"fp_hd_source\"></sup>' : '';\n            firstSource = false;\n            const sourceChangeDiv = document.createElement('div');\n            sourceChangeDiv.id = 'source_' + self.videoPlayerId + '_' + source.title;\n            sourceChangeDiv.className = 'fluid_video_source_list_item';\n            sourceChangeDiv.innerHTML = '<span class=\"source_button_icon ' + sourceSelected + '\"></span>' + source.title + hdElement;\n\n            sourceChangeDiv.addEventListener('click', function (event) {\n                event.stopPropagation();\n                // While changing source the player size can flash, we want to set the pixel dimensions then back to 100% afterwards\n                self.domRef.player.style.width = self.domRef.player.clientWidth + 'px';\n                self.domRef.player.style.height = self.domRef.player.clientHeight + 'px';\n\n                const videoChangedTo = this;\n                const sourceIcons = document.getElementsByClassName('source_button_icon');\n                for (let i = 0; i < sourceIcons.length; i++) {\n                    sourceIcons[i].className = sourceIcons[i].className.replace('source_selected', '');\n                }\n                videoChangedTo.firstChild.className += ' source_selected';\n\n                self.videoSources.forEach(source => {\n                    if (source.title === videoChangedTo.innerText.replace(/(\\r\\n\\t|\\n|\\r\\t)/gm, '')) {\n                        self.setBuffering();\n                        self.setVideoSource(source.url);\n                        self.fluidStorage.fluidQuality = source.title;\n                    }\n                });\n\n                self.openCloseVideoSourceSwitch();\n            });\n\n            sourceChangeList.appendChild(sourceChangeDiv);\n            appendSourceChange = true;\n        }\n\n        if (appendSourceChange) {\n            sourceChangeButton.appendChild(sourceChangeList);\n            sourceChangeButton.addEventListener('click', () => {\n                self.openCloseVideoSourceSwitch();\n            });\n        } else {\n            // Didn't give any source options\n            document.getElementById(self.videoPlayerId + '_fluid_control_video_source').style.display = 'none';\n        }\n    };\n\n    self.openCloseVideoSourceSwitch = () => {\n        const sourceChangeList = document.getElementById(self.videoPlayerId + '_fluid_control_video_source_list');\n\n        if (self.isCurrentlyPlayingAd) {\n            sourceChangeList.style.display = 'none';\n            return;\n        }\n\n        if (sourceChangeList.style.display !== 'none') {\n            sourceChangeList.style.display = 'none';\n            return;\n        }\n\n        sourceChangeList.style.display = 'block';\n        const mouseOut = () => {\n            sourceChangeList.removeEventListener('mouseleave', mouseOut);\n            sourceChangeList.style.display = 'none';\n        };\n        sourceChangeList.addEventListener('mouseleave', mouseOut);\n    };\n\n    self.setVideoSource = (url) => {\n        if (self.mobileInfo.userOs === 'iOS' && url.indexOf('.mkv') > 0) {\n            console.log('[FP_ERROR] .mkv files not supported by iOS devices.');\n            return false;\n        }\n\n        if (self.isCurrentlyPlayingAd) {\n            self.originalSrc = url;\n            return;\n        }\n\n        self.isSwitchingSource = true;\n        let play = false;\n        if (!self.domRef.player.paused) {\n            self.domRef.player.pause();\n            play = true;\n        }\n\n        const currentTime = self.domRef.player.currentTime;\n        self.setCurrentTimeAndPlay(currentTime, play);\n\n        self.domRef.player.src = url;\n        self.originalSrc = url;\n        self.displayOptions.layoutControls.mediaType = self.getCurrentSrcType();\n        self.initialiseStreamers();\n    };\n\n    self.setCurrentTimeAndPlay = (newCurrentTime, shouldPlay) => {\n        const loadedMetadata = () => {\n            self.domRef.player.currentTime = newCurrentTime;\n            self.domRef.player.removeEventListener('loadedmetadata', loadedMetadata);\n            // Safari ios and mac fix to set currentTime\n            if (self.mobileInfo.userOs === 'iOS' || self.getBrowserVersion().browserName.toLowerCase() === 'safari') {\n                self.domRef.player.addEventListener('playing', videoPlayStart);\n            }\n\n            if (shouldPlay) {\n                self.domRef.player.play();\n            } else {\n                self.domRef.player.pause();\n                self.controlPlayPauseToggle(self.videoPlayerId);\n            }\n\n            self.isSwitchingSource = false;\n            self.domRef.player.style.width = '100%';\n            self.domRef.player.style.height = '100%';\n        };\n\n        let videoPlayStart = () => {\n            self.currentTime = newCurrentTime;\n            self.domRef.player.removeEventListener('playing', videoPlayStart);\n        };\n\n        self.domRef.player.addEventListener('loadedmetadata', loadedMetadata, false);\n        self.domRef.player.load();\n    };\n\n    self.initTitle = () => {\n        if (!self.displayOptions.layoutControls.title) {\n            return;\n        }\n\n        const titleHolder = document.createElement('div');\n        titleHolder.id = self.videoPlayerId + '_title';\n        self.domRef.player.parentNode.insertBefore(titleHolder, null);\n        titleHolder.innerHTML += self.displayOptions.layoutControls.title;\n        titleHolder.classList.add('fp_title');\n    };\n\n    self.hasTitle = () => {\n        const title = document.getElementById(self.videoPlayerId + '_title');\n        const titleOption = self.displayOptions.layoutControls.title;\n        return title && titleOption != null;\n    };\n\n    self.hideTitle = () => {\n        const titleHolder = document.getElementById(self.videoPlayerId + '_title');\n\n        if (!self.hasTitle()) {\n            return;\n        }\n\n        titleHolder.classList.add('fade_out');\n    };\n\n    self.showTitle = () => {\n        const titleHolder = document.getElementById(self.videoPlayerId + '_title');\n\n        if (!self.hasTitle()) {\n            return;\n        }\n\n        titleHolder.classList.remove('fade_out');\n    };\n\n    self.initLogo = () => {\n        if (!self.displayOptions.layoutControls.logo.imageUrl) {\n            return;\n        }\n\n        // Container div for the logo\n        // This is to allow for fade in and out logo_maintain_display\n        const logoHolder = document.createElement('div');\n        logoHolder.id = self.videoPlayerId + '_logo';\n        let hideClass = 'logo_maintain_display';\n        if (self.displayOptions.layoutControls.logo.hideWithControls) {\n            hideClass = 'initial_controls_show';\n        }\n        logoHolder.classList.add(hideClass, 'fp_logo');\n\n        // The logo itself\n        const logoImage = document.createElement('img');\n        logoImage.id = self.videoPlayerId + '_logo_image';\n        if (self.displayOptions.layoutControls.logo.imageUrl) {\n            logoImage.src = self.displayOptions.layoutControls.logo.imageUrl;\n        }\n\n        logoImage.style.position = 'absolute';\n        logoImage.style.margin = self.displayOptions.layoutControls.logo.imageMargin;\n        const logoPosition = self.displayOptions.layoutControls.logo.position.toLowerCase();\n\n        if (logoPosition.indexOf('bottom') !== -1) {\n            logoImage.style.bottom = 0;\n        } else {\n            logoImage.style.top = 0;\n        }\n        if (logoPosition.indexOf('right') !== -1) {\n            logoImage.style.right = 0;\n        } else {\n            logoImage.style.left = 0;\n        }\n        if (self.displayOptions.layoutControls.logo.opacity) {\n            logoImage.style.opacity = self.displayOptions.layoutControls.logo.opacity;\n        }\n\n        if (self.displayOptions.layoutControls.logo.clickUrl !== null) {\n            logoImage.style.cursor = 'pointer';\n            logoImage.addEventListener('click', function () {\n                const win = window.open(self.displayOptions.layoutControls.logo.clickUrl, '_blank');\n                win.focus();\n            });\n        }\n\n        // If a mouseOverImage is provided then we must set up the listeners for it\n        if (self.displayOptions.layoutControls.logo.mouseOverImageUrl) {\n            logoImage.addEventListener('mouseover', function () {\n                logoImage.src = self.displayOptions.layoutControls.logo.mouseOverImageUrl;\n            }, false);\n            logoImage.addEventListener('mouseout', function () {\n                logoImage.src = self.displayOptions.layoutControls.logo.imageUrl;\n            }, false);\n        }\n\n        self.domRef.player.parentNode.insertBefore(logoHolder, null);\n        logoHolder.appendChild(logoImage, null);\n    };\n\n    self.initHtmlOnPauseBlock = () => {\n        //If onPauseRoll is defined than HtmlOnPauseBlock won't be shown\n        if (self.hasValidOnPauseAd()) {\n            return;\n        }\n\n        if (!self.displayOptions.layoutControls.htmlOnPauseBlock.html) {\n            return;\n        }\n\n        const containerDiv = document.createElement('div');\n        containerDiv.id = self.videoPlayerId + '_fluid_html_on_pause';\n        containerDiv.className = 'fluid_html_on_pause';\n        containerDiv.style.display = 'none';\n        containerDiv.innerHTML = self.displayOptions.layoutControls.htmlOnPauseBlock.html;\n        containerDiv.onclick = function (event) {\n            self.playPauseToggle();\n        };\n\n        if (self.displayOptions.layoutControls.htmlOnPauseBlock.width) {\n            containerDiv.style.width = self.displayOptions.layoutControls.htmlOnPauseBlock.width + 'px';\n        }\n\n        if (self.displayOptions.layoutControls.htmlOnPauseBlock.height) {\n            containerDiv.style.height = self.displayOptions.layoutControls.htmlOnPauseBlock.height + 'px';\n        }\n\n        self.domRef.player.parentNode.insertBefore(containerDiv, null);\n    };\n\n    /**\n     * Play button in the middle when the video loads\n     */\n    self.initPlayButton = () => {\n        // Create the html fpr the play button\n        const containerDiv = document.createElement('div');\n        containerDiv.id = self.videoPlayerId + '_fluid_initial_play_button';\n        containerDiv.className = 'fluid_html_on_pause';\n        const backgroundColor = (self.displayOptions.layoutControls.primaryColor) ? self.displayOptions.layoutControls.primaryColor : \"#333333\";\n        containerDiv.innerHTML = '<div id=\"' + self.videoPlayerId + '_fluid_initial_play\" class=\"fluid_initial_play\" style=\"background-color:' + backgroundColor + '\"><div id=\"' + self.videoPlayerId + '_fluid_state_button\" class=\"fluid_initial_play_button\"></div></div>';\n        const initPlayFunction = function () {\n            self.playPauseToggle();\n            containerDiv.removeEventListener('click', initPlayFunction);\n        };\n        containerDiv.addEventListener('click', initPlayFunction);\n\n        // If the user has chosen to not show the play button we'll make it invisible\n        // We don't hide altogether because animations might still be used\n        if (!self.displayOptions.layoutControls.playButtonShowing) {\n            const initialControlsDisplay = document.getElementById(self.videoPlayerId + '_fluid_controls_container');\n            initialControlsDisplay.classList.add('initial_controls_show');\n            containerDiv.style.opacity = '0';\n        }\n\n        self.domRef.player.parentNode.insertBefore(containerDiv, null);\n    };\n\n    /**\n     * Set the mainVideoDuration property one the video is loaded\n     */\n    self.mainVideoReady = () => {\n        if (!(self.mainVideoDuration === 0 && !self.isCurrentlyPlayingAd && self.mainVideoReadyState === false)) {\n            return;\n        }\n        const event = new CustomEvent('mainVideoDurationSet');\n\n        self.mainVideoDuration = self.domRef.player.duration;\n        self.mainVideoReadyState = true;\n        self.domRef.player.dispatchEvent(event);\n        self.domRef.player.removeEventListener('loadedmetadata', self.mainVideoReady);\n    };\n\n    self.userActivityChecker = () => {\n        const videoPlayer = self.domRef.wrapper;\n        self.newActivity = null;\n\n        let isMouseStillDown = false;\n\n        const activity = event => {\n            if (event.type === 'touchstart' || event.type === 'mousedown') {\n                isMouseStillDown = true;\n            }\n            if (event.type === 'touchend' || event.type === 'mouseup') {\n                isMouseStillDown = false;\n            }\n            self.newActivity = true;\n        };\n\n        setInterval(() => {\n            if (self.newActivity !== true) {\n                return;\n            }\n\n            if (!isMouseStillDown && !self.isLoading) {\n                self.newActivity = false;\n            }\n\n            if (self.isUserActive === false || !self.isControlBarVisible()) {\n                let event = new CustomEvent('userActive');\n                self.domRef.player.dispatchEvent(event);\n                self.isUserActive = true;\n            }\n\n            clearTimeout(self.inactivityTimeout);\n\n            self.inactivityTimeout = setTimeout(() => {\n                if (self.newActivity === true) {\n                    clearTimeout(self.inactivityTimeout);\n                    return;\n                }\n\n                self.isUserActive = false;\n\n                let event = new CustomEvent('userInactive');\n                self.domRef.player.dispatchEvent(event);\n            }, self.displayOptions.layoutControls.controlBar.autoHideTimeout * 1000);\n        }, 300);\n\n        const listenTo = (self.isTouchDevice())\n            ? ['touchstart', 'touchmove', 'touchend']\n            : ['mousemove', 'mousedown', 'mouseup'];\n\n        for (let i = 0; i < listenTo.length; i++) {\n            videoPlayer.addEventListener(listenTo[i], activity);\n        }\n    };\n\n    self.hasControlBar = () => {\n        return !!document.getElementById(self.videoPlayerId + '_fluid_controls_container');\n    };\n\n    self.isControlBarVisible = () => {\n        if (self.hasControlBar() === false) {\n            return false;\n        }\n\n        const controlBar = document.getElementById(self.videoPlayerId + '_fluid_controls_container');\n        const style = window.getComputedStyle(controlBar, null);\n        return !(style.opacity === 0 || style.visibility === 'hidden');\n    };\n\n    self.setVideoPreload = () => {\n        self.domRef.player.setAttribute('preload', self.displayOptions.layoutControls.preload);\n    };\n\n    self.hideControlBar = () => {\n        if (self.isCurrentlyPlayingAd && !self.domRef.player.paused) {\n            self.toggleAdCountdown(true);\n        }\n\n        self.domRef.player.style.cursor = 'none';\n\n        // handles both VR and Normal condition\n        if (!self.hasControlBar()) {\n            return;\n        }\n\n        const divVastControls = self.domRef.player.parentNode.getElementsByClassName('fluid_controls_container');\n        const fpLogo = self.domRef.player.parentNode.getElementsByClassName('fp_logo');\n\n        for (let i = 0; i < divVastControls.length; i++) {\n            if (self.displayOptions.layoutControls.controlBar.animated) {\n                divVastControls[i].classList.remove('fade_in');\n                divVastControls[i].classList.add('fade_out');\n            } else {\n                divVastControls[i].style.display = 'none';\n            }\n        }\n\n        for (let i = 0; i < fpLogo.length; i++) {\n            if (self.displayOptions.layoutControls.controlBar.animated) {\n                if (fpLogo[i]) {\n                    fpLogo[i].classList.remove('fade_in');\n                    fpLogo[i].classList.add('fade_out');\n                }\n            } else {\n                if (fpLogo[i]) {\n                    fpLogo[i].style.display = 'none';\n                }\n            }\n        }\n    };\n\n    self.showControlBar = () => {\n        if (self.isCurrentlyPlayingAd && !self.domRef.player.paused) {\n            self.toggleAdCountdown(false);\n        }\n\n\n        if (!self.isTouchDevice()) {\n            self.domRef.player.style.cursor = 'default';\n        }\n\n        if (!self.hasControlBar()) {\n            return;\n        }\n\n        const divVastControls = self.domRef.player.parentNode.getElementsByClassName('fluid_controls_container');\n        const fpLogo = self.domRef.player.parentNode.getElementsByClassName('fp_logo');\n        for (let i = 0; i < divVastControls.length; i++) {\n            if (self.displayOptions.layoutControls.controlBar.animated) {\n                divVastControls[i].classList.remove('fade_out');\n                divVastControls[i].classList.add('fade_in');\n            } else {\n                divVastControls[i].style.display = 'block';\n            }\n        }\n\n        for (let i = 0; i < fpLogo.length; i++) {\n            if (self.displayOptions.layoutControls.controlBar.animated) {\n                if (fpLogo[i]) {\n                    fpLogo[i].classList.remove('fade_out');\n                    fpLogo[i].classList.add('fade_in');\n                }\n            } else {\n                if (fpLogo[i]) {\n                    fpLogo[i].style.display = 'block';\n                }\n            }\n        }\n    };\n\n    self.linkControlBarUserActivity = () => {\n        self.domRef.player.addEventListener('userInactive', self.hideControlBar);\n        self.domRef.player.addEventListener('userInactive', self.hideTitle);\n\n        self.domRef.player.addEventListener('userActive', self.showControlBar);\n        self.domRef.player.addEventListener('userActive', self.showTitle);\n    };\n\n    self.initMute = () => {\n        if (self.displayOptions.layoutControls.mute !== true) {\n            return;\n        }\n\n        self.domRef.player.volume = 0;\n    };\n\n    self.initLoop = () => {\n        self.domRef.player.loop = !!self.displayOptions.layoutControls.loop;\n    };\n\n    self.setBuffering = () => {\n        let progressInterval;\n        const bufferBar = self.domRef.player.parentNode.getElementsByClassName('fluid_controls_buffered');\n\n        for (let j = 0; j < bufferBar.length; j++) {\n            bufferBar[j].style.width = 0;\n        }\n\n        // Buffering\n        const logProgress = () => {\n            const duration = self.domRef.player.duration;\n            if (duration <= 0) {\n                return;\n            }\n\n            for (let i = 0; i < self.domRef.player.buffered.length; i++) {\n                if (self.domRef.player.buffered.start(self.domRef.player.buffered.length - 1 - i) >= self.domRef.player.currentTime) {\n                    continue;\n                }\n\n                const newBufferLength = (self.domRef.player.buffered.end(self.domRef.player.buffered.length - 1 - i) / duration) * 100 + \"%\";\n\n                for (let j = 0; j < bufferBar.length; j++) {\n                    bufferBar[j].style.width = newBufferLength;\n                }\n\n                // Stop checking for buffering if the video is fully buffered\n                if (!!progressInterval && 1 === (self.domRef.player.buffered.end(self.domRef.player.buffered.length - 1 - i) / duration)) {\n                    clearInterval(progressInterval);\n                }\n\n                break;\n            }\n        };\n        progressInterval = setInterval(logProgress, 500);\n    };\n\n    self.createPlaybackList = () => {\n        const playbackRates = ['x2', 'x1.5', 'x1', 'x0.5'];\n\n        if (!self.displayOptions.layoutControls.playbackRateEnabled) {\n            return;\n        }\n\n        document.getElementById(self.videoPlayerId + '_fluid_control_playback_rate').style.display = 'inline-block';\n\n        const sourceChangeButton = document.getElementById(self.videoPlayerId + '_fluid_control_playback_rate');\n\n        const sourceChangeList = document.createElement('div');\n        sourceChangeList.id = self.videoPlayerId + '_fluid_control_video_playback_rate';\n        sourceChangeList.className = 'fluid_video_playback_rates';\n        sourceChangeList.style.display = 'none';\n\n        playbackRates.forEach(function (rate) {\n            const sourceChangeDiv = document.createElement('div');\n            sourceChangeDiv.className = 'fluid_video_playback_rates_item';\n            sourceChangeDiv.innerText = rate;\n\n            sourceChangeDiv.addEventListener('click', function (event) {\n                event.stopPropagation();\n                let playbackRate = this.innerText.replace('x', '');\n                self.setPlaybackSpeed(playbackRate);\n                self.openCloseVideoPlaybackRate();\n\n            });\n            sourceChangeList.appendChild(sourceChangeDiv);\n        });\n\n        sourceChangeButton.appendChild(sourceChangeList);\n        sourceChangeButton.addEventListener('click', function () {\n            self.openCloseVideoPlaybackRate();\n        });\n    };\n\n    self.openCloseVideoPlaybackRate = () => {\n        const sourceChangeList = document.getElementById(self.videoPlayerId + '_fluid_control_video_playback_rate');\n\n        if (self.isCurrentlyPlayingAd || 'none' !== sourceChangeList.style.display) {\n            sourceChangeList.style.display = 'none';\n            return;\n        }\n\n        sourceChangeList.style.display = 'block';\n        const mouseOut = function () {\n            sourceChangeList.removeEventListener('mouseleave', mouseOut);\n            sourceChangeList.style.display = 'none';\n        };\n        sourceChangeList.addEventListener('mouseleave', mouseOut);\n    };\n\n    self.createDownload = () => {\n        const downloadOption = document.getElementById(self.videoPlayerId + '_fluid_control_download');\n        if (!self.displayOptions.layoutControls.allowDownload) {\n            return;\n        }\n        downloadOption.style.display = 'inline-block';\n\n        let downloadClick = document.createElement('a');\n        downloadClick.id = self.videoPlayerId + '_download';\n        downloadClick.onclick = function (e) {\n            const linkItem = this;\n\n            if (typeof e.stopImmediatePropagation !== 'undefined') {\n                e.stopImmediatePropagation();\n            }\n\n            setInterval(function () {\n                linkItem.download = '';\n                linkItem.href = '';\n            }, 100);\n        };\n\n        downloadOption.appendChild(downloadClick);\n\n        downloadOption.addEventListener('click', function () {\n            const downloadItem = document.getElementById(self.videoPlayerId + '_download');\n            downloadItem.download = self.originalSrc;\n            downloadItem.href = self.originalSrc;\n            downloadClick.click();\n        });\n    };\n\n    self.theatreToggle = () => {\n        if (self.isInIframe) {\n            return;\n        }\n\n        // Theatre and fullscreen, it's only one or the other\n        if (self.fullscreenMode) {\n            self.fullscreenToggle();\n        }\n\n        // Advanced Theatre mode if specified\n        if (self.displayOptions.layoutControls.theatreAdvanced) {\n            const elementForTheatre = document.getElementById(self.displayOptions.layoutControls.theatreAdvanced.theatreElement);\n            const theatreClassToApply = self.displayOptions.layoutControls.theatreAdvanced.classToApply;\n            if (elementForTheatre != null && theatreClassToApply != null) {\n                if (!self.theatreMode) {\n                    elementForTheatre.classList.add(theatreClassToApply);\n                } else {\n                    elementForTheatre.classList.remove(theatreClassToApply);\n                }\n                self.theatreModeAdvanced = !self.theatreModeAdvanced;\n            } else {\n                console.log('[FP_ERROR] Theatre mode elements could not be found, defaulting behaviour.');\n                // Default overlay behaviour\n                self.defaultTheatre();\n            }\n        } else {\n            // Default overlay behaviour\n            self.defaultTheatre();\n        }\n\n        // Set correct variables\n        self.theatreMode = !self.theatreMode;\n        self.fluidStorage.fluidTheatre = self.theatreMode;\n\n        // Trigger theatre event\n        const theatreEvent = (self.theatreMode) ? 'theatreModeOn' : 'theatreModeOff';\n        const event = document.createEvent('CustomEvent');\n        event.initEvent(theatreEvent, false, true);\n        self.domRef.player.dispatchEvent(event);\n\n        self.resizeVpaidAuto();\n    };\n\n    self.defaultTheatre = () => {\n        const videoWrapper = document.getElementById('fluid_video_wrapper_' + self.videoPlayerId);\n\n        if (self.theatreMode) {\n            videoWrapper.classList.remove('fluid_theatre_mode');\n            videoWrapper.style.maxHeight = '';\n            videoWrapper.style.marginTop = '';\n            videoWrapper.style.left = '';\n            videoWrapper.style.right = '';\n            videoWrapper.style.position = '';\n            if (!self.displayOptions.layoutControls.fillToContainer) {\n                videoWrapper.style.width = self.originalWidth + 'px';\n                videoWrapper.style.height = self.originalHeight + 'px';\n            } else {\n                videoWrapper.style.width = '100%';\n                videoWrapper.style.height = '100%';\n            }\n            return;\n        }\n\n        videoWrapper.classList.add('fluid_theatre_mode');\n        const workingWidth = self.displayOptions.layoutControls.theatreSettings.width;\n        let defaultHorizontalMargin = '10px';\n        videoWrapper.style.width = workingWidth;\n        videoWrapper.style.height = self.displayOptions.layoutControls.theatreSettings.height;\n        videoWrapper.style.maxHeight = screen.height + \"px\";\n        videoWrapper.style.marginTop = self.displayOptions.layoutControls.theatreSettings.marginTop + 'px';\n        switch (self.displayOptions.layoutControls.theatreSettings.horizontalAlign) {\n            case 'center':\n                // We must calculate the margin differently based on whether they passed % or px\n                if (typeof (workingWidth) == 'string' && workingWidth.substr(workingWidth.length - 1) === \"%\") {\n                    // A margin of half the remaining space\n                    defaultHorizontalMargin = ((100 - parseInt(workingWidth.substring(0, workingWidth.length - 1))) / 2) + \"%\";\n                } else if (typeof (workingWidth) == 'string' && workingWidth.substr(workingWidth.length - 2) === \"px\") {\n                    // Half the (Remaining width / fullwidth)\n                    defaultHorizontalMargin = (((screen.width - parseInt(workingWidth.substring(0, workingWidth.length - 2))) / screen.width) * 100 / 2) + \"%\";\n                } else {\n                    console.log('[FP_ERROR] Theatre width specified invalid.');\n                }\n\n                videoWrapper.style.left = defaultHorizontalMargin;\n                break;\n            case 'right':\n                videoWrapper.style.right = defaultHorizontalMargin;\n                break;\n            case 'left':\n            default:\n                videoWrapper.style.left = defaultHorizontalMargin;\n                break;\n        }\n    };\n\n    // Set the poster for the video, taken from custom params\n    // Cannot use the standard video tag poster image as it can be removed by the persistent settings\n    self.posterImage = () => {\n        if (!self.displayOptions.layoutControls.posterImage) {\n            return;\n        }\n\n        const containerDiv = document.createElement('div');\n        containerDiv.id = self.videoPlayerId + '_fluid_pseudo_poster';\n        containerDiv.className = 'fluid_pseudo_poster';\n        if (['auto', 'contain', 'cover'].indexOf(self.displayOptions.layoutControls.posterImageSize) === -1) {\n            console.log('[FP_ERROR] Not allowed value in posterImageSize');\n            return;\n        }\n        containerDiv.style.background = \"url('\" + self.displayOptions.layoutControls.posterImage + \"') center center / \"\n            + self.displayOptions.layoutControls.posterImageSize + \" no-repeat black\";\n        self.domRef.player.parentNode.insertBefore(containerDiv, null);\n    };\n\n    // This is called when a media type is unsupported. We'll find the current source and try set the next source if it exists\n    self.nextSource = () => {\n        const sources = self.domRef.player.getElementsByTagName('source');\n\n        if (!sources.length) {\n            return null;\n        }\n\n        for (let i = 0; i < sources.length - 1; i++) {\n            if (sources[i].getAttribute('src') === self.originalSrc && sources[i + 1].getAttribute('src')) {\n                self.setVideoSource(sources[i + 1].getAttribute('src'));\n                return;\n            }\n        }\n    };\n\n    self.inIframe = () => {\n        try {\n            return window.self !== window.top;\n        } catch (e) {\n            return true;\n        }\n    };\n\n    self.setPersistentSettings = () => {\n        if (!(typeof (Storage) !== 'undefined' && typeof (localStorage) !== 'undefined')) {\n            return;\n        }\n\n        // See https://github.com/fluid-player/fluid-player/issues/271\n        const testKey = '_fp_storage_enabled', storage = localStorage;\n        try {\n            storage.setItem(testKey, '1');\n            storage.removeItem(testKey);\n        } catch (error) {\n            return false;\n        }\n\n        self.fluidStorage = localStorage;\n        if (typeof (self.fluidStorage.fluidVolume) !== 'undefined'\n            && self.displayOptions.layoutControls.persistentSettings.volume) {\n            self.setVolume(self.fluidStorage.fluidVolume);\n\n            if (typeof (self.fluidStorage.fluidMute) !== 'undefined' && self.fluidStorage.fluidMute === 'true') {\n                self.muteToggle();\n            }\n        }\n\n        if (typeof (self.fluidStorage.fluidQuality) !== 'undefined'\n            && self.displayOptions.layoutControls.persistentSettings.quality) {\n            const sourceOption = document.getElementById('source_' + self.videoPlayerId + '_' + self.fluidStorage.fluidQuality);\n            const sourceChangeButton = document.getElementById(self.videoPlayerId + '_fluid_control_video_source');\n            if (sourceOption) {\n                sourceOption.click();\n                sourceChangeButton.click();\n            }\n        }\n\n        if (typeof (self.fluidStorage.fluidSpeed) !== 'undefined'\n            && self.displayOptions.layoutControls.persistentSettings.speed) {\n            self.setPlaybackSpeed(self.fluidStorage.fluidSpeed);\n        }\n\n        if (typeof (self.fluidStorage.fluidTheatre) !== 'undefined'\n            && self.fluidStorage.fluidTheatre === 'true'\n            && self.displayOptions.layoutControls.persistentSettings.theatre) {\n            self.theatreToggle();\n        }\n    };\n\n    // \"API\" Functions\n    self.play = () => {\n        if (!self.domRef.player.paused) {\n            return;\n        }\n        self.playPauseToggle();\n        return true;\n    };\n\n    self.pause = () => {\n        if (!self.domRef.player.paused) {\n            self.playPauseToggle();\n        }\n        return true;\n    };\n\n    self.skipTo = (time) => {\n        self.domRef.player.currentTime = time;\n    };\n\n    self.setPlaybackSpeed = (speed) => {\n        if (self.isCurrentlyPlayingAd) {\n            return;\n        }\n        self.domRef.player.playbackRate = speed;\n        self.fluidStorage.fluidSpeed = speed;\n    };\n\n    self.setVolume = (passedVolume) => {\n        self.domRef.player.volume = passedVolume;\n\n        // If user scrolls to volume 0, we should not store 0 as\n        // latest volume - there is a property called \"muted\" already\n        // and storing 0 will break the toggle.\n        // In case user scrolls to 0 we assume last volume to be 1\n        // for toggle.\n        const latestVolume = 0 === passedVolume ? 1 : passedVolume;\n\n        self.latestVolume = latestVolume;\n        self.fluidStorage.fluidVolume = latestVolume;\n    };\n\n    self.isCurrentlyPlayingVideo = (instance) => {\n        return instance && instance.currentTime > 0 && !instance.paused && !instance.ended && instance.readyState > 2;\n    };\n\n    self.setHtmlOnPauseBlock = (passedHtml) => {\n        if (typeof passedHtml != 'object' || typeof passedHtml.html == 'undefined') {\n            return false;\n        }\n\n        const htmlBlock = document.getElementById(self.videoPlayerId + '_fluid_html_on_pause');\n\n        // We create the HTML block from scratch if it doesn't already exist\n        if (!htmlBlock) {\n            const containerDiv = document.createElement('div');\n            containerDiv.id = self.videoPlayerId + '_fluid_html_on_pause';\n            containerDiv.className = 'fluid_html_on_pause';\n            containerDiv.style.display = 'none';\n            containerDiv.innerHTML = passedHtml.html;\n            containerDiv.onclick = function () {\n                self.playPauseToggle();\n            };\n\n            if (passedHtml.width) {\n                containerDiv.style.width = passedHtml.width + 'px';\n            }\n\n            if (passedHtml.height) {\n                containerDiv.style.height = passedHtml.height + 'px';\n            }\n\n            self.domRef.player.parentNode.insertBefore(containerDiv, null);\n            return;\n        }\n\n        htmlBlock.innerHTML = passedHtml.html;\n\n        if (passedHtml.width) {\n            htmlBlock.style.width = passedHtml.width + 'px';\n        }\n\n        if (passedHtml.height) {\n            htmlBlock.style.height = passedHtml.height + 'px';\n        }\n    };\n\n    self.toggleControlBar = (show) => {\n        const controlBar = document.getElementById(self.videoPlayerId + 'fluid_controls_container');\n\n        if (show) {\n            controlBar.className += ' initial_controls_show';\n            return;\n        }\n\n        controlBar.className = controlBar.className.replace(' initial_controls_show', '');\n    };\n\n    self.on = (eventCall, functionCall) => {\n        switch (eventCall) {\n            case 'play':\n                self.domRef.player.onplay = functionCall;\n                break;\n            case 'seeked':\n                self.domRef.player.onseeked = functionCall;\n                break;\n            case 'ended':\n                self.domRef.player.onended = functionCall;\n                break;\n            case 'pause':\n                self.domRef.player.addEventListener('pause', () => {\n                    if (!self.fluidPseudoPause) {\n                        functionCall();\n                    }\n                });\n                break;\n            case 'playing':\n                self.domRef.player.addEventListener('playing', functionCall);\n                break;\n            case 'theatreModeOn':\n                self.domRef.player.addEventListener('theatreModeOn', functionCall);\n                break;\n            case 'theatreModeOff':\n                self.domRef.player.addEventListener('theatreModeOff', functionCall);\n                break;\n            case 'timeupdate':\n                self.domRef.player.addEventListener('timeupdate', () => {\n                    functionCall(self.getCurrentTime())\n                });\n                break;\n            default:\n                console.log('[FP_ERROR] Event not recognised');\n                break;\n        }\n    };\n\n    self.toggleLogo = (logo) => {\n        if (typeof logo != 'object' || !logo.imageUrl) {\n            return false;\n        }\n\n        const logoBlock = document.getElementById(self.videoPlayerId + \"_logo\");\n\n        // We create the logo from scratch if it doesn't already exist, they might not give everything correctly so we\n        self.displayOptions.layoutControls.logo.imageUrl = (logo.imageUrl) ? logo.imageUrl : null;\n        self.displayOptions.layoutControls.logo.position = (logo.position) ? logo.position : 'top left';\n        self.displayOptions.layoutControls.logo.clickUrl = (logo.clickUrl) ? logo.clickUrl : null;\n        self.displayOptions.layoutControls.logo.opacity = (logo.opacity) ? logo.opacity : 1;\n        self.displayOptions.layoutControls.logo.mouseOverImageUrl = (logo.mouseOverImageUrl) ? logo.mouseOverImageUrl : null;\n        self.displayOptions.layoutControls.logo.imageMargin = (logo.imageMargin) ? logo.imageMargin : '2px';\n        self.displayOptions.layoutControls.logo.hideWithControls = (logo.hideWithControls) ? logo.hideWithControls : false;\n        self.displayOptions.layoutControls.logo.showOverAds = (logo.showOverAds) ? logo.showOverAds : false;\n\n        if (logoBlock) {\n            logoBlock.remove();\n        }\n\n        self.initLogo();\n    };\n\n    // this functions helps in adding event listeners for future dynamic elements\n    // trackEvent(document, \"click\", \".some_elem\", callBackFunction);\n    self.trackEvent = (el, evt, sel, handler) => {\n        if (typeof self.events[sel] === 'undefined') {\n            self.events[sel] = {};\n        }\n\n        if (typeof self.events[sel][evt] === 'undefined') {\n            self.events[sel][evt] = [];\n        }\n\n        self.events[sel][evt].push(handler);\n        self.registerListener(el, evt, sel, handler);\n    };\n\n    self.registerListener = (el, evt, sel, handler) => {\n        const currentElements = el.querySelectorAll(sel);\n        for (let i = 0; i < currentElements.length; i++) {\n            currentElements[i].addEventListener(evt, handler);\n        }\n    };\n\n    self.copyEvents = (topLevelEl) => {\n        for (let sel in self.events) {\n            if (!self.events.hasOwnProperty(sel)) {\n                continue;\n            }\n\n            for (let evt in self.events[sel]) {\n                if (!self.events[sel].hasOwnProperty(evt)) {\n                    continue;\n                }\n\n                for (let i = 0; i < self.events[sel][evt].length; i++) {\n                    self.registerListener(topLevelEl, evt, sel, self.events[sel][evt][i]);\n                }\n            }\n        }\n    };\n\n    self.destroy = () => {\n        const numDestructors = self.destructors.length;\n\n        if (0 === numDestructors) {\n            return;\n        }\n\n        for (let i = 0; i < numDestructors; ++i) {\n            self.destructors[i].bind(this)();\n        }\n\n        const container = document.getElementById('fluid_video_wrapper_' + self.videoPlayerId);\n\n        if (!container) {\n            console.warn('Unable to remove wrapper element for Fluid Player instance - element not found ' + self.videoPlayerId);\n            return;\n        }\n\n        if ('function' === typeof container.remove) {\n            container.remove();\n            return;\n        }\n\n        if (container.parentNode) {\n            container.parentNode.removeChild(container);\n            return;\n        }\n\n        console.error('Unable to remove wrapper element for Fluid Player instance - no parent' + self.videoPlayerId);\n    }\n};\n\n/**\n * Public Fluid Player API interface\n * @param instance\n */\nconst fluidPlayerInterface = function (instance) {\n    this.play = () => {\n        return instance.play()\n    };\n\n    this.pause = () => {\n        return instance.pause()\n    };\n\n    this.skipTo = (position) => {\n        return instance.skipTo(position)\n    };\n\n    this.setPlaybackSpeed = (speed) => {\n        return instance.setPlaybackSpeed(speed)\n    };\n\n    this.setVolume = (volume) => {\n        return instance.setVolume(volume)\n    };\n\n    this.setHtmlOnPauseBlock = (options) => {\n        return instance.setHtmlOnPauseBlock(options)\n    };\n\n    this.toggleControlBar = (state) => {\n        return instance.toggleControlBar(state)\n    };\n\n    this.toggleFullScreen = (state) => {\n        return instance.fullscreenToggle(state)\n    };\n\n    this.destroy = () => {\n        return instance.destroy()\n    };\n\n    this.dashInstance = () => {\n        return !!instance.dashPlayer ? instance.dashPlayer : null;\n    }\n\n    this.hlsInstance = () => {\n        return !!instance.hlsPlayer ? instance.hlsPlayer : null;\n    }\n\n    this.on = (event, callback) => {\n        return instance.on(event, callback)\n    };\n}\n\n/**\n * Initialize and attach Fluid Player to instance of HTMLVideoElement\n *\n * @param target ID of HTMLVideoElement or reference to HTMLVideoElement\n * @param options Fluid Player configuration options\n * @returns {fluidPlayerInterface}\n */\nconst fluidPlayerInitializer = function (target, options) {\n    const instance = new fluidPlayerClass();\n\n    if (!options) {\n        options = {};\n    }\n\n    instance.init(target, options);\n\n    const publicInstance = new fluidPlayerInterface(instance);\n\n    if (window && FP_DEVELOPMENT_MODE) {\n        const debugApi = {\n            id: target,\n            options: options,\n            instance: publicInstance,\n            internals: instance\n        };\n\n        if (typeof window.fluidPlayerDebug === 'undefined') {\n            window.fluidPlayerDebug = [];\n        }\n\n        window.fluidPlayerDebug.push(debugApi);\n\n        console.log('Created instance of Fluid Player. ' +\n            'Debug API available at window.fluidPlayerDebug[' + (window.fluidPlayerDebug.length - 1) + '].', debugApi);\n    }\n\n    return publicInstance;\n}\n\n\nif (FP_DEVELOPMENT_MODE) {\n    console.log('Fluid Player - Development Build' + (FP_RUNTIME_DEBUG ? ' (in debug mode)' : ''));\n}\n\nexport default fluidPlayerInitializer;\n","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./FluidPlayer.vue?vue&type=style&index=0&id=5aebe396&scoped=true&lang=css&\"","var global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof-raw');\nvar regexpExec = require('../internals/regexp-exec');\n\nvar TypeError = global.TypeError;\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (isCallable(exec)) {\n    var result = call(exec, R, S);\n    if (result !== null) anObject(result);\n    return result;\n  }\n  if (classof(R) === 'RegExp') return call(regexpExec, R, S);\n  throw TypeError('RegExp#exec called on incompatible receiver');\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fill-height\",attrs:{\"id\":\"history\"}},[_c('v-container',{staticClass:\"pt-0 pb-0 fill-height\",attrs:{\"fluid\":\"\"}},[_c('v-row',{staticClass:\"fill-height\"},[_c('v-col',{staticClass:\"pt-8 pl-8\",attrs:{\"cols\":\"12\",\"sm\":\"12\",\"order\":\"2\",\"order-sm\":\"2\",\"order-md\":\"1\",\"order-lg\":\"1\",\"md\":\"7\",\"lg\":\"7\"}},[_c('h1',{staticClass:\"title font-weight-medium pb-5\"},[_vm._v(_vm._s(_vm.historyType))]),(_vm.historyType == 'Watch History')?[(_vm.histories.length <= 0 && !_vm.loading)?[_c('p',{staticClass:\"text-center body-1\"},[_vm._v(\"No watch history yet.\")])]:_vm._e(),_c('section',[_vm._l((_vm.loading ? 12 : _vm.histories),function(history,i){return _c('div',{key:i,staticClass:\"mb-5\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"type\":\"list-item-avatar-three-line\",\"loading\":_vm.loading,\"tile\":\"\",\"large\":\"\"}},[_c('v-card',{staticClass:\"card\",attrs:{\"tile\":\"\",\"flat\":\"\"}},[(history.videoId)?_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"mx-auto\",attrs:{\"cols\":\"3\",\"sm\":\"3\",\"md\":\"5\",\"lg\":\"5\"}},[_c('v-img',{staticClass:\"align-center\",attrs:{\"src\":(_vm.getUrl + \"/uploads/thumbnails/\" + (history.videoId.thumbnailUrl))}})],1),_c('v-col',[_c('div',{staticClass:\"ml-2\"},[_c('v-card-title',{staticClass:\"pl-2 pt-0 subtitle-1 font-weight-bold d-flex justify-space-between\",staticStyle:{\"line-height\":\"1\"}},[_vm._v(\" \"+_vm._s(history.videoId.title)+\" \"),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.deleteHistory(history._id)}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-card-subtitle',{staticClass:\"pl-2 pt-2 pb-0\",staticStyle:{\"line-height\":\"1\"}},[_vm._v(\" \"+_vm._s(history.userId.channelName)),_c('v-icon',[_vm._v(\"mdi-circle-small\")]),_vm._v(_vm._s(history.videoId.views)+\" views \")],1),_c('v-card-subtitle',{staticClass:\"pl-2 pt-2 pb-0\"},[_vm._v(\" \"+_vm._s(history.videoId.description)+\" \")])],1)])],1):_vm._e()],1)],1)],1)}),_c('infinite-loading',{attrs:{\"identifier\":_vm.infiniteId},on:{\"infinite\":_vm.getHistories},scopedSlots:_vm._u([{key:\"error\",fn:function(ref){\nvar trigger = ref.trigger;\nreturn _c('div',{},[_c('v-alert',{attrs:{\"prominent\":\"\",\"type\":\"error\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"grow\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Error!\")]),_c('div',[_vm._v(\" Something went wrong, but don’t fret — let’s give it another shot. \")])]),_c('v-col',{staticClass:\"shrink\"},[_c('v-btn',{on:{\"click\":trigger}},[_vm._v(\"Take action\")])],1)],1)],1)],1)}}],null,false,2497732993)},[_c('div',{attrs:{\"slot\":\"spinner\"},slot:\"spinner\"},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"red\"}})],1),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"}),_c('span',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"})])],2)]:[(_vm.histories.length <= 0 && !_vm.loading)?[_c('p',{staticClass:\"text-center body-1\"},[_vm._v(\"No search history yet.\")])]:_vm._e(),_c('div',[_vm._l((_vm.loading ? 12 : _vm.histories),function(history,i){return _c('div',{key:i},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"type\":\"list-item-two-line\",\"loading\":_vm.loading,\"tile\":\"\",\"large\":\"\"}},[_c('v-card',{staticClass:\"card d-flex pl-0\",attrs:{\"flat\":\"\"}},[_c('v-card-text',{staticClass:\"pl-0 py-0\"},[_c('v-card-title',{staticClass:\"pl-0 black--text text--lighten-5 subtitle-1 font-weight-medium\"},[_vm._v(_vm._s(history.searchText))]),_c('v-card-subtitle',{staticClass:\"pl-0 pb-0\"},[_vm._v(_vm._s(_vm.dateFormatter(history.createdAt)))])],1),_c('v-card-actions',[_c('v-btn',{staticClass:\"grey--text\",attrs:{\"text\":\"\",\"fab\":\"\"},on:{\"click\":function($event){return _vm.deleteHistory(history._id)}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1)],1)],1)],1)}),_c('infinite-loading',{attrs:{\"identifier\":_vm.infiniteId},on:{\"infinite\":_vm.getHistories},scopedSlots:_vm._u([{key:\"error\",fn:function(ref){\nvar trigger = ref.trigger;\nreturn _c('div',{},[_c('v-alert',{attrs:{\"prominent\":\"\",\"type\":\"error\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"grow\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Error!\")]),_c('div',[_vm._v(\" Something went wrong, but don’t fret — let’s give it another shot. \")])]),_c('v-col',{staticClass:\"shrink\"},[_c('v-btn',{on:{\"click\":trigger}},[_vm._v(\"Take action\")])],1)],1)],1)],1)}}])},[_c('div',{attrs:{\"slot\":\"spinner\"},slot:\"spinner\"},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"red\"}})],1),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"}),_c('span',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"})])],2)]],2),_c('v-col',{class:[\n          'pa-0',\n          { 'fill-height': _vm.$vuetify.breakpoint.name.smAndDown ? true : false }\n        ],attrs:{\"cols\":\"12\",\"sm\":\"12\",\"order\":\"1\",\"order-sm\":\"1\",\"order-md\":\"2\",\"order-lg\":\"2\",\"md\":\"5\",\"lg\":\"5\"}},[_c('v-card',{staticClass:\"fill-height grey lighten-4 pa-10\",attrs:{\"flat\":\"\",\"id\":\"card-radiobox\"}},[_c('v-radio-group',{model:{value:(_vm.historyType),callback:function ($$v) {_vm.historyType=$$v},expression:\"historyType\"}},[_c('p',{staticClass:\"title font-weight-regular pl-5 mb-2\"},[_vm._v(\"History Type\")]),_c('v-list',{staticClass:\" grey lighten-4\"},[_c('v-list-item-group',[_vm._l((_vm.items),function(item,i){return [_c('v-divider',{key:i}),_c('v-list-item',{key:(\"item-\" + i),staticClass:\"py-2\",attrs:{\"active-class\":\"grey lighten-4\"},on:{\"click\":function($event){return _vm.clickItem(item)}}},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(item)}})],1),_c('v-list-item-action',[_c('v-radio',{key:item,attrs:{\"value\":item}})],1)],1)]})],2)],1),_c('div',[_c('v-btn',{attrs:{\"text\":\"\",\"loading\":_vm.clearLoading},on:{\"click\":_vm.clearHistory}},[_vm._v(\"Clear all \"+_vm._s(_vm.historyType))])],1)],1)],1)],1)],1)],1),_c('v-snackbar',{model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.deleteMessage)+\" \"),_c('v-btn',{attrs:{\"color\":\"white\",\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},[_c('v-icon',[_vm._v(\"mdi-close-circle\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"history\" class=\"fill-height\">\r\n    <v-container fluid class=\"pt-0 pb-0 fill-height\">\r\n      <v-row class=\"fill-height\">\r\n        <v-col\r\n          cols=\"12\"\r\n          sm=\"12\"\r\n          order=\"2\"\r\n          order-sm=\"2\"\r\n          order-md=\"1\"\r\n          order-lg=\"1\"\r\n          md=\"7\"\r\n          lg=\"7\"\r\n          class=\"pt-8 pl-8\"\r\n        >\r\n          <h1 class=\"title font-weight-medium pb-5\">{{ historyType }}</h1>\r\n          <template v-if=\"historyType == 'Watch History'\">\r\n            <template v-if=\"histories.length <= 0 && !loading\">\r\n              <p class=\"text-center body-1\">No watch history yet.</p>\r\n            </template>\r\n            <section>\r\n              <div\r\n                v-for=\"(history, i) in loading ? 12 : histories\"\r\n                :key=\"i\"\r\n                class=\"mb-5\"\r\n              >\r\n                <v-skeleton-loader\r\n                  class=\"mx-auto\"\r\n                  type=\"list-item-avatar-three-line\"\r\n                  :loading=\"loading\"\r\n                  tile\r\n                  large\r\n                >\r\n                  <v-card class=\"card\" tile flat>\r\n                    <v-row no-gutters v-if=\"history.videoId\">\r\n                      <v-col class=\"mx-auto\" cols=\"3\" sm=\"3\" md=\"5\" lg=\"5\">\r\n                        <v-img\r\n                          class=\"align-center\"\r\n                          :src=\"\r\n                            `${getUrl}/uploads/thumbnails/${history.videoId.thumbnailUrl}`\r\n                          \"\r\n                        >\r\n                        </v-img>\r\n                      </v-col>\r\n                      <v-col>\r\n                        <div class=\"ml-2\">\r\n                          <v-card-title\r\n                            class=\"pl-2 pt-0 subtitle-1 font-weight-bold d-flex justify-space-between\"\r\n                            style=\"line-height: 1\"\r\n                          >\r\n                            {{ history.videoId.title }}\r\n\r\n                            <v-btn text @click=\"deleteHistory(history._id)\">\r\n                              <v-icon>mdi-close</v-icon>\r\n                            </v-btn>\r\n                          </v-card-title>\r\n\r\n                          <v-card-subtitle\r\n                            class=\"pl-2 pt-2 pb-0\"\r\n                            style=\"line-height: 1\"\r\n                          >\r\n                            {{ history.userId.channelName\r\n                            }}<v-icon>mdi-circle-small</v-icon\r\n                            >{{ history.videoId.views }} views\r\n                          </v-card-subtitle>\r\n                          <v-card-subtitle class=\"pl-2 pt-2 pb-0\">\r\n                            {{ history.videoId.description }}\r\n                          </v-card-subtitle>\r\n                        </div>\r\n                      </v-col>\r\n                    </v-row>\r\n                  </v-card>\r\n                </v-skeleton-loader>\r\n              </div>\r\n              <infinite-loading\r\n                :identifier=\"infiniteId\"\r\n                @infinite=\"getHistories\"\r\n              >\r\n                <div slot=\"spinner\">\r\n                  <v-progress-circular\r\n                    indeterminate\r\n                    color=\"red\"\r\n                  ></v-progress-circular>\r\n                </div>\r\n                <div slot=\"no-results\"></div>\r\n                <span slot=\"no-more\"></span>\r\n                <div slot=\"error\" slot-scope=\"{ trigger }\">\r\n                  <v-alert prominent type=\"error\">\r\n                    <v-row align=\"center\">\r\n                      <v-col class=\"grow\">\r\n                        <div class=\"title\">Error!</div>\r\n                        <div>\r\n                          Something went wrong, but don’t fret — let’s give it\r\n                          another shot.\r\n                        </div>\r\n                      </v-col>\r\n                      <v-col class=\"shrink\">\r\n                        <v-btn @click=\"trigger\">Take action</v-btn>\r\n                      </v-col>\r\n                    </v-row>\r\n                  </v-alert>\r\n                </div>\r\n              </infinite-loading>\r\n            </section>\r\n          </template>\r\n          <template v-else>\r\n            <template v-if=\"histories.length <= 0 && !loading\">\r\n              <p class=\"text-center body-1\">No search history yet.</p>\r\n            </template>\r\n            <div>\r\n              <div v-for=\"(history, i) in loading ? 12 : histories\" :key=\"i\">\r\n                <v-skeleton-loader\r\n                  class=\"mx-auto\"\r\n                  type=\"list-item-two-line\"\r\n                  :loading=\"loading\"\r\n                  tile\r\n                  large\r\n                >\r\n                  <v-card class=\"card d-flex pl-0\" flat>\r\n                    <v-card-text class=\"pl-0 py-0\">\r\n                      <v-card-title\r\n                        class=\"pl-0 black--text text--lighten-5 subtitle-1 font-weight-medium\"\r\n                        >{{ history.searchText }}</v-card-title\r\n                      >\r\n                      <v-card-subtitle class=\"pl-0 pb-0\">{{\r\n                        dateFormatter(history.createdAt)\r\n                      }}</v-card-subtitle>\r\n                    </v-card-text>\r\n                    <v-card-actions\r\n                      ><v-btn\r\n                        text\r\n                        class=\"grey--text\"\r\n                        fab\r\n                        @click=\"deleteHistory(history._id)\"\r\n                      >\r\n                        <v-icon>mdi-close</v-icon>\r\n                      </v-btn></v-card-actions\r\n                    >\r\n                  </v-card>\r\n                </v-skeleton-loader>\r\n              </div>\r\n              <infinite-loading\r\n                :identifier=\"infiniteId\"\r\n                @infinite=\"getHistories\"\r\n              >\r\n                <div slot=\"spinner\">\r\n                  <v-progress-circular\r\n                    indeterminate\r\n                    color=\"red\"\r\n                  ></v-progress-circular>\r\n                </div>\r\n                <div slot=\"no-results\"></div>\r\n                <span slot=\"no-more\"></span>\r\n                <div slot=\"error\" slot-scope=\"{ trigger }\">\r\n                  <v-alert prominent type=\"error\">\r\n                    <v-row align=\"center\">\r\n                      <v-col class=\"grow\">\r\n                        <div class=\"title\">Error!</div>\r\n                        <div>\r\n                          Something went wrong, but don’t fret — let’s give it\r\n                          another shot.\r\n                        </div>\r\n                      </v-col>\r\n                      <v-col class=\"shrink\">\r\n                        <v-btn @click=\"trigger\">Take action</v-btn>\r\n                      </v-col>\r\n                    </v-row>\r\n                  </v-alert>\r\n                </div>\r\n              </infinite-loading>\r\n            </div>\r\n          </template>\r\n        </v-col>\r\n        <v-col\r\n          cols=\"12\"\r\n          sm=\"12\"\r\n          order=\"1\"\r\n          order-sm=\"1\"\r\n          order-md=\"2\"\r\n          order-lg=\"2\"\r\n          md=\"5\"\r\n          lg=\"5\"\r\n          :class=\"[\r\n            'pa-0',\r\n            { 'fill-height': $vuetify.breakpoint.name.smAndDown ? true : false }\r\n          ]\"\r\n        >\r\n          <v-card\r\n            flat\r\n            id=\"card-radiobox\"\r\n            class=\"fill-height grey lighten-4 pa-10\"\r\n          >\r\n            <v-radio-group v-model=\"historyType\">\r\n              <p class=\"title font-weight-regular pl-5 mb-2\">History Type</p>\r\n              <v-list class=\" grey lighten-4\">\r\n                <v-list-item-group>\r\n                  <template v-for=\"(item, i) in items\">\r\n                    <v-divider :key=\"i\"></v-divider>\r\n                    <v-list-item\r\n                      active-class=\"grey lighten-4\"\r\n                      :key=\"`item-${i}`\"\r\n                      class=\"py-2\"\r\n                      @click=\"clickItem(item)\"\r\n                    >\r\n                      <v-list-item-content>\r\n                        <v-list-item-title v-text=\"item\"></v-list-item-title>\r\n                      </v-list-item-content>\r\n\r\n                      <v-list-item-action>\r\n                        <v-radio :key=\"item\" :value=\"item\"></v-radio>\r\n                      </v-list-item-action>\r\n                    </v-list-item>\r\n                  </template>\r\n                </v-list-item-group>\r\n              </v-list>\r\n              <div>\r\n                <v-btn text :loading=\"clearLoading\" @click=\"clearHistory\"\r\n                  >Clear all {{ historyType }}</v-btn\r\n                >\r\n                <!-- <v-btn text>Pause {{ historyType }}</v-btn>\r\n                <v-btn text>Manage all activity</v-btn> -->\r\n              </div>\r\n            </v-radio-group>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n    <v-snackbar v-model=\"snackbar\">\r\n      {{ deleteMessage }}\r\n      <v-btn color=\"white\" text @click=\"snackbar = false\" icon>\r\n        <v-icon>mdi-close-circle</v-icon>\r\n      </v-btn>\r\n    </v-snackbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport { mapGetters } from 'vuex'\r\n\r\nimport HistoryService from '@/services/HistoryService'\r\nimport InfiniteLoading from 'vue-infinite-loading'\r\n\r\nexport default {\r\n  data: () => ({\r\n    loading: false,\r\n    loaded: false,\r\n    errored: false,\r\n    snackbar: false,\r\n    deleteMessage: '',\r\n    items: ['Watch History', 'Search History'],\r\n    historyType: 'Watch History',\r\n    histories: [],\r\n    page: 1,\r\n    infiniteId: +new Date(),\r\n    clearLoading: false\r\n  }),\r\n  computed: {\r\n    ...mapGetters(['currentUser', 'getUrl'])\r\n  },\r\n  methods: {\r\n    async getHistories($state) {\r\n      this.errored = false\r\n      if (!this.loaded) {\r\n        this.loading = true\r\n      }\r\n\r\n      const params = {\r\n        page: this.page,\r\n        type: this.historyType === 'Watch History' ? 'watch' : 'search'\r\n      }\r\n\r\n      const histories = await HistoryService.getAll(params)\r\n        .catch((err) => {\r\n          this.errored = true\r\n          console.log(err)\r\n        })\r\n        .finally(() => {\r\n          this.loading = false\r\n        })\r\n      if (!histories) return\r\n\r\n      if (histories.data.data.length) {\r\n        this.page += 1\r\n\r\n        this.histories.push(...histories.data.data)\r\n        if ($state) {\r\n          $state.loaded()\r\n        }\r\n\r\n        this.loaded = true\r\n      } else {\r\n        if ($state) {\r\n          $state.complete()\r\n        }\r\n      }\r\n    },\r\n    async clearHistory() {\r\n      this.clearLoading = true\r\n\r\n      const type = this.historyType === 'Watch History' ? 'watch' : 'search'\r\n\r\n      await HistoryService.deleteAll(type)\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n        .finally(() => {\r\n          this.histories = this.histories.filter(\r\n            (history) => history.type !== type\r\n          )\r\n\r\n          this.clearLoading = false\r\n          this.deleteMessage = `${this.historyType} Cleared Successfully`\r\n          this.snackbar = true\r\n        })\r\n    },\r\n    async deleteHistory(id) {\r\n      this.histories = this.histories.filter(\r\n        (history) => history._id.toString() !== id.toString()\r\n      )\r\n      await HistoryService.deleteById(id)\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n        .finally(() => {\r\n          this.deleteMessage = 'History Deleted Successfully'\r\n          this.snackbar = true\r\n        })\r\n    },\r\n    clickItem(item) {\r\n      this.historyType = item\r\n      this.page = 1\r\n      this.histories = []\r\n      this.infiniteId += 1\r\n    },\r\n    dateFormatter(date) {\r\n      return moment(date).fromNow()\r\n    }\r\n  },\r\n  components: {\r\n    InfiniteLoading\r\n  },\r\n  mounted() {\r\n    this.getHistories()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"","// Directives\nimport ripple from '../../directives/ripple'; // Types\n\nimport Vue from 'vue';\nexport default Vue.extend({\n  name: 'rippleable',\n  directives: {\n    ripple\n  },\n  props: {\n    ripple: {\n      type: [Boolean, Object],\n      default: true\n    }\n  },\n  methods: {\n    genRipple(data = {}) {\n      if (!this.ripple) return null;\n      data.staticClass = 'v-input--selection-controls__ripple';\n      data.directives = data.directives || [];\n      data.directives.push({\n        name: 'ripple',\n        value: {\n          center: true\n        }\n      });\n      return this.$createElement('div', data);\n    }\n\n  }\n});\n//# sourceMappingURL=index.js.map","// Components\nimport VInput from '../../components/VInput'; // Mixins\n\nimport Rippleable from '../rippleable';\nimport Comparable from '../comparable'; // Utilities\n\nimport mixins from '../../util/mixins';\nexport function prevent(e) {\n  e.preventDefault();\n}\n/* @vue/component */\n\nexport default mixins(VInput, Rippleable, Comparable).extend({\n  name: 'selectable',\n  model: {\n    prop: 'inputValue',\n    event: 'change'\n  },\n  props: {\n    id: String,\n    inputValue: null,\n    falseValue: null,\n    trueValue: null,\n    multiple: {\n      type: Boolean,\n      default: null\n    },\n    label: String\n  },\n\n  data() {\n    return {\n      hasColor: this.inputValue,\n      lazyValue: this.inputValue\n    };\n  },\n\n  computed: {\n    computedColor() {\n      if (!this.isActive) return undefined;\n      if (this.color) return this.color;\n      if (this.isDark && !this.appIsDark) return 'white';\n      return 'primary';\n    },\n\n    isMultiple() {\n      return this.multiple === true || this.multiple === null && Array.isArray(this.internalValue);\n    },\n\n    isActive() {\n      const value = this.value;\n      const input = this.internalValue;\n\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) return false;\n        return input.some(item => this.valueComparator(item, value));\n      }\n\n      if (this.trueValue === undefined || this.falseValue === undefined) {\n        return value ? this.valueComparator(value, input) : Boolean(input);\n      }\n\n      return this.valueComparator(input, this.trueValue);\n    },\n\n    isDirty() {\n      return this.isActive;\n    },\n\n    rippleState() {\n      return !this.isDisabled && !this.validationState ? undefined : this.validationState;\n    }\n\n  },\n  watch: {\n    inputValue(val) {\n      this.lazyValue = val;\n      this.hasColor = val;\n    }\n\n  },\n  methods: {\n    genLabel() {\n      const label = VInput.options.methods.genLabel.call(this);\n      if (!label) return label;\n      label.data.on = {\n        // Label shouldn't cause the input to focus\n        click: prevent\n      };\n      return label;\n    },\n\n    genInput(type, attrs) {\n      return this.$createElement('input', {\n        attrs: Object.assign({\n          'aria-checked': this.isActive.toString(),\n          disabled: this.isDisabled,\n          id: this.computedId,\n          role: type,\n          type\n        }, attrs),\n        domProps: {\n          value: this.value,\n          checked: this.isActive\n        },\n        on: {\n          blur: this.onBlur,\n          change: this.onChange,\n          focus: this.onFocus,\n          keydown: this.onKeydown,\n          click: prevent\n        },\n        ref: 'input'\n      });\n    },\n\n    onBlur() {\n      this.isFocused = false;\n    },\n\n    onClick(e) {\n      this.onChange();\n      this.$emit('click', e);\n    },\n\n    onChange() {\n      if (!this.isInteractive) return;\n      const value = this.value;\n      let input = this.internalValue;\n\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) {\n          input = [];\n        }\n\n        const length = input.length;\n        input = input.filter(item => !this.valueComparator(item, value));\n\n        if (input.length === length) {\n          input.push(value);\n        }\n      } else if (this.trueValue !== undefined && this.falseValue !== undefined) {\n        input = this.valueComparator(input, this.trueValue) ? this.falseValue : this.trueValue;\n      } else if (value) {\n        input = this.valueComparator(input, value) ? null : value;\n      } else {\n        input = !input;\n      }\n\n      this.validate(true, input);\n      this.internalValue = input;\n      this.hasColor = input;\n    },\n\n    onFocus() {\n      this.isFocused = true;\n    },\n\n    /** @abstract */\n    onKeydown(e) {}\n\n  }\n});\n//# sourceMappingURL=index.js.map","// Styles\nimport \"../../../src/components/VRadioGroup/VRadio.sass\";\nimport VLabel from '../VLabel';\nimport VIcon from '../VIcon';\nimport VInput from '../VInput'; // Mixins\n\nimport BindsAttrs from '../../mixins/binds-attrs';\nimport Colorable from '../../mixins/colorable';\nimport { factory as GroupableFactory } from '../../mixins/groupable';\nimport Rippleable from '../../mixins/rippleable';\nimport Themeable from '../../mixins/themeable';\nimport Selectable, { prevent } from '../../mixins/selectable'; // Utilities\n\nimport { getSlot } from '../../util/helpers';\nimport mixins from '../../util/mixins';\nimport { mergeListeners } from '../../util/mergeData';\nconst baseMixins = mixins(BindsAttrs, Colorable, Rippleable, GroupableFactory('radioGroup'), Themeable);\n/* @vue/component */\n\nexport default baseMixins.extend().extend({\n  name: 'v-radio',\n  inheritAttrs: false,\n  props: {\n    disabled: Boolean,\n    id: String,\n    label: String,\n    name: String,\n    offIcon: {\n      type: String,\n      default: '$radioOff'\n    },\n    onIcon: {\n      type: String,\n      default: '$radioOn'\n    },\n    readonly: Boolean,\n    value: {\n      default: null\n    }\n  },\n  data: () => ({\n    isFocused: false\n  }),\n  computed: {\n    classes() {\n      return {\n        'v-radio--is-disabled': this.isDisabled,\n        'v-radio--is-focused': this.isFocused,\n        ...this.themeClasses,\n        ...this.groupClasses\n      };\n    },\n\n    computedColor() {\n      return Selectable.options.computed.computedColor.call(this);\n    },\n\n    computedIcon() {\n      return this.isActive ? this.onIcon : this.offIcon;\n    },\n\n    computedId() {\n      return VInput.options.computed.computedId.call(this);\n    },\n\n    hasLabel: VInput.options.computed.hasLabel,\n\n    hasState() {\n      return (this.radioGroup || {}).hasState;\n    },\n\n    isDisabled() {\n      return this.disabled || !!this.radioGroup && this.radioGroup.isDisabled;\n    },\n\n    isReadonly() {\n      return this.readonly || !!this.radioGroup && this.radioGroup.isReadonly;\n    },\n\n    computedName() {\n      if (this.name || !this.radioGroup) {\n        return this.name;\n      }\n\n      return this.radioGroup.name || `radio-${this.radioGroup._uid}`;\n    },\n\n    rippleState() {\n      return Selectable.options.computed.rippleState.call(this);\n    },\n\n    validationState() {\n      return (this.radioGroup || {}).validationState || this.computedColor;\n    }\n\n  },\n  methods: {\n    genInput(args) {\n      // We can't actually use the mixin directly because\n      // it's made for standalone components, but its\n      // genInput method is exactly what we need\n      return Selectable.options.methods.genInput.call(this, 'radio', args);\n    },\n\n    genLabel() {\n      if (!this.hasLabel) return null;\n      return this.$createElement(VLabel, {\n        on: {\n          // Label shouldn't cause the input to focus\n          click: prevent\n        },\n        attrs: {\n          for: this.computedId\n        },\n        props: {\n          color: this.validationState,\n          focused: this.hasState\n        }\n      }, getSlot(this, 'label') || this.label);\n    },\n\n    genRadio() {\n      const {\n        title,\n        ...radioAttrs\n      } = this.attrs$;\n      return this.$createElement('div', {\n        staticClass: 'v-input--selection-controls__input'\n      }, [this.$createElement(VIcon, this.setTextColor(this.validationState, {\n        props: {\n          dense: this.radioGroup && this.radioGroup.dense\n        }\n      }), this.computedIcon), this.genInput({\n        name: this.computedName,\n        value: this.value,\n        ...radioAttrs\n      }), this.genRipple(this.setTextColor(this.rippleState))]);\n    },\n\n    onFocus(e) {\n      this.isFocused = true;\n      this.$emit('focus', e);\n    },\n\n    onBlur(e) {\n      this.isFocused = false;\n      this.$emit('blur', e);\n    },\n\n    onChange() {\n      if (this.isDisabled || this.isReadonly || this.isActive) return;\n      this.toggle();\n    },\n\n    onKeydown: () => {}\n  },\n\n  render(h) {\n    const data = {\n      staticClass: 'v-radio',\n      class: this.classes,\n      on: mergeListeners({\n        click: this.onChange\n      }, this.listeners$),\n      attrs: {\n        title: this.attrs$.title\n      }\n    };\n    return h('div', data, [this.genRadio(), this.genLabel()]);\n  }\n\n});\n//# sourceMappingURL=VRadio.js.map","// Styles\nimport \"../../../src/styles/components/_selection-controls.sass\";\nimport \"../../../src/components/VRadioGroup/VRadioGroup.sass\"; // Extensions\n\nimport VInput from '../VInput';\nimport { BaseItemGroup } from '../VItemGroup/VItemGroup'; // Mixins\n\nimport Comparable from '../../mixins/comparable'; // Types\n\nimport mixins from '../../util/mixins';\nconst baseMixins = mixins(Comparable, BaseItemGroup, VInput);\n/* @vue/component */\n\nexport default baseMixins.extend({\n  name: 'v-radio-group',\n\n  provide() {\n    return {\n      radioGroup: this\n    };\n  },\n\n  props: {\n    column: {\n      type: Boolean,\n      default: true\n    },\n    height: {\n      type: [Number, String],\n      default: 'auto'\n    },\n    name: String,\n    row: Boolean,\n    // If no value set on VRadio\n    // will match valueComparator\n    // force default to null\n    value: null\n  },\n  computed: {\n    classes() {\n      return { ...VInput.options.computed.classes.call(this),\n        'v-input--selection-controls v-input--radio-group': true,\n        'v-input--radio-group--column': this.column && !this.row,\n        'v-input--radio-group--row': this.row\n      };\n    }\n\n  },\n  methods: {\n    genDefaultSlot() {\n      return this.$createElement('div', {\n        staticClass: 'v-input--radio-group__input',\n        attrs: {\n          id: this.id,\n          role: 'radiogroup',\n          'aria-labelledby': this.computedId\n        }\n      }, VInput.options.methods.genDefaultSlot.call(this));\n    },\n\n    genInputSlot() {\n      const render = VInput.options.methods.genInputSlot.call(this);\n      delete render.data.on.click;\n      return render;\n    },\n\n    genLabel() {\n      const label = VInput.options.methods.genLabel.call(this);\n      if (!label) return null;\n      label.data.attrs.id = this.computedId; // WAI considers this an orphaned label\n\n      delete label.data.attrs.for;\n      label.tag = 'legend';\n      return label;\n    },\n\n    onClick: BaseItemGroup.options.methods.onClick\n  }\n});\n//# sourceMappingURL=VRadioGroup.js.map","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=4b599428&scoped=true&\"\nimport script from \"./History.vue?vue&type=script&lang=js&\"\nexport * from \"./History.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b599428\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/_vuetify-loader@1.7.3@vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardSubtitle,VCardText,VCardTitle,VCol,VContainer,VDivider,VIcon,VImg,VList,VListItem,VListItemAction,VListItemContent,VListItemGroup,VListItemTitle,VProgressCircular,VRadio,VRadioGroup,VRow,VSkeletonLoader,VSnackbar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pa-4 pl-0\",attrs:{\"id\":\"video\"}},[_c('h2',[_vm._v(\"channel videos\")]),_c('v-tabs',{staticClass:\"mt-5\",attrs:{\"id\":\"tab\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab',[_vm._v(\" Uploads \")]),_c('v-tab',[_vm._v(\" Live \")])],1),_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',[[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-title',[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Filter\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{attrs:{\"no-data-text\":\"No videos available, please upload video.\",\"headers\":_vm.headers,\"items\":_vm.videos,\"search\":_vm.search,\"loading\":_vm.loading,\"loading-text\":\"Loading... Please wait\"},scopedSlots:_vm._u([{key:\"item.feelings\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"mr-3\"},[_c('v-icon',{staticClass:\"pr-1\",attrs:{\"small\":\"\"}},[_vm._v(\"mdi-thumb-up\")]),_vm._v(_vm._s(item.likes))],1),_c('span',[_c('v-icon',{staticClass:\"pr-1\",attrs:{\"small\":\"\"}},[_vm._v(\"mdi-thumb-down\")]),_vm._v(_vm._s(item.dislikes))],1)]}},{key:\"top\",fn:function(){return [_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.dialogDelete),callback:function ($$v) {_vm.dialogDelete=$$v},expression:\"dialogDelete\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\"Permanently delete this video?\")])]),_c('v-card-text',[_c('v-container',[_c('v-card',{staticClass:\"card\",attrs:{\"tile\":\"\",\"flat\":\"\"}},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"3\",\"sm\":\"2\",\"md\":\"5\",\"lg\":\"5\"}},[_c('v-img',{staticClass:\"align-center\",attrs:{\"src\":(_vm.url + \"/uploads/thumbnails/\" + (_vm.itemToDelete.thumbnailUrl))}})],1),_c('v-col',[_c('div',{staticClass:\"ml-2\"},[_c('v-card-title',{staticClass:\"pl-2 subtitle-1 font-weight-bold\",staticStyle:{\"line-height\":\"1\"}},[_vm._v(\" \"+_vm._s(_vm.itemToDelete.title)+\" \")]),_c('v-card-subtitle',{staticClass:\"pl-2 pt-2 pb-0\",staticStyle:{\"line-height\":\"1\"}},[_vm._v(\" Published \"+_vm._s(_vm.dateFormatter(_vm.itemToDelete.createdAt))+\" \"),_c('br'),_vm._v(\" \"+_vm._s(_vm.itemToDelete.views)+\" views \")])],1)])],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialogDelete = !_vm.dialogDelete}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"loading\":_vm.deleteBtnLoading,\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItem}},[_vm._v(\"Delete Forever\")])],1)],1)],1)]},proxy:true},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{staticClass:\"mr-2\",attrs:{\"icon\":\"\",\"href\":\"\",\"text\":\"\"}},[_c('v-icon',{on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\" mdi-pencil \")])],1),_c('v-btn',{staticClass:\"mr-2\",attrs:{\"icon\":\"\",\"href\":\"\",\"text\":\"\",\"router\":\"\",\"to\":(\"/watch/\" + (item._id))}},[_c('v-icon',[_vm._v(\" mdi-youtube \")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"text\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteBtn(item)}}},[_c('v-icon',[_vm._v(\" mdi-delete \")])],1)]}}])})],1)]],2),_c('v-tab-item',[_vm._v(\" live \")])],1),_c('v-snackbar',{model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" Video deleted successfully \"),_c('v-btn',{attrs:{\"color\":\"white\",\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},[_c('v-icon',[_vm._v(\"mdi-close-circle\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"video\" class=\"pa-4 pl-0\">\r\n    <!-- <v-container fluid> -->\r\n    <h2>channel videos</h2>\r\n\r\n    <!-- <v-row> -->\r\n    <v-tabs v-model=\"tab\" id=\"tab\" class=\"mt-5\">\r\n      <v-tab>\r\n        Uploads\r\n      </v-tab>\r\n      <v-tab>\r\n        Live\r\n      </v-tab>\r\n    </v-tabs>\r\n\r\n    <v-tabs-items v-model=\"tab\">\r\n      <v-tab-item>\r\n        <template>\r\n          <v-card flat>\r\n            <v-card-title>\r\n              <v-text-field\r\n                v-model=\"search\"\r\n                append-icon=\"mdi-magnify\"\r\n                label=\"Filter\"\r\n                single-line\r\n                hide-details\r\n              ></v-text-field>\r\n            </v-card-title>\r\n            <v-data-table\r\n              no-data-text=\"No videos available, please upload video.\"\r\n              :headers=\"headers\"\r\n              :items=\"videos\"\r\n              :search=\"search\"\r\n              :loading=\"loading\"\r\n              loading-text=\"Loading... Please wait\"\r\n            >\r\n              <template v-slot:item.feelings=\"{ item }\">\r\n                <span class=\"mr-3\"\r\n                  ><v-icon small class=\"pr-1\">mdi-thumb-up</v-icon\r\n                  >{{ item.likes }}</span\r\n                >\r\n                <span\r\n                  ><v-icon small class=\"pr-1\">mdi-thumb-down</v-icon\r\n                  >{{ item.dislikes }}</span\r\n                >\r\n              </template>\r\n              <template v-slot:top>\r\n                <v-dialog v-model=\"dialogDelete\" persistent max-width=\"500px\">\r\n                  <v-card>\r\n                    <v-card-title>\r\n                      <span class=\"headline\"\r\n                        >Permanently delete this video?</span\r\n                      >\r\n                    </v-card-title>\r\n\r\n                    <v-card-text>\r\n                      <v-container>\r\n                        <v-card class=\"card\" tile flat>\r\n                          <v-row no-gutters>\r\n                            <v-col cols=\"3\" sm=\"2\" md=\"5\" lg=\"5\">\r\n                              <v-img\r\n                                class=\"align-center\"\r\n                                :src=\"`${url}/uploads/thumbnails/${itemToDelete.thumbnailUrl}`\"\r\n                              >\r\n                              </v-img>\r\n                            </v-col>\r\n                            <v-col>\r\n                              <div class=\"ml-2\">\r\n                                <v-card-title\r\n                                  class=\"pl-2 subtitle-1 font-weight-bold\"\r\n                                  style=\"line-height: 1\"\r\n                                >\r\n                                  {{ itemToDelete.title }}\r\n                                </v-card-title>\r\n\r\n                                <v-card-subtitle\r\n                                  class=\"pl-2 pt-2 pb-0\"\r\n                                  style=\"line-height: 1\"\r\n                                >\r\n\r\n                                  Published\r\n                                  {{ dateFormatter(itemToDelete.createdAt) }}\r\n                                  <br />\r\n                                  {{ itemToDelete.views }} views\r\n                                </v-card-subtitle>\r\n                              </div>\r\n                            </v-col>\r\n                          </v-row>\r\n                        </v-card>\r\n                      </v-container>\r\n                    </v-card-text>\r\n\r\n                    <v-card-actions>\r\n                      <v-spacer></v-spacer>\r\n                      <v-btn\r\n                        color=\"blue darken-1\"\r\n                        text\r\n                        @click=\"dialogDelete = !dialogDelete\"\r\n                        >Cancel</v-btn\r\n                      >\r\n\r\n                      <v-btn\r\n                        :loading=\"deleteBtnLoading\"\r\n                        color=\"blue darken-1\"\r\n                        text\r\n                        @click=\"deleteItem\"\r\n                        >Delete Forever</v-btn\r\n                      >\r\n                    </v-card-actions>\r\n                  </v-card>\r\n                </v-dialog>\r\n              </template>\r\n              <template v-slot:item.actions=\"{ item }\">\r\n                <v-btn icon href text class=\"mr-2\">\r\n                  <v-icon @click=\"editItem(item)\">\r\n                    mdi-pencil\r\n                  </v-icon>\r\n                </v-btn>\r\n                <v-btn\r\n                  icon\r\n                  href\r\n                  text\r\n                  class=\"mr-2\"\r\n                  router\r\n                  :to=\"`/watch/${item._id}`\"\r\n                >\r\n                  <v-icon>\r\n                    mdi-youtube\r\n                  </v-icon>\r\n                </v-btn>\r\n                <v-btn icon text @click.stop=\"deleteBtn(item)\">\r\n                  <v-icon>\r\n                    mdi-delete\r\n                  </v-icon>\r\n                </v-btn>\r\n              </template>\r\n            </v-data-table>\r\n          </v-card>\r\n        </template>\r\n      </v-tab-item>\r\n      <v-tab-item>\r\n        live\r\n      </v-tab-item>\r\n    </v-tabs-items>\r\n    <!-- </v-row> -->\r\n    <!-- </v-container> -->\r\n    <v-snackbar v-model=\"snackbar\">\r\n      Video deleted successfully\r\n      <v-btn color=\"white\" text @click=\"snackbar = false\" icon>\r\n        <v-icon>mdi-close-circle</v-icon>\r\n      </v-btn>\r\n    </v-snackbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VideoService from \"@/services/VideoService\";\r\nimport moment from \"moment\";\r\nexport default {\r\n  data: () => ({\r\n    loading: false,\r\n    deleteBtnLoading: false,\r\n    snackbar: false,\r\n    dialogDelete: false,\r\n    tab: null,\r\n    search: \"\",\r\n    url: process.env.VUE_APP_URL,\r\n    headers: [\r\n      {\r\n        text: \"Video\",\r\n        align: \"start\",\r\n        value: \"title\",\r\n      },\r\n      { text: \"Visibility\", value: \"status\" },\r\n      { text: \"Views\", value: \"views\" },\r\n      { text: \"Comments\", value: \"comments\" },\r\n      { text: \"Likes (vs. dislikes)\", value: \"feelings\" },\r\n      { text: \"Actions\", value: \"actions\", sortable: false },\r\n    ],\r\n    videos: [],\r\n    itemToDelete: {},\r\n  }),\r\n  methods: {\r\n    async getVideos() {\r\n      this.loading = true;\r\n\r\n      const videos = await VideoService.getAll(\"private\", { limit: 0 })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => (this.loading = false));\r\n\r\n      if (!videos) return;\r\n      // console.log(videos)\r\n      this.videos = videos.data.data;\r\n    },\r\n    editItem(item) {\r\n      this.$router.push({ name: `Detail`, params: { id: item.id } });\r\n    },\r\n    deleteBtn(item) {\r\n      this.dialogDelete = true;\r\n      this.itemToDelete = item;\r\n    },\r\n    async deleteItem() {\r\n      this.deleteBtnLoading = true;\r\n      await VideoService.deleteById(this.itemToDelete._id)\r\n        .catch((err) => console.log(err))\r\n        .finally(() => {\r\n          this.videos = this.videos.filter(\r\n            (video) => this.itemToDelete.id !== video.id\r\n          );\r\n          this.deleteBtnLoading = false;\r\n          this.dialogDelete = false;\r\n          this.itemToDelete = {};\r\n          this.snackbar = true;\r\n        });\r\n    },\r\n    dateFormatter(date) {\r\n      return moment(date).fromNow();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getVideos();\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    this.getVideos();\r\n    next();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n// .card,\r\n// #tab .v-tabs-bar {\r\n//   background: #f9f9f9 !important;\r\n// }\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Video.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./Video.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Video.vue?vue&type=template&id=5818f8e4&\"\nimport script from \"./Video.vue?vue&type=script&lang=js&\"\nexport * from \"./Video.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Video.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/_vuetify-loader@1.7.3@vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardSubtitle,VCardText,VCardTitle,VCol,VContainer,VDataTable,VDialog,VIcon,VImg,VRow,VSnackbar,VSpacer,VTab,VTabItem,VTabs,VTabsItems,VTextField})\n","'use strict';\n\nif ('undefined' === typeof FP_HOMEPAGE) {\n    global.FP_HOMEPAGE = 'https://fluidplayer.com';\n}\n\nif ('undefined' === typeof FP_BUILD_VERSION) {\n    global.FP_BUILD_VERSION = 'v3';\n}\n\nif ('undefined' === typeof FP_ENV) {\n    const isLocalhost = window\n        && window.location\n        && (window.location.hostname === 'localhost'\n            || window.location.hostname === '127.0.0.1'\n            || window.location.hostname === '');\n\n    if (process && process.env && process.env.NODE_ENV) {\n        global.FP_ENV = process.env.NODE_ENV;\n    } else if (window && !isLocalhost) {\n        global.FP_ENV = 'production';\n    } else {\n        global.FP_ENV = 'development';\n    }\n}\n\nif ('undefined' === typeof FP_DEBUG) {\n    global.FP_DEBUG = false;\n}\n\nimport './polyfills';\nimport fluidPlayerInitializer from './fluidplayer.js';\n\nexport default fluidPlayerInitializer;\n"],"sourceRoot":""}