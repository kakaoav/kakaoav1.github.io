(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["video"],{"16fc":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pa-4",attrs:{id:"video-details"}},[i("v-container",[i("v-btn",{staticClass:"pl-0",attrs:{text:"",small:""},on:{click:function(e){return t.$router.go(-1)}}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-left")]),t._v(" Channel videos")],1),i("h2",{staticClass:"mt-5"},[t._v("Video details")]),i("v-row",[i("v-col",{attrs:{cols:"8"}},[i("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit,n=e.reset;return[i("form",{on:{submit:function(e){return e.preventDefault(),a(t.submit)},reset:function(t){return t.preventDefault(),n.apply(null,arguments)}}},[i("ValidationProvider",{attrs:{name:"Title",rules:"required|min:3"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[i("v-text-field",{staticClass:"mb-3",attrs:{loading:t.inputLoading,"error-messages":a,label:"Title (required)",filled:"",dense:"",counter:"100","max-length":"100"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})]}}],null,!0)}),i("ValidationProvider",{attrs:{name:"Description",rules:"required|min:3"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[i("v-textarea",{attrs:{loading:t.inputLoading,filled:"","auto-grow":"","error-messages":a,label:"Description",placeholder:"Tell viewers about your video",rows:"5",counter:"5000","max-length":"5000","row-height":"20"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})]}}],null,!0)}),i("ValidationProvider",{attrs:{name:"Visibilty",rules:"required|oneOf:private,public"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[i("v-select",{attrs:{loading:t.inputLoading,items:t.visibility,"error-messages":a,filled:"",label:"Visibilty",value:t.formData.visibility},model:{value:t.formData.visibility,callback:function(e){t.$set(t.formData,"visibility",e)},expression:"formData.visibility"}})]}}],null,!0)}),i("ValidationProvider",{attrs:{name:"Cateogry",rules:"required|min:3"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[i("v-select",{attrs:{loading:t.categoryLoading,items:t.categoriesTitles,"error-messages":a,filled:"",label:"Categories"},model:{value:t.formData.category,callback:function(e){t.$set(t.formData,"category",e)},expression:"formData.category"}})]}}],null,!0)}),i("div",{staticClass:"mt-6 d-flex justify-space-between"},[i("v-btn",{staticClass:"primary",attrs:{loading:t.submitLoading,type:"submit",depressed:""}},[t._v("Submit")])],1)],1)]}}])})],1),i("v-col",{staticClass:"text-center",attrs:{cols:"4"}},[i("v-btn",{attrs:{text:""},on:{click:t.toggleShow}},[t._v("Upload Thumbnails")]),i("my-upload",{attrs:{field:"thumbnail",method:"PUT",width:1280,height:720,url:t.url,headers:t.headers,"img-format":"jpg",langType:"en"},on:{"crop-success":t.cropSuccess},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}),i("v-responsive",{staticStyle:{"max-width":"100%"}},[t.imgDataUrl?i("v-img",{attrs:{height:"350",src:t.imgDataUrl}}):i("div",{staticClass:"px-12",attrs:{id:"image-placeholder"}},[i("v-icon",[t._v("mdi-image-plus")])],1)],1)],1)],1)],1)],1)},n=[],r=i("1da1"),s=(i("96cf"),i("d3b7"),i("99af"),i("a4d3"),i("e01a"),i("7db0"),i("d81d"),i("0b4d")),o=i("7b4e"),l=i("3678"),c={name:"Details",data:function(){return{inputLoading:!1,submitLoading:!1,categoryLoading:!1,value:0,show:!1,rules:[function(t){return!t||t.size<5e6||"Video size should be less than 5 MB!"}],categoriesTitles:[],categories:[],visibility:["public","private"],formData:{title:"",description:"",category:"",visibility:""},imgDataUrl:"",url:"",headers:{Authorization:"Bearer ".concat(this.$store.getters.getToken)}}},methods:{getVideo:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.inputLoading=!0,e.next=3,o["a"].getById(t.$route.params.id).catch((function(t){console.log(t)})).finally((function(){t.inputLoading=!1}));case 3:if(i=e.sent,i){e.next=6;break}return e.abrupt("return");case 6:i=i.data.data,t.url="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_URL,"/api/v1/videos/").concat(i._id,"/thumbnails"),t.formData.title=i.title,t.formData.description=i.description,t.formData.visibility="draft"==i.status?"":i.status,t.formData.category=i.categoryId.title,t.imgDataUrl="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_URL,"/uploads/thumbnails/").concat(i.thumbnailUrl);case 13:case"end":return e.stop()}}),e)})))()},submit:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.submitLoading=!0,t.formData.category=t.categories.find((function(e){return e.title===t.formData.category}))._id,e.next=4,o["a"].updateVideo(t.$route.params.id,{title:t.formData.title,description:t.formData.description,categoryId:t.formData.category,status:t.formData.visibility.toLowerCase()}).catch((function(t){console.log(t)})).finally((function(){return t.submitLoading=!1}));case 4:if(i=e.sent,i){e.next=7;break}return e.abrupt("return");case 7:t.$router.push("/studio/videos");case 8:case"end":return e.stop()}}),e)})))()},getCategories:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.categoryLoading=!0,e.next=3,l["a"].getAll().catch((function(t){console.log(t)})).finally((function(){return t.categoryLoading=!1}));case 3:i=e.sent,t.categoriesTitles=i.data.data.map((function(t){return t.title})),t.categories=i.data.data;case 6:case"end":return e.stop()}}),e)})))()},toggleShow:function(){this.show=!this.show},cropSuccess:function(t,e){console.log("-------- crop success --------"),console.log(e),this.imgDataUrl=t}},components:{myUpload:s["a"]},mounted:function(){this.getVideo(),this.getCategories()}},d=c,u=(i("3adf"),i("2877")),p=i("6544"),h=i.n(p),f=i("8336"),v=i("62ad"),m=i("a523"),g=i("132d"),b=i("adda"),y=i("6b53"),w=i("0fd9"),k=i("b974"),x=i("8654"),_=i("a844"),C=Object(u["a"])(d,a,n,!1,null,null,null);e["default"]=C.exports;h()(C,{VBtn:f["a"],VCol:v["a"],VContainer:m["a"],VIcon:g["a"],VImg:b["a"],VResponsive:y["a"],VRow:w["a"],VSelect:k["a"],VTextField:x["a"],VTextarea:_["a"]})},"222f":function(t,e,i){"use strict";i("47cb")},"2c64":function(t,e,i){},"2d3b":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pl-6",attrs:{id:"search"}},[i("v-container",{attrs:{fluid:""}},[i("v-row",[t.errored?i("v-alert",{staticClass:"mx-auto",attrs:{prominent:"",type:"error"}},[i("v-row",{attrs:{align:"center"}},[i("v-col",{staticClass:"grow"},[i("div",{staticClass:"title"},[t._v("Error!")]),i("div",[t._v(" Something went wrong, but don’t fret — let’s give it another shot. ")])]),i("v-col",{staticClass:"shrink"},[i("v-btn",{on:{click:t.get}},[t._v("Take action")])],1)],1)],1):i("v-col",{attrs:{cols:"12",sm:"12",md:"10",lg:"11"}},[0===t.results.length?[i("p",{staticClass:"text-center"},[t._v("Ops! No search results")])]:t._l(t.loading?5:t.results,(function(e,a){return i("div",{key:a,staticClass:"mb-5"},[i("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"list-item-avatar-three-line",loading:t.loading,tile:"",large:""}},["undefined"!==typeof e.channelName?i("v-card",{staticClass:"card mb-10",attrs:{to:"/channels/"+e._id,tile:"",flat:""}},[i("v-row",{attrs:{"no-gutters":"",justify:"center"}},[i("v-col",{staticClass:"d-flex",attrs:{cols:"10",sm:"10",md:"3",lg:"3"}},[i("v-avatar",{staticClass:"mx-auto red",attrs:{size:"120","max-width":"150"}},["no-photo.jpg"!==e.photoUrl?i("img",{attrs:{src:t.getUrl+"/uploads/avatars/"+e.photoUrl,alt:e.channelName+" avatar"}}):[i("span",{staticClass:"white--text display-1"},[t._v(" "+t._s(e.channelName.split("")[0].toUpperCase()))])]],2)],1),i("v-col",{staticClass:"justify-center",attrs:{cols:"10",sm:"10",md:"6",lg:"6"}},[i("v-card-title",{staticClass:"pl-2 pt-0 subtitle-1 font-weight-bold align-center"},[t._v(" "+t._s(e.channelName)+" ")]),i("v-card-subtitle",{staticClass:"pl-2 pt-2 pb-0",staticStyle:{"line-height":"1.2"}},[t._v(" "+t._s(e.subscribers)+" subscribers"),i("v-icon",[t._v("mdi-circle-small")]),t._v(t._s(e.videos)+" videos ")],1),i("v-card-subtitle",{staticClass:"pl-2 pt-2 pb-0"},[t._v(" "+t._s(e.description)+" ")])],1)],1)],1):i("v-card",{staticClass:"card mb-10",attrs:{to:"/watch/"+e._id,tile:"",flat:""}},[e.userId?i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"5",sm:"3",md:"3",lg:"3"}},[i("v-img",{staticClass:"align-center",attrs:{src:t.getUrl+"/uploads/thumbnails/"+e.thumbnailUrl,alt:e.userId.channelName+" avatar"}})],1),i("v-col",{attrs:{cols:"7",sm:"7",md:"8",lg:"8"}},[i("div",{staticClass:"ml-2"},[i("v-card-title",{staticClass:"pl-2 pt-0 subtitle-1 font-weight-bold"},[t._v(" "+t._s(e.title)+" ")]),i("v-card-subtitle",{staticClass:"pl-2 pt-2 pb-0",staticStyle:{"line-height":"1.2"}},[t._v(" "+t._s(e.userId.channelName)),i("br"),t._v(" "+t._s(e.views)+" views"),i("v-icon",[t._v("mdi-circle-small")]),t._v("6 hours ago ")],1),i("v-card-subtitle",{staticClass:"pl-2 pt-2 pb-0"},[t._v(" "+t._s(e.description)+" ")])],1)])],1):t._e()],1)],1)],1)})),i("infinite-loading",{attrs:{identifier:t.infiniteId},on:{infinite:t.getSearchResults},scopedSlots:t._u([{key:"error",fn:function(e){var a=e.trigger;return i("div",{},[i("v-alert",{attrs:{prominent:"",type:"error"}},[i("v-row",{attrs:{align:"center"}},[i("v-col",{staticClass:"grow"},[i("div",{staticClass:"title"},[t._v("Error!")]),i("div",[t._v(" Something went wrong, but don’t fret — let’s give it another shot. ")])]),i("v-col",{staticClass:"shrink"},[i("v-btn",{on:{click:a}},[t._v("Take action")])],1)],1)],1)],1)}}])},[i("div",{attrs:{slot:"spinner"},slot:"spinner"},[i("v-progress-circular",{attrs:{indeterminate:"",color:"red"}})],1),i("div",{attrs:{slot:"no-results"},slot:"no-results"}),i("span",{attrs:{slot:"no-more"},slot:"no-more"})])],2)],1)],1)],1)},n=[],r=i("2909"),s=i("1da1"),o=i("5530"),l=(i("96cf"),i("d3b7"),i("ac1f"),i("841c"),i("e166")),c=i.n(l),d=i("2f62"),u=i("3f4a"),p={search:function(t,e){return Object(u["a"])().post("search?page=".concat(t),e)}},h={data:function(){return{errored:!1,loading:!0,loaded:!1,page:1,results:[],text:"",infiniteId:+new Date}},computed:Object(o["a"])({},Object(d["b"])(["getUrl"])),methods:{getSearchResults:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.errored=!1,e.loaded||(e.loading=!0),i.next=4,p.search(e.page,{text:e.text}).catch((function(t){console.log(t),e.errored=!0})).finally((function(){e.loading=!1}));case 4:if(a=i.sent,a){i.next=7;break}return i.abrupt("return");case 7:a.data.data.length?(e.page+=1,(n=e.results).push.apply(n,Object(r["a"])(a.data.data)),t&&t.loaded(),e.loaded=!0):t&&t.complete();case 8:case"end":return i.stop()}}),i)})))()}},components:{InfiniteLoading:c.a},beforeRouteUpdate:function(t,e,i){""!==t.query["search-query"]&&(this.text=t.query["search-query"],this.page=1,this.results=[],this.infiniteId+=1,i())},mounted:function(){this.text=this.$route.query["search-query"]}},f=h,v=i("2877"),m=i("6544"),g=i.n(m),b=i("0798"),y=i("8212"),w=i("8336"),k=i("b0af"),x=i("99d9"),_=i("62ad"),C=i("a523"),S=i("132d"),V=i("adda"),I=i("490a"),T=i("0fd9"),O=i("3129"),R=Object(v["a"])(f,a,n,!1,null,null,null);e["default"]=R.exports;g()(R,{VAlert:b["a"],VAvatar:y["a"],VBtn:w["a"],VCard:k["a"],VCardSubtitle:x["b"],VCardTitle:x["d"],VCol:_["a"],VContainer:C["a"],VIcon:S["a"],VImg:V["a"],VProgressCircular:I["a"],VRow:T["a"],VSkeletonLoader:O["a"]})},"2db4":function(t,e,i){"use strict";var a=i("ade3"),n=(i("a9e3"),i("caad"),i("ca71"),i("8dd9")),r=i("a9ad"),s=i("7560"),o=i("f2e7"),l=i("fe6c"),c=i("58df"),d=i("80d2"),u=i("d9bd");e["a"]=Object(c["a"])(n["a"],r["a"],o["a"],Object(l["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:function(t){return"string"===typeof t||!1===t}},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground:function(){return!this.text&&!this.outlined},isDark:function(){return this.hasBackground?!this.light:s["a"].options.computed.isDark.call(this)},styles:function(){if(this.absolute||!this.app)return{};var t=this.$vuetify.application,e=t.bar,i=t.bottom,a=t.footer,n=t.insetFooter,r=t.left,s=t.right,o=t.top;return{paddingBottom:Object(d["h"])(i+a+n),paddingLeft:Object(d["h"])(r),paddingRight:Object(d["h"])(s),paddingTop:Object(d["h"])(e+o)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted:function(){this.isActive&&this.setTimeout()},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(u["e"])("auto-height",this),0==this.timeout&&Object(u["d"])('timeout="0"',"-1",this)},methods:{genActions:function(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(d["s"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent:function(){return this.$createElement("div",{staticClass:"v-snack__content",class:Object(a["a"])({},this.contentClass,!0),attrs:{role:"status","aria-live":"polite"}},[Object(d["s"])(this)])},genWrapper:function(){var t=this,e=this.hasBackground?this.setBackgroundColor:this.setTextColor,i=e(this.color,{staticClass:"v-snack__wrapper",class:n["a"].options.computed.classes.call(this),style:n["a"].options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{pointerenter:function(){return window.clearTimeout(t.activeTimeout)},pointerleave:this.setTimeout}});return this.$createElement("div",i,[this.genContent(),this.genActions()])},genTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout:function(){var t=this;window.clearTimeout(this.activeTimeout);var e=Number(this.timeout);this.isActive&&![0,-1].includes(e)&&(this.activeTimeout=window.setTimeout((function(){t.isActive=!1}),e))}},render:function(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},"3adf":function(t,e,i){"use strict";i("b042")},"3d86":function(t,e,i){},"3f2f":function(t,e,i){"use strict";i("5696")},"47cb":function(t,e,i){},"4eb8":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"watch",staticClass:" black",attrs:{id:"watch"}},[i("v-container",{attrs:{fluid:""}},[i("v-row",[t.errored?i("v-alert",{staticClass:"mx-auto",attrs:{prominent:"",type:"error"}},[i("v-row",{attrs:{align:"center"}},[i("v-col",{staticClass:"grow"},[i("div",{staticClass:"title"},[t._v("Error!")]),i("div",[t._v(" 오류가 났습니다. 다시 시도하시기를 클릭하십시오. ")])]),i("v-col",{staticClass:"shrink"},[i("v-btn",{on:{click:t.actions}},[t._v("새로 고침해주세요")])],1)],1)],1):i("v-col",{staticClass:"mx-auto",attrs:{cols:"11"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"12",md:"8",lg:"8"}},[i("v-skeleton-loader",{attrs:{type:"card-avatar, article, actions",tile:"",large:""}},[i("div",{ref:"hello"},[i("v-responsive",[i("nuevo-player",{attrs:{options:t.options}})],1),i("v-card",{staticClass:"card",attrs:{flat:"",tile:"",color:"black"}},[i("v-card-title",{staticClass:"pl-0 pb-0"},[t._v(t._s(t.video.title))]),i("div",{staticClass:"d-flex flex-wrap justify-space-between",attrs:{id:"btns"}},[i("v-card-subtitle",{staticClass:"pl-0 pt-0 pb-0 subtitle-1",staticStyle:{"line-height":"2.4em"}},[t._v(" "+t._s(t.video.views)+" 조회 "),i("v-icon",[t._v("mdi-circle-small")]),t._v(t._s(t.video.CreatedAt)+" ")],1),i("v-card-actions",{staticClass:"pt-0 pl-0"},[i("v-btn",{attrs:{text:""}},[i("v-icon",{class:"pr-2"+("like"!==t.feeling?" grey--text text--darken-1":"")},[t._v("mdi-thumb-up")]),t._v(t._s(t.video.likes))],1),i("v-btn",{attrs:{text:""}},[i("v-icon",{class:"pr-2"+("dislike"!==t.feeling?" grey--text text--darken-1":"")},[t._v("mdi-thumb-down")]),t._v(" "+t._s(t.video.dislikes))],1)],1)],1)],1)],1),t._l(t.posters,(function(t){return i("div",{key:t._id},[i("v-card",{attrs:{width:"100%",href:t.href,target:"_blank"}},[i("v-img",{staticClass:"grey darken-4",attrs:{src:t.pic_url,"max-height":"600",width:"100%",contain:""}})],1)],1)}))],2)],1),i("v-col",{attrs:{cols:"12",sm:"12",md:"4",lg:"4"},scopedSlots:t._u([{key:"error",fn:function(e){var a=e.trigger;return i("div",{},[i("v-alert",{attrs:{prominent:"",type:"error"}},[i("v-row",{attrs:{align:"center"}},[i("v-col",{staticClass:"grow"},[i("div",{staticClass:"title"},[t._v("Error!")]),i("div",[t._v(" 오류가 났습니다. 다시 시도하시기를 클릭하십시오. ")])]),i("v-col",{staticClass:"shrink"},[i("v-btn",{on:{click:a}},[t._v("새로 고침하기")])],1)],1)],1)],1)}}])},[i("hr",{staticClass:"grey--text"}),i("h4",{staticClass:"mb-3 mt-3"},[t._v(" 추 천 ")]),t._l(t.videos,(function(e,a){return i("div",{key:a,staticClass:"mb-5"},[i("v-card",{staticClass:"card",attrs:{tile:"",flat:"",color:"black"},on:{click:function(i){return t.nextVideo(e._id)}}},[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{staticClass:"mx-auto",attrs:{cols:"12",sm:"12",md:"5",lg:"5"}},[i("v-img",{staticClass:"align-center",attrs:{height:"110",src:e.thumbnailUrl}})],1),i("v-col",[i("div",{staticClass:"ml-2"},[i("v-card-title",{staticClass:"pl-2 pt-0 subtitle-1 font-weight-bold",staticStyle:{"line-height":"1"}},[t._v(" "+t._s(e.title)+" ")]),i("v-card-subtitle",{staticClass:"pl-2 pt-2 pb-0",staticStyle:{"line-height":"1"}},[t._v(" "+t._s(e.userId.channelName)),i("br"),t._v(" "+t._s(e.views)+" 시청하기 "),i("v-icon",[t._v("mdi-circle-small")]),t._v(" "+t._s(t.dateFormatter(e.CreatedAt))+" ")],1)],1)])],1)],1)],1)})),i("div",{attrs:{slot:"spinner"},slot:"spinner"},[i("v-progress-circular",{attrs:{indeterminate:"",color:"red"}})],1),i("div",{attrs:{slot:"no-results"},slot:"no-results"}),i("span",{attrs:{slot:"no-more"},slot:"no-more"})],2)],1)],1)],1)],1),i("signin-modal",{attrs:{openModal:t.signinDialog,details:t.details},on:{closeModal:function(e){t.signinDialog=!1}}})],1)},n=[],r=i("2909"),s=i("1da1"),o=i("5530"),l=(i("96cf"),i("d3b7"),i("159b"),i("fb6a"),i("c1df")),c=i.n(l),d=i("2f62"),u=i("7b4e"),p=i("e7f4"),h=i("444b"),f=i("931e"),v=i("92ea"),m={name:"watch",components:{SigninModal:f["a"],NuevoPlayer:v["a"]},data:function(){return{options:{posterUrl:"",url:"",ads:"",href:""},posters:[],videoOptions:{autoplay:!1,controls:!0,muted:!1,sources:[]},loading:!1,loaded:!1,errored:!1,videoLoading:!1,subscribed:!1,subscribeLoading:!1,showSubBtn:!0,feeling:"",video:{},videos:[],page:1,signinDialog:!1,details:{}}},computed:Object(o["a"])({},Object(d["b"])(["currentUser","getUrl","isAuthenticated"])),methods:{nextVideo:function(t){this.$router.push("/watch/"+t),window.location.reload()},getPosters:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].getPosters({typee:3});case 2:i=e.sent,i.data.data.forEach((function(e){t.posters.push(e)}));case 4:case"end":return e.stop()}}),e)})))()},getVideo:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a,n,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.errored=!1,e.videoLoading=!0,e.video={},i.prev=3,i.next=6,u["a"].getById(t);case 6:return a=i.sent,i.next=9,u["a"].getPosters({typee:4});case 9:if(n=i.sent,a){i.next=12;break}return i.abrupt("return",e.$router.push("/"));case 12:e.video=a.data.data[0],r=a.data.data[0].url,e.options.posterUrl=a.data.data[0].thumbnailUrl,e.options.url=r,e.options.ads=n.data.data[0].video_url,e.options.href=n.data.data[0].href,i.next=24;break;case 20:i.prev=20,i.t0=i["catch"](3),e.errored=!0,console.log(i.t0);case 24:case"end":return i.stop()}}),i,null,[[3,20]])})))()},getVideos:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a,n,s,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.errored=!1,e.loaded||(e.loading=!0),a=[1,2,3,4,5,6,7],n=a[Math.floor(Math.random()*a.length)],i.next=6,u["a"].getAll("public",{page:e.page,classify:n}).catch((function(t){console.log(t),e.errored=!0})).finally((function(){return e.loading=!1}));case 6:if(s=i.sent,"undefined"!==typeof s){i.next=9;break}return i.abrupt("return");case 9:s.data.data.length?((o=e.videos).push.apply(o,Object(r["a"])(s.data.data)),t&&t.loaded(),e.loaded=!0):t&&t.complete();case 10:case"end":return i.stop()}}),i)})))()},checkSubscription:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e.isAuthenticated){i.next=2;break}return i.abrupt("return");case 2:return e.loading=!0,i.next=5,p["a"].checkSubscription({channelId:t}).catch((function(t){console.log(t)})).finally((function(){e.loading=!1}));case 5:if(a=i.sent,a){i.next=8;break}return i.abrupt("return");case 8:a.data.data._id?e.subscribed=!0:e.subscribed=!1;case 9:case"end":return i.stop()}}),i)})))()},checkFeeling:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e.isAuthenticated){i.next=2;break}return i.abrupt("return");case 2:return e.loading=!0,i.next=5,h["a"].checkFeeling({videoId:t}).catch((function(t){console.log(t)})).finally((function(){e.loading=!1}));case 5:if(a=i.sent,a){i.next=8;break}return i.abrupt("return");case 8:"like"===a.data.data.feeling?e.feeling="like":"dislike"===a.data.data.feeling&&(e.feeling="dislike");case 9:case"end":return i.stop()}}),i)})))()},createFeeling:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e.isAuthenticated){i.next=4;break}return e.signinDialog=!0,e.details={title:"like"===t?"Like this video?":"Don't like this video?",text:"Sign in to make your opinion count."},i.abrupt("return");case 4:i.t0=!0,i.next=i.t0===("like"===t&&""===e.feeling)?7:i.t0===("like"===t&&e.feeling===t)?10:i.t0===("like"===t&&"dislike"===e.feeling)?13:i.t0===("dislike"===t&&""===e.feeling)?17:i.t0===("dislike"===t&&e.feeling===t)?20:i.t0===("dislike"===t&&"like"===e.feeling)?23:26;break;case 7:return e.feeling="like",e.video.likes++,i.abrupt("break",26);case 10:return e.feeling="",e.video.likes--,i.abrupt("break",26);case 13:return e.feeling="like",e.video.dislikes--,e.video.likes++,i.abrupt("break",26);case 17:return e.feeling="dislike",e.video.dislikes++,i.abrupt("break",26);case 20:return e.feeling="",e.video.dislikes--,i.abrupt("break",26);case 23:e.feeling="dislike",e.video.likes--,e.video.dislikes++;case 26:return i.next=28,h["a"].createFeeling({videoId:e.video._id,type:t}).catch((function(t){console.log(t)}));case 28:if(a=i.sent,a){i.next=31;break}return i.abrupt("return");case 31:case"end":return i.stop()}}),i)})))()},subscribe:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isAuthenticated){e.next=4;break}return t.signinDialog=!0,t.details={title:"Want to subscribe to this channel?",text:"Sign in to subscribe to this channel."},e.abrupt("return");case 4:return t.subscribeLoading=!0,e.next=7,p["a"].createSubscription({channelId:t.video.userId._id}).catch((function(t){return console.log(t)})).finally((function(){t.subscribeLoading=!1}));case 7:if(i=e.sent,i){e.next=10;break}return e.abrupt("return");case 10:i.data.data._id?(t.subscribed=!0,t.video.userId.subscribers++):(t.subscribed=!1,t.video.userId.subscribers--);case 11:case"end":return e.stop()}}),e)})))()},updateViews:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,u["a"].updateViews(t).catch((function(t){console.log(t)}));case 2:if(a=i.sent,a){i.next=5;break}return i.abrupt("return");case 5:e.video.views++;case 6:case"end":return i.stop()}}),i)})))()},play:function(t){console.log(t)},actions:function(){this.getVideo()},show:function(t){"SHOW MORE"===t.target.innerText?(this.truncate=!1,t.target.innerText="SHOW LESS"):(this.truncate=!0,t.target.innerText="SHOW MORE")},truncateText:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return t.length<=e?t:t.slice(0,e)},dateFormatter:function(t){return c()(t).format("YYYY-MM-DD")}},mounted:function(){this.getVideo(this.$route.params.id),this.getVideos(this.$state),this.getPosters()}},g=m,b=(i("222f"),i("2877")),y=i("6544"),w=i.n(y),k=i("0798"),x=i("8336"),_=i("b0af"),C=i("99d9"),S=i("62ad"),V=i("a523"),I=i("132d"),T=i("adda"),O=i("490a"),R=i("6b53"),L=i("0fd9"),E=i("3129"),D=Object(b["a"])(g,a,n,!1,null,null,null);e["default"]=D.exports;w()(D,{VAlert:k["a"],VBtn:x["a"],VCard:_["a"],VCardActions:C["a"],VCardSubtitle:C["b"],VCardTitle:C["d"],VCol:S["a"],VContainer:V["a"],VIcon:I["a"],VImg:T["a"],VProgressCircular:O["a"],VResponsive:R["a"],VRow:L["a"],VSkeletonLoader:E["a"]})},"567d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-card",[i("v-responsive",{staticStyle:{display:"true"},attrs:{"aspect-ratio":16/9,"max-height":"550"}},[i("iframe",{attrs:{name:"ifra",id:"ifra",width:"100%",height:"100%",src:t.src,frameborder:"0",allowfullscreen:""}})])],1),i("v-divider"),t._l(t.posters,(function(t){return i("div",{key:t._id},[i("v-card",{attrs:{width:"100%",href:t.href,target:"_blank"}},[i("v-img",{staticClass:"grey darken-4",attrs:{src:t.pic_url,"max-height":"600",width:"100%",contain:""}})],1)],1)}))],2)},n=[],r=i("1da1"),s=(i("96cf"),i("d3b7"),i("159b"),i("7b4e")),o=(i("bc3a"),{name:"IframePage",components:{},data:function(){return{posters:[],src:""}},methods:{getVideoKR:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,s["a"].getByIdKR(t);case 2:return a=i.sent,i.next=5,s["a"].getPosters({typee:3});case 5:n=i.sent,e.src=a.data.data[0].url,n.data.data.forEach((function(t){e.posters.push(t)})),console.log(a.data.data[0].url),console.log(n);case 10:case"end":return i.stop()}}),i)})))()}},mounted:function(){this.getVideoKR(this.$route.params.id)},created:function(){},watch:{}}),l=o,c=i("2877"),d=i("6544"),u=i.n(d),p=i("b0af"),h=i("ce7e"),f=i("adda"),v=i("6b53"),m=Object(c["a"])(l,a,n,!1,null,null,null);e["default"]=m.exports;u()(m,{VCard:p["a"],VDivider:h["a"],VImg:f["a"],VResponsive:v["a"]})},5696:function(t,e,i){},b042:function(t,e,i){},ca71:function(t,e,i){},e166:function(t,e,i){
/*!
 * vue-infinite-loading v2.4.5
 * (c) 2016-2020 PeachScript
 * MIT License
 */
!function(e,i){t.exports=i()}(0,(function(){return function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=9)}([function(t,e,i){var a=i(6);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,i(3).default)("6223ff68",a,!0,{})},function(t,e,i){var a=i(8);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,i(3).default)("27f0e51f",a,!0,{})},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i,a=t[1]||"",n=t[3];if(!n)return a;if(e&&"function"==typeof btoa){var r=(i=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),s=n.sources.map((function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"}));return[a].concat(s).concat([r]).join("\n")}return[a].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},n=0;n<this.length;n++){var r=this[n][0];"number"==typeof r&&(a[r]=!0)}for(n=0;n<t.length;n++){var s=t[n];"number"==typeof s[0]&&a[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),e.push(s))}},e}},function(t,e,i){"use strict";function a(t,e){for(var i=[],a={},n=0;n<e.length;n++){var r=e[n],s=r[0],o={id:t+":"+n,css:r[1],media:r[2],sourceMap:r[3]};a[s]?a[s].parts.push(o):i.push(a[s]={id:s,parts:[o]})}return i}i.r(e),i.d(e,"default",(function(){return h}));var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},s=n&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,d=function(){},u=null,p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(t,e,i,n){c=i,u=n||{};var s=a(t,e);return f(s),function(e){for(var i=[],n=0;n<s.length;n++){var o=s[n];(l=r[o.id]).refs--,i.push(l)}for(e?f(s=a(t,e)):s=[],n=0;n<i.length;n++){var l;if(0===(l=i[n]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete r[l.id]}}}}function f(t){for(var e=0;e<t.length;e++){var i=t[e],a=r[i.id];if(a){a.refs++;for(var n=0;n<a.parts.length;n++)a.parts[n](i.parts[n]);for(;n<i.parts.length;n++)a.parts.push(m(i.parts[n]));a.parts.length>i.parts.length&&(a.parts.length=i.parts.length)}else{var s=[];for(n=0;n<i.parts.length;n++)s.push(m(i.parts[n]));r[i.id]={id:i.id,refs:1,parts:s}}}}function v(){var t=document.createElement("style");return t.type="text/css",s.appendChild(t),t}function m(t){var e,i,a=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(a){if(c)return d;a.parentNode.removeChild(a)}if(p){var n=l++;a=o||(o=v()),e=y.bind(null,a,n,!1),i=y.bind(null,a,n,!0)}else a=v(),e=w.bind(null,a),i=function(){a.parentNode.removeChild(a)};return e(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;e(t=a)}else i()}}var g,b=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function y(t,e,i,a){var n=i?"":a.css;if(t.styleSheet)t.styleSheet.cssText=b(e,n);else{var r=document.createTextNode(n),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function w(t,e){var i=e.css,a=e.media,n=e.sourceMap;if(a&&t.setAttribute("media",a),u.ssrId&&t.setAttribute("data-vue-ssr-id",e.id),n&&(i+="\n/*# sourceURL="+n.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}},function(t,e){function i(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=i=function(t){return typeof t}:t.exports=i=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(e)}t.exports=i},function(t,e,i){"use strict";i.r(e);var a=i(0),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e.default=n.a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,'.loading-wave-dots[data-v-46b20d22]{position:relative}.loading-wave-dots[data-v-46b20d22] .wave-item{position:absolute;top:50%;left:50%;display:inline-block;margin-top:-4px;width:8px;height:8px;border-radius:50%;-webkit-animation:loading-wave-dots-data-v-46b20d22 linear 2.8s infinite;animation:loading-wave-dots-data-v-46b20d22 linear 2.8s infinite}.loading-wave-dots[data-v-46b20d22] .wave-item:first-child{margin-left:-36px}.loading-wave-dots[data-v-46b20d22] .wave-item:nth-child(2){margin-left:-20px;-webkit-animation-delay:.14s;animation-delay:.14s}.loading-wave-dots[data-v-46b20d22] .wave-item:nth-child(3){margin-left:-4px;-webkit-animation-delay:.28s;animation-delay:.28s}.loading-wave-dots[data-v-46b20d22] .wave-item:nth-child(4){margin-left:12px;-webkit-animation-delay:.42s;animation-delay:.42s}.loading-wave-dots[data-v-46b20d22] .wave-item:last-child{margin-left:28px;-webkit-animation-delay:.56s;animation-delay:.56s}@-webkit-keyframes loading-wave-dots-data-v-46b20d22{0%{-webkit-transform:translateY(0);transform:translateY(0);background:#bbb}10%{-webkit-transform:translateY(-6px);transform:translateY(-6px);background:#999}20%{-webkit-transform:translateY(0);transform:translateY(0);background:#bbb}to{-webkit-transform:translateY(0);transform:translateY(0);background:#bbb}}@keyframes loading-wave-dots-data-v-46b20d22{0%{-webkit-transform:translateY(0);transform:translateY(0);background:#bbb}10%{-webkit-transform:translateY(-6px);transform:translateY(-6px);background:#999}20%{-webkit-transform:translateY(0);transform:translateY(0);background:#bbb}to{-webkit-transform:translateY(0);transform:translateY(0);background:#bbb}}.loading-circles[data-v-46b20d22] .circle-item{width:5px;height:5px;-webkit-animation:loading-circles-data-v-46b20d22 linear .75s infinite;animation:loading-circles-data-v-46b20d22 linear .75s infinite}.loading-circles[data-v-46b20d22] .circle-item:first-child{margin-top:-14.5px;margin-left:-2.5px}.loading-circles[data-v-46b20d22] .circle-item:nth-child(2){margin-top:-11.26px;margin-left:6.26px}.loading-circles[data-v-46b20d22] .circle-item:nth-child(3){margin-top:-2.5px;margin-left:9.5px}.loading-circles[data-v-46b20d22] .circle-item:nth-child(4){margin-top:6.26px;margin-left:6.26px}.loading-circles[data-v-46b20d22] .circle-item:nth-child(5){margin-top:9.5px;margin-left:-2.5px}.loading-circles[data-v-46b20d22] .circle-item:nth-child(6){margin-top:6.26px;margin-left:-11.26px}.loading-circles[data-v-46b20d22] .circle-item:nth-child(7){margin-top:-2.5px;margin-left:-14.5px}.loading-circles[data-v-46b20d22] .circle-item:last-child{margin-top:-11.26px;margin-left:-11.26px}@-webkit-keyframes loading-circles-data-v-46b20d22{0%{background:#dfdfdf}90%{background:#505050}to{background:#dfdfdf}}@keyframes loading-circles-data-v-46b20d22{0%{background:#dfdfdf}90%{background:#505050}to{background:#dfdfdf}}.loading-bubbles[data-v-46b20d22] .bubble-item{background:#666;-webkit-animation:loading-bubbles-data-v-46b20d22 linear .75s infinite;animation:loading-bubbles-data-v-46b20d22 linear .75s infinite}.loading-bubbles[data-v-46b20d22] .bubble-item:first-child{margin-top:-12.5px;margin-left:-.5px}.loading-bubbles[data-v-46b20d22] .bubble-item:nth-child(2){margin-top:-9.26px;margin-left:8.26px}.loading-bubbles[data-v-46b20d22] .bubble-item:nth-child(3){margin-top:-.5px;margin-left:11.5px}.loading-bubbles[data-v-46b20d22] .bubble-item:nth-child(4){margin-top:8.26px;margin-left:8.26px}.loading-bubbles[data-v-46b20d22] .bubble-item:nth-child(5){margin-top:11.5px;margin-left:-.5px}.loading-bubbles[data-v-46b20d22] .bubble-item:nth-child(6){margin-top:8.26px;margin-left:-9.26px}.loading-bubbles[data-v-46b20d22] .bubble-item:nth-child(7){margin-top:-.5px;margin-left:-12.5px}.loading-bubbles[data-v-46b20d22] .bubble-item:last-child{margin-top:-9.26px;margin-left:-9.26px}@-webkit-keyframes loading-bubbles-data-v-46b20d22{0%{width:1px;height:1px;box-shadow:0 0 0 3px #666}90%{width:1px;height:1px;box-shadow:0 0 0 0 #666}to{width:1px;height:1px;box-shadow:0 0 0 3px #666}}@keyframes loading-bubbles-data-v-46b20d22{0%{width:1px;height:1px;box-shadow:0 0 0 3px #666}90%{width:1px;height:1px;box-shadow:0 0 0 0 #666}to{width:1px;height:1px;box-shadow:0 0 0 3px #666}}.loading-default[data-v-46b20d22]{position:relative;border:1px solid #999;-webkit-animation:loading-rotating-data-v-46b20d22 ease 1.5s infinite;animation:loading-rotating-data-v-46b20d22 ease 1.5s infinite}.loading-default[data-v-46b20d22]:before{content:"";position:absolute;display:block;top:0;left:50%;margin-top:-3px;margin-left:-3px;width:6px;height:6px;background-color:#999;border-radius:50%}.loading-spiral[data-v-46b20d22]{border:2px solid #777;border-right-color:transparent;-webkit-animation:loading-rotating-data-v-46b20d22 linear .85s infinite;animation:loading-rotating-data-v-46b20d22 linear .85s infinite}@-webkit-keyframes loading-rotating-data-v-46b20d22{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loading-rotating-data-v-46b20d22{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.loading-bubbles[data-v-46b20d22],.loading-circles[data-v-46b20d22]{position:relative}.loading-bubbles[data-v-46b20d22] .bubble-item,.loading-circles[data-v-46b20d22] .circle-item{position:absolute;top:50%;left:50%;display:inline-block;border-radius:50%}.loading-bubbles[data-v-46b20d22] .bubble-item:nth-child(2),.loading-circles[data-v-46b20d22] .circle-item:nth-child(2){-webkit-animation-delay:93ms;animation-delay:93ms}.loading-bubbles[data-v-46b20d22] .bubble-item:nth-child(3),.loading-circles[data-v-46b20d22] .circle-item:nth-child(3){-webkit-animation-delay:.186s;animation-delay:.186s}.loading-bubbles[data-v-46b20d22] .bubble-item:nth-child(4),.loading-circles[data-v-46b20d22] .circle-item:nth-child(4){-webkit-animation-delay:.279s;animation-delay:.279s}.loading-bubbles[data-v-46b20d22] .bubble-item:nth-child(5),.loading-circles[data-v-46b20d22] .circle-item:nth-child(5){-webkit-animation-delay:.372s;animation-delay:.372s}.loading-bubbles[data-v-46b20d22] .bubble-item:nth-child(6),.loading-circles[data-v-46b20d22] .circle-item:nth-child(6){-webkit-animation-delay:.465s;animation-delay:.465s}.loading-bubbles[data-v-46b20d22] .bubble-item:nth-child(7),.loading-circles[data-v-46b20d22] .circle-item:nth-child(7){-webkit-animation-delay:.558s;animation-delay:.558s}.loading-bubbles[data-v-46b20d22] .bubble-item:last-child,.loading-circles[data-v-46b20d22] .circle-item:last-child{-webkit-animation-delay:.651s;animation-delay:.651s}',""])},function(t,e,i){"use strict";i.r(e);var a=i(1),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e.default=n.a},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".infinite-loading-container[data-v-644ea9c9]{clear:both;text-align:center}.infinite-loading-container[data-v-644ea9c9] [class^=loading-]{display:inline-block;margin:5px 0;width:28px;height:28px;font-size:28px;line-height:28px;border-radius:50%}.btn-try-infinite[data-v-644ea9c9]{margin-top:5px;padding:5px 10px;color:#999;font-size:14px;line-height:1;background:transparent;border:1px solid #ccc;border-radius:3px;outline:none;cursor:pointer}.btn-try-infinite[data-v-644ea9c9]:not(:active):hover{opacity:.8}",""])},function(t,e,i){"use strict";i.r(e);var a={throttleLimit:50,loopCheckTimeout:1e3,loopCheckMaxCalls:10},n=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch(t){}return t}(),r={STATE_CHANGER:["emit `loaded` and `complete` event through component instance of `$refs` may cause error, so it will be deprecated soon, please use the `$state` argument instead (`$state` just the special `$event` variable):","\ntemplate:",'<infinite-loading @infinite="infiniteHandler"></infinite-loading>',"\nscript:\n...\ninfiniteHandler($state) {\n  ajax('https://www.example.com/api/news')\n    .then((res) => {\n      if (res.data.length) {\n        $state.loaded();\n      } else {\n        $state.complete();\n      }\n    });\n}\n...","","more details: https://github.com/PeachScript/vue-infinite-loading/issues/57#issuecomment-324370549"].join("\n"),INFINITE_EVENT:"`:on-infinite` property will be deprecated soon, please use `@infinite` event instead.",IDENTIFIER:"the `reset` event will be deprecated soon, please reset this component by change the `identifier` property."},s={INFINITE_LOOP:["executed the callback function more than ".concat(a.loopCheckMaxCalls," times for a short time, it looks like searched a wrong scroll wrapper that doest not has fixed height or maximum height, please check it. If you want to force to set a element as scroll wrapper ranther than automatic searching, you can do this:"),'\n\x3c!-- add a special attribute for the real scroll wrapper --\x3e\n<div infinite-wrapper>\n  ...\n  \x3c!-- set force-use-infinite-wrapper --\x3e\n  <infinite-loading force-use-infinite-wrapper></infinite-loading>\n</div>\nor\n<div class="infinite-wrapper">\n  ...\n  \x3c!-- set force-use-infinite-wrapper as css selector of the real scroll wrapper --\x3e\n  <infinite-loading force-use-infinite-wrapper=".infinite-wrapper"></infinite-loading>\n</div>\n    ',"more details: https://github.com/PeachScript/vue-infinite-loading/issues/55#issuecomment-316934169"].join("\n")},o={READY:0,LOADING:1,COMPLETE:2,ERROR:3},l={color:"#666",fontSize:"14px",padding:"10px 0"},c={mode:"development",props:{spinner:"default",distance:100,forceUseInfiniteWrapper:!1},system:a,slots:{noResults:"No results :(",noMore:"No more data :)",error:"Opps, something went wrong :(",errorBtnText:"Retry",spinner:""},WARNINGS:r,ERRORS:s,STATUS:o},d=i(4),u=i.n(d),p={BUBBLES:{render:function(t){return t("span",{attrs:{class:"loading-bubbles"}},Array.apply(Array,Array(8)).map((function(){return t("span",{attrs:{class:"bubble-item"}})})))}},CIRCLES:{render:function(t){return t("span",{attrs:{class:"loading-circles"}},Array.apply(Array,Array(8)).map((function(){return t("span",{attrs:{class:"circle-item"}})})))}},DEFAULT:{render:function(t){return t("i",{attrs:{class:"loading-default"}})}},SPIRAL:{render:function(t){return t("i",{attrs:{class:"loading-spiral"}})}},WAVEDOTS:{render:function(t){return t("span",{attrs:{class:"loading-wave-dots"}},Array.apply(Array,Array(5)).map((function(){return t("span",{attrs:{class:"wave-item"}})})))}}};function h(t,e,i,a,n,r,s,o){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),a&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=l):n&&(l=o?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}var f=h({name:"Spinner",computed:{spinnerView:function(){return p[(this.$attrs.spinner||"").toUpperCase()]||this.spinnerInConfig},spinnerInConfig:function(){return c.slots.spinner&&"string"==typeof c.slots.spinner?{render:function(){return this._v(c.slots.spinner)}}:"object"===u()(c.slots.spinner)?c.slots.spinner:p[c.props.spinner.toUpperCase()]||p.DEFAULT}}},(function(){var t=this.$createElement;return(this._self._c||t)(this.spinnerView,{tag:"component"})}),[],!1,(function(t){var e=i(5);e.__inject__&&e.__inject__(t)}),"46b20d22",null).exports;function v(t){"production"!==c.mode&&console.warn("[Vue-infinite-loading warn]: ".concat(t))}function m(t){console.error("[Vue-infinite-loading error]: ".concat(t))}var g={timers:[],caches:[],throttle:function(t){var e=this;-1===this.caches.indexOf(t)&&(this.caches.push(t),this.timers.push(setTimeout((function(){t(),e.caches.splice(e.caches.indexOf(t),1),e.timers.shift()}),c.system.throttleLimit)))},reset:function(){this.timers.forEach((function(t){clearTimeout(t)})),this.timers.length=0,this.caches=[]}},b={isChecked:!1,timer:null,times:0,track:function(){var t=this;this.times+=1,clearTimeout(this.timer),this.timer=setTimeout((function(){t.isChecked=!0}),c.system.loopCheckTimeout),this.times>c.system.loopCheckMaxCalls&&(m(s.INFINITE_LOOP),this.isChecked=!0)}},y={key:"_infiniteScrollHeight",getScrollElm:function(t){return t===window?document.documentElement:t},save:function(t){var e=this.getScrollElm(t);e[this.key]=e.scrollHeight},restore:function(t){var e=this.getScrollElm(t);"number"==typeof e[this.key]&&(e.scrollTop=e.scrollHeight-e[this.key]+e.scrollTop),this.remove(e)},remove:function(t){void 0!==t[this.key]&&delete t[this.key]}};function w(t){return t.replace(/[A-Z]/g,(function(t){return"-".concat(t.toLowerCase())}))}function k(t){return t.offsetWidth+t.offsetHeight>0}var x=h({name:"InfiniteLoading",data:function(){return{scrollParent:null,scrollHandler:null,isFirstLoad:!0,status:o.READY,slots:c.slots}},components:{Spinner:f},computed:{isShowSpinner:function(){return this.status===o.LOADING},isShowError:function(){return this.status===o.ERROR},isShowNoResults:function(){return this.status===o.COMPLETE&&this.isFirstLoad},isShowNoMore:function(){return this.status===o.COMPLETE&&!this.isFirstLoad},slotStyles:function(){var t=this,e={};return Object.keys(c.slots).forEach((function(i){var a=w(i);(!t.$slots[a]&&!c.slots[i].render||t.$slots[a]&&!t.$slots[a][0].tag)&&(e[i]=l)})),e}},props:{distance:{type:Number,default:c.props.distance},spinner:String,direction:{type:String,default:"bottom"},forceUseInfiniteWrapper:{type:[Boolean,String],default:c.props.forceUseInfiniteWrapper},identifier:{default:+new Date},onInfinite:Function},watch:{identifier:function(){this.stateChanger.reset()}},mounted:function(){var t=this;this.$watch("forceUseInfiniteWrapper",(function(){t.scrollParent=t.getScrollParent()}),{immediate:!0}),this.scrollHandler=function(e){t.status===o.READY&&(e&&e.constructor===Event&&k(t.$el)?g.throttle(t.attemptLoad):t.attemptLoad())},setTimeout((function(){t.scrollHandler(),t.scrollParent.addEventListener("scroll",t.scrollHandler,n)}),1),this.$on("$InfiniteLoading:loaded",(function(e){t.isFirstLoad=!1,"top"===t.direction&&t.$nextTick((function(){y.restore(t.scrollParent)})),t.status===o.LOADING&&t.$nextTick(t.attemptLoad.bind(null,!0)),e&&e.target===t||v(r.STATE_CHANGER)})),this.$on("$InfiniteLoading:complete",(function(e){t.status=o.COMPLETE,t.$nextTick((function(){t.$forceUpdate()})),t.scrollParent.removeEventListener("scroll",t.scrollHandler,n),e&&e.target===t||v(r.STATE_CHANGER)})),this.$on("$InfiniteLoading:reset",(function(e){t.status=o.READY,t.isFirstLoad=!0,y.remove(t.scrollParent),t.scrollParent.addEventListener("scroll",t.scrollHandler,n),setTimeout((function(){g.reset(),t.scrollHandler()}),1),e&&e.target===t||v(r.IDENTIFIER)})),this.stateChanger={loaded:function(){t.$emit("$InfiniteLoading:loaded",{target:t})},complete:function(){t.$emit("$InfiniteLoading:complete",{target:t})},reset:function(){t.$emit("$InfiniteLoading:reset",{target:t})},error:function(){t.status=o.ERROR,g.reset()}},this.onInfinite&&v(r.INFINITE_EVENT)},deactivated:function(){this.status===o.LOADING&&(this.status=o.READY),this.scrollParent.removeEventListener("scroll",this.scrollHandler,n)},activated:function(){this.scrollParent.addEventListener("scroll",this.scrollHandler,n)},methods:{attemptLoad:function(t){var e=this;this.status!==o.COMPLETE&&k(this.$el)&&this.getCurrentDistance()<=this.distance?(this.status=o.LOADING,"top"===this.direction&&this.$nextTick((function(){y.save(e.scrollParent)})),"function"==typeof this.onInfinite?this.onInfinite.call(null,this.stateChanger):this.$emit("infinite",this.stateChanger),!t||this.forceUseInfiniteWrapper||b.isChecked||b.track()):this.status===o.LOADING&&(this.status=o.READY)},getCurrentDistance:function(){var t;return t="top"===this.direction?"number"==typeof this.scrollParent.scrollTop?this.scrollParent.scrollTop:this.scrollParent.pageYOffset:this.$el.getBoundingClientRect().top-(this.scrollParent===window?window.innerHeight:this.scrollParent.getBoundingClientRect().bottom),t},getScrollParent:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$el;return"string"==typeof this.forceUseInfiniteWrapper&&(t=document.querySelector(this.forceUseInfiniteWrapper)),t||("BODY"===e.tagName?t=window:(!this.forceUseInfiniteWrapper&&["scroll","auto"].indexOf(getComputedStyle(e).overflowY)>-1||e.hasAttribute("infinite-wrapper")||e.hasAttribute("data-infinite-wrapper"))&&(t=e)),t||this.getScrollParent(e.parentNode)}},destroyed:function(){!this.status!==o.COMPLETE&&(g.reset(),y.remove(this.scrollParent),this.scrollParent.removeEventListener("scroll",this.scrollHandler,n))}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"infinite-loading-container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSpinner,expression:"isShowSpinner"}],staticClass:"infinite-status-prompt",style:t.slotStyles.spinner},[t._t("spinner",[i("spinner",{attrs:{spinner:t.spinner}})])],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowNoResults,expression:"isShowNoResults"}],staticClass:"infinite-status-prompt",style:t.slotStyles.noResults},[t._t("no-results",[t.slots.noResults.render?i(t.slots.noResults,{tag:"component"}):[t._v(t._s(t.slots.noResults))]])],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowNoMore,expression:"isShowNoMore"}],staticClass:"infinite-status-prompt",style:t.slotStyles.noMore},[t._t("no-more",[t.slots.noMore.render?i(t.slots.noMore,{tag:"component"}):[t._v(t._s(t.slots.noMore))]])],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowError,expression:"isShowError"}],staticClass:"infinite-status-prompt",style:t.slotStyles.error},[t._t("error",[t.slots.error.render?i(t.slots.error,{tag:"component",attrs:{trigger:t.attemptLoad}}):[t._v("\n        "+t._s(t.slots.error)+"\n        "),i("br"),t._v(" "),i("button",{staticClass:"btn-try-infinite",domProps:{textContent:t._s(t.slots.errorBtnText)},on:{click:t.attemptLoad}})]],{trigger:t.attemptLoad})],2)])}),[],!1,(function(t){var e=i(7);e.__inject__&&e.__inject__(t)}),"644ea9c9",null).exports;function _(t){c.mode=t.config.productionTip?"development":"production"}Object.defineProperty(x,"install",{configurable:!1,enumerable:!1,value:function(t,e){Object.assign(c.props,e&&e.props),Object.assign(c.slots,e&&e.slots),Object.assign(c.system,e&&e.system),t.component("infinite-loading",x),_(t)}}),"undefined"!=typeof window&&window.Vue&&(window.Vue.component("infinite-loading",x),_(window.Vue)),e.default=x}])}))},e4bb:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fill-height",attrs:{id:"history"}},[i("v-container",{staticClass:"pt-0 pb-0 fill-height",attrs:{fluid:""}},[i("v-row",{staticClass:"fill-height"},[i("v-col",{staticClass:"pt-8 pl-8",attrs:{cols:"12",sm:"12",order:"2","order-sm":"2","order-md":"1","order-lg":"1",md:"7",lg:"7"}},[i("h1",{staticClass:"title font-weight-medium pb-5"},[t._v(t._s(t.historyType))]),"Watch History"==t.historyType?[t.histories.length<=0&&!t.loading?[i("p",{staticClass:"text-center body-1"},[t._v("No watch history yet.")])]:t._e(),i("section",[t._l(t.loading?12:t.histories,(function(e,a){return i("div",{key:a,staticClass:"mb-5"},[i("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"list-item-avatar-three-line",loading:t.loading,tile:"",large:""}},[i("v-card",{staticClass:"card",attrs:{tile:"",flat:""}},[e.videoId?i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{staticClass:"mx-auto",attrs:{cols:"3",sm:"3",md:"5",lg:"5"}},[i("v-img",{staticClass:"align-center",attrs:{src:t.getUrl+"/uploads/thumbnails/"+e.videoId.thumbnailUrl}})],1),i("v-col",[i("div",{staticClass:"ml-2"},[i("v-card-title",{staticClass:"pl-2 pt-0 subtitle-1 font-weight-bold d-flex justify-space-between",staticStyle:{"line-height":"1"}},[t._v(" "+t._s(e.videoId.title)+" "),i("v-btn",{attrs:{text:""},on:{click:function(i){return t.deleteHistory(e._id)}}},[i("v-icon",[t._v("mdi-close")])],1)],1),i("v-card-subtitle",{staticClass:"pl-2 pt-2 pb-0",staticStyle:{"line-height":"1"}},[t._v(" "+t._s(e.userId.channelName)),i("v-icon",[t._v("mdi-circle-small")]),t._v(t._s(e.videoId.views)+" views ")],1),i("v-card-subtitle",{staticClass:"pl-2 pt-2 pb-0"},[t._v(" "+t._s(e.videoId.description)+" ")])],1)])],1):t._e()],1)],1)],1)})),i("infinite-loading",{attrs:{identifier:t.infiniteId},on:{infinite:t.getHistories},scopedSlots:t._u([{key:"error",fn:function(e){var a=e.trigger;return i("div",{},[i("v-alert",{attrs:{prominent:"",type:"error"}},[i("v-row",{attrs:{align:"center"}},[i("v-col",{staticClass:"grow"},[i("div",{staticClass:"title"},[t._v("Error!")]),i("div",[t._v(" Something went wrong, but don’t fret — let’s give it another shot. ")])]),i("v-col",{staticClass:"shrink"},[i("v-btn",{on:{click:a}},[t._v("Take action")])],1)],1)],1)],1)}}],null,!1,2497732993)},[i("div",{attrs:{slot:"spinner"},slot:"spinner"},[i("v-progress-circular",{attrs:{indeterminate:"",color:"red"}})],1),i("div",{attrs:{slot:"no-results"},slot:"no-results"}),i("span",{attrs:{slot:"no-more"},slot:"no-more"})])],2)]:[t.histories.length<=0&&!t.loading?[i("p",{staticClass:"text-center body-1"},[t._v("No search history yet.")])]:t._e(),i("div",[t._l(t.loading?12:t.histories,(function(e,a){return i("div",{key:a},[i("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"list-item-two-line",loading:t.loading,tile:"",large:""}},[i("v-card",{staticClass:"card d-flex pl-0",attrs:{flat:""}},[i("v-card-text",{staticClass:"pl-0 py-0"},[i("v-card-title",{staticClass:"pl-0 black--text text--lighten-5 subtitle-1 font-weight-medium"},[t._v(t._s(e.searchText))]),i("v-card-subtitle",{staticClass:"pl-0 pb-0"},[t._v(t._s(t.dateFormatter(e.createdAt)))])],1),i("v-card-actions",[i("v-btn",{staticClass:"grey--text",attrs:{text:"",fab:""},on:{click:function(i){return t.deleteHistory(e._id)}}},[i("v-icon",[t._v("mdi-close")])],1)],1)],1)],1)],1)})),i("infinite-loading",{attrs:{identifier:t.infiniteId},on:{infinite:t.getHistories},scopedSlots:t._u([{key:"error",fn:function(e){var a=e.trigger;return i("div",{},[i("v-alert",{attrs:{prominent:"",type:"error"}},[i("v-row",{attrs:{align:"center"}},[i("v-col",{staticClass:"grow"},[i("div",{staticClass:"title"},[t._v("Error!")]),i("div",[t._v(" Something went wrong, but don’t fret — let’s give it another shot. ")])]),i("v-col",{staticClass:"shrink"},[i("v-btn",{on:{click:a}},[t._v("Take action")])],1)],1)],1)],1)}}])},[i("div",{attrs:{slot:"spinner"},slot:"spinner"},[i("v-progress-circular",{attrs:{indeterminate:"",color:"red"}})],1),i("div",{attrs:{slot:"no-results"},slot:"no-results"}),i("span",{attrs:{slot:"no-more"},slot:"no-more"})])],2)]],2),i("v-col",{class:["pa-0",{"fill-height":!!t.$vuetify.breakpoint.name.smAndDown}],attrs:{cols:"12",sm:"12",order:"1","order-sm":"1","order-md":"2","order-lg":"2",md:"5",lg:"5"}},[i("v-card",{staticClass:"fill-height grey lighten-4 pa-10",attrs:{flat:"",id:"card-radiobox"}},[i("v-radio-group",{model:{value:t.historyType,callback:function(e){t.historyType=e},expression:"historyType"}},[i("p",{staticClass:"title font-weight-regular pl-5 mb-2"},[t._v("History Type")]),i("v-list",{staticClass:" grey lighten-4"},[i("v-list-item-group",[t._l(t.items,(function(e,a){return[i("v-divider",{key:a}),i("v-list-item",{key:"item-"+a,staticClass:"py-2",attrs:{"active-class":"grey lighten-4"},on:{click:function(i){return t.clickItem(e)}}},[i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(e)}})],1),i("v-list-item-action",[i("v-radio",{key:e,attrs:{value:e}})],1)],1)]}))],2)],1),i("div",[i("v-btn",{attrs:{text:"",loading:t.clearLoading},on:{click:t.clearHistory}},[t._v("Clear all "+t._s(t.historyType))])],1)],1)],1)],1)],1)],1),i("v-snackbar",{model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.deleteMessage)+" "),i("v-btn",{attrs:{color:"white",text:"",icon:""},on:{click:function(e){t.snackbar=!1}}},[i("v-icon",[t._v("mdi-close-circle")])],1)],1)],1)},n=[],r=i("2909"),s=i("1da1"),o=i("5530"),l=(i("96cf"),i("d3b7"),i("4de4"),i("25f0"),i("c1df")),c=i.n(l),d=i("2f62"),u=i("801c"),p=i("e166"),h=i.n(p),f={data:function(){return{loading:!1,loaded:!1,errored:!1,snackbar:!1,deleteMessage:"",items:["Watch History","Search History"],historyType:"Watch History",histories:[],page:1,infiniteId:+new Date,clearLoading:!1}},computed:Object(o["a"])({},Object(d["b"])(["currentUser","getUrl"])),methods:{getHistories:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a,n,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.errored=!1,e.loaded||(e.loading=!0),a={page:e.page,type:"Watch History"===e.historyType?"watch":"search"},i.next=5,u["a"].getAll(a).catch((function(t){e.errored=!0,console.log(t)})).finally((function(){e.loading=!1}));case 5:if(n=i.sent,n){i.next=8;break}return i.abrupt("return");case 8:n.data.data.length?(e.page+=1,(s=e.histories).push.apply(s,Object(r["a"])(n.data.data)),t&&t.loaded(),e.loaded=!0):t&&t.complete();case 9:case"end":return i.stop()}}),i)})))()},clearHistory:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.clearLoading=!0,i="Watch History"===t.historyType?"watch":"search",e.next=4,u["a"].deleteAll(i).catch((function(t){console.log(t)})).finally((function(){t.histories=t.histories.filter((function(t){return t.type!==i})),t.clearLoading=!1,t.deleteMessage="".concat(t.historyType," Cleared Successfully"),t.snackbar=!0}));case 4:case"end":return e.stop()}}),e)})))()},deleteHistory:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.histories=e.histories.filter((function(e){return e._id.toString()!==t.toString()})),i.next=3,u["a"].deleteById(t).catch((function(t){console.log(t)})).finally((function(){e.deleteMessage="History Deleted Successfully",e.snackbar=!0}));case 3:case"end":return i.stop()}}),i)})))()},clickItem:function(t){this.historyType=t,this.page=1,this.histories=[],this.infiniteId+=1},dateFormatter:function(t){return c()(t).fromNow()}},components:{InfiniteLoading:h.a},mounted:function(){this.getHistories()}},v=f,m=i("2877"),g=i("6544"),b=i.n(g),y=i("0798"),w=i("8336"),k=i("b0af"),x=i("99d9"),_=i("62ad"),C=i("a523"),S=i("ce7e"),V=i("132d"),I=i("adda"),T=i("8860"),O=i("da13"),R=i("1800"),L=i("5d23"),E=i("1baa"),D=i("490a"),j=i("15fd"),A=(i("b0c0"),i("2c64"),i("ba87")),$=i("9d26"),N=i("c37a"),P=i("7e2b"),U=i("a9ad"),B=i("4e82"),M=i("5607"),H=i("2b0e"),F=H["default"].extend({name:"rippleable",directives:{ripple:M["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}}),Y=i("7560"),G=i("8547"),W=i("58df");function q(t){t.preventDefault()}var z=Object(W["a"])(N["a"],F,G["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,i=this.internalValue;return this.isMultiple?!!Array.isArray(i)&&i.some((function(i){return t.valueComparator(i,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,i):Boolean(i):this.valueComparator(i,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=N["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:q},t):t},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:q},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(t){this.onChange(),this.$emit("click",t)},onChange:function(){var t=this;if(this.isInteractive){var e=this.value,i=this.internalValue;if(this.isMultiple){Array.isArray(i)||(i=[]);var a=i.length;i=i.filter((function(i){return!t.valueComparator(i,e)})),i.length===a&&i.push(e)}else i=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(i,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(i,e)?null:e:!i;this.validate(!0,i),this.internalValue=i,this.hasColor=i}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}}),K=i("80d2"),J=i("d9f7"),X=["title"],Z=Object(W["a"])(P["a"],U["a"],F,Object(B["a"])("radioGroup"),Y["a"]),Q=Z.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return Object(o["a"])(Object(o["a"])({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return z.options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return N["a"].options.computed.computedId.call(this)},hasLabel:N["a"].options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return z.options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(t){return z.options.methods.genInput.call(this,"radio",t)},genLabel:function(){return this.hasLabel?this.$createElement(A["a"],{on:{click:q},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(K["s"])(this,"label")||this.label):null},genRadio:function(){var t=this.attrs$,e=(t.title,Object(j["a"])(t,X));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement($["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(Object(o["a"])({name:this.computedName,value:this.value},e)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(t){var e={staticClass:"v-radio",class:this.classes,on:Object(J["c"])({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return t("div",e,[this.genRadio(),this.genLabel()])}}),tt=(i("a9e3"),i("ec29"),i("3d86"),i("604c")),et=Object(W["a"])(G["a"],tt["a"],N["a"]),it=et.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return Object(o["a"])(Object(o["a"])({},N["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},N["a"].options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var t=N["a"].options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel:function(){var t=N["a"].options.methods.genLabel.call(this);return t?(t.data.attrs.id=this.computedId,delete t.data.attrs.for,t.tag="legend",t):null},onClick:tt["a"].options.methods.onClick},render:function(t){var e=N["a"].options.render.call(this,t);return this._b(e.data,"div",this.attrs$),e}}),at=i("0fd9"),nt=i("3129"),rt=i("2db4"),st=Object(m["a"])(v,a,n,!1,null,"4b599428",null);e["default"]=st.exports;b()(st,{VAlert:y["a"],VBtn:w["a"],VCard:k["a"],VCardActions:x["a"],VCardSubtitle:x["b"],VCardText:x["c"],VCardTitle:x["d"],VCol:_["a"],VContainer:C["a"],VDivider:S["a"],VIcon:V["a"],VImg:I["a"],VList:T["a"],VListItem:O["a"],VListItemAction:R["a"],VListItemContent:L["a"],VListItemGroup:E["a"],VListItemTitle:L["c"],VProgressCircular:D["a"],VRadio:Q,VRadioGroup:it,VRow:at["a"],VSkeletonLoader:nt["a"],VSnackbar:rt["a"]})},e63d:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pa-4 pl-0",attrs:{id:"video"}},[i("h2",[t._v("channel videos")]),i("v-tabs",{staticClass:"mt-5",attrs:{id:"tab"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab",[t._v(" Uploads ")]),i("v-tab",[t._v(" Live ")])],1),i("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab-item",[[i("v-card",{attrs:{flat:""}},[i("v-card-title",[i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Filter","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),i("v-data-table",{attrs:{"no-data-text":"No videos available, please upload video.",headers:t.headers,items:t.videos,search:t.search,loading:t.loading,"loading-text":"Loading... Please wait"},scopedSlots:t._u([{key:"item.feelings",fn:function(e){var a=e.item;return[i("span",{staticClass:"mr-3"},[i("v-icon",{staticClass:"pr-1",attrs:{small:""}},[t._v("mdi-thumb-up")]),t._v(t._s(a.likes))],1),i("span",[i("v-icon",{staticClass:"pr-1",attrs:{small:""}},[t._v("mdi-thumb-down")]),t._v(t._s(a.dislikes))],1)]}},{key:"top",fn:function(){return[i("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[t._v("Permanently delete this video?")])]),i("v-card-text",[i("v-container",[i("v-card",{staticClass:"card",attrs:{tile:"",flat:""}},[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"3",sm:"2",md:"5",lg:"5"}},[i("v-img",{staticClass:"align-center",attrs:{src:t.url+"/uploads/thumbnails/"+t.itemToDelete.thumbnailUrl}})],1),i("v-col",[i("div",{staticClass:"ml-2"},[i("v-card-title",{staticClass:"pl-2 subtitle-1 font-weight-bold",staticStyle:{"line-height":"1"}},[t._v(" "+t._s(t.itemToDelete.title)+" ")]),i("v-card-subtitle",{staticClass:"pl-2 pt-2 pb-0",staticStyle:{"line-height":"1"}},[t._v(" Published "+t._s(t.dateFormatter(t.itemToDelete.createdAt))+" "),i("br"),t._v(" "+t._s(t.itemToDelete.views)+" views ")])],1)])],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialogDelete=!t.dialogDelete}}},[t._v("Cancel")]),i("v-btn",{attrs:{loading:t.deleteBtnLoading,color:"blue darken-1",text:""},on:{click:t.deleteItem}},[t._v("Delete Forever")])],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[i("v-btn",{staticClass:"mr-2",attrs:{icon:"",href:"",text:""}},[i("v-icon",{on:{click:function(e){return t.editItem(a)}}},[t._v(" mdi-pencil ")])],1),i("v-btn",{staticClass:"mr-2",attrs:{icon:"",href:"",text:"",router:"",to:"/watch/"+a._id}},[i("v-icon",[t._v(" mdi-youtube ")])],1),i("v-btn",{attrs:{icon:"",text:""},on:{click:function(e){return e.stopPropagation(),t.deleteBtn(a)}}},[i("v-icon",[t._v(" mdi-delete ")])],1)]}}])})],1)]],2),i("v-tab-item",[t._v(" live ")])],1),i("v-snackbar",{model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" Video deleted successfully "),i("v-btn",{attrs:{color:"white",text:"",icon:""},on:{click:function(e){t.snackbar=!1}}},[i("v-icon",[t._v("mdi-close-circle")])],1)],1)],1)},n=[],r=i("1da1"),s=(i("96cf"),i("d3b7"),i("4de4"),i("7b4e")),o=i("c1df"),l=i.n(o),c={data:function(){return{loading:!1,deleteBtnLoading:!1,snackbar:!1,dialogDelete:!1,tab:null,search:"",url:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_URL,headers:[{text:"Video",align:"start",value:"title"},{text:"Visibility",value:"status"},{text:"Views",value:"views"},{text:"Comments",value:"comments"},{text:"Likes (vs. dislikes)",value:"feelings"},{text:"Actions",value:"actions",sortable:!1}],videos:[],itemToDelete:{}}},methods:{getVideos:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,s["a"].getAll("private",{limit:0}).catch((function(t){console.log(t)})).finally((function(){return t.loading=!1}));case 3:if(i=e.sent,i){e.next=6;break}return e.abrupt("return");case 6:t.videos=i.data.data;case 7:case"end":return e.stop()}}),e)})))()},editItem:function(t){this.$router.push({name:"Detail",params:{id:t.id}})},deleteBtn:function(t){this.dialogDelete=!0,this.itemToDelete=t},deleteItem:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.deleteBtnLoading=!0,e.next=3,s["a"].deleteById(t.itemToDelete._id).catch((function(t){return console.log(t)})).finally((function(){t.videos=t.videos.filter((function(e){return t.itemToDelete.id!==e.id})),t.deleteBtnLoading=!1,t.dialogDelete=!1,t.itemToDelete={},t.snackbar=!0}));case 3:case"end":return e.stop()}}),e)})))()},dateFormatter:function(t){return l()(t).fromNow()}},mounted:function(){this.getVideos()},beforeRouteUpdate:function(t,e,i){this.getVideos(),i()}},d=c,u=(i("3f2f"),i("2877")),p=i("6544"),h=i.n(p),f=i("8336"),v=i("b0af"),m=i("99d9"),g=i("62ad"),b=i("a523"),y=i("8fea"),w=i("169a"),k=i("132d"),x=i("adda"),_=i("0fd9"),C=i("2db4"),S=i("2fa4"),V=i("71a3"),I=i("c671"),T=i("fe57"),O=i("aac8"),R=i("8654"),L=Object(u["a"])(d,a,n,!1,null,null,null);e["default"]=L.exports;h()(L,{VBtn:f["a"],VCard:v["a"],VCardActions:m["a"],VCardSubtitle:m["b"],VCardText:m["c"],VCardTitle:m["d"],VCol:g["a"],VContainer:b["a"],VDataTable:y["a"],VDialog:w["a"],VIcon:k["a"],VImg:x["a"],VRow:_["a"],VSnackbar:C["a"],VSpacer:S["a"],VTab:V["a"],VTabItem:I["a"],VTabs:T["a"],VTabsItems:O["a"],VTextField:R["a"]})},ec29:function(t,e,i){}}]);